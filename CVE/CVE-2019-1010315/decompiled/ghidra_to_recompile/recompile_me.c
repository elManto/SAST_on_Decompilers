#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>


typedef unsigned char   undefined;

typedef unsigned char    byte;
typedef unsigned char    dwfenc;
typedef unsigned int    dword;
typedef unsigned long    qword;
typedef unsigned char    uchar;
typedef unsigned int    uint;
typedef unsigned long    ulong;
typedef unsigned char    undefined1;
typedef unsigned short    undefined2;
typedef unsigned int    undefined4;
typedef unsigned long    undefined8;
typedef unsigned short    ushort;
typedef unsigned short    word;



long DAT_003190d8;
long DAT_00319094;
long DAT_003190cc;
long DAT_0031906c;
long DAT_00319060;
long DAT_003190bc;
long DAT_00112cea;
long DAT_003190c0;
long DAT_003190ac;
long DAT_003190b4;
long _DAT_00319068;
long DAT_003190c8;
long DAT_00319070;
long DAT_003190a0;
long DAT_003190d0;
long DAT_003190b0;
long DAT_00112cdd;
long DAT_0031909c;
long DAT_00319098;
long PTR_DAT_00318220;
long DAT_00319080;
long DAT_003190a8;
long DAT_003190a4;
long DAT_003190b8;
long DAT_003190c4;
long DAT_00115c20;
long DAT_00112a41;
long _local_268;
long _local_248;
long DAT_00112bb1;

long DAT_00116bd1;
long DAT_00112a24;
long DAT_003188e0;
long PTR_DAT_003188f0;
long PTR_FUN_003188f8;
long DAT_00318900;
long __errfunc;
long DAT_00112f48;
long _local_68;
long _local_58;
long DAT_00115e0c;
long DAT_00115e2e;
long DAT_00115e31;
long DAT_00115e3b;
long DAT_00115e60;
long DAT_00115e36;
long DAT_00116290;
long DAT_0011646c;
long DAT_00116470;
long DAT_00116473;
long DAT_00116485;
long DAT_0011647a;
long DAT_003182f0;
long DAT_00116478;
long DAT_00116480;
long DAT_00115e2f;
long DAT_0011647c;
long DAT_00112f64;
long DAT_00116b5d;
long DAT_00116b61;
long DAT_00116b83;
long DAT_00116b88;
long DAT_00116b8d;
long DAT_00116bab;
long DAT_00116c11;
long DAT_00116bb0;
long DAT_00116bb5;
long DAT_00116bba;
long DAT_00116bbf;
long DAT_00116bc4;
long DAT_00116bc9;
long DAT_00116bce;
long DAT_00116bd3;
long DAT_00116c2d;
long DAT_00116c31;
long DAT_00116c35;
long DAT_00116e78;
long DAT_001170c0;
long DAT_003190d4;
long DAT_001170ce;
long DAT_001170d3;
long DAT_001170d7;
long stack0x00000008;
long DAT_001170da;
long DAT_00112f20;
long DAT_00117142;
long DAT_00117152;
long PTR_s_Album_00318748;
long DAT_003188e8;
long __DT_INIT_ARRAY;
































typedef struct eh_frame_hdr eh_frame_hdr, *Peh_frame_hdr;

struct eh_frame_hdr {
    byte eh_frame_hdr_version; // Exception Handler Frame Header Version
    dwfenc eh_frame_pointer_encoding; // Exception Handler Frame Pointer Encoding
    dwfenc eh_frame_desc_entry_count_encoding; // Encoding of # of Exception Handler FDEs
    dwfenc eh_frame_table_encoding; // Exception Handler Table Encoding
};

typedef struct fde_table_entry fde_table_entry, *Pfde_table_entry;

struct fde_table_entry {
    dword initial_loc; // Initial Location
    dword data_loc; // Data location
};

typedef void _IO_lock_t;

typedef struct _IO_marker _IO_marker, *P_IO_marker;

typedef struct _IO_FILE _IO_FILE, *P_IO_FILE;

typedef long __off_t;

typedef long __off64_t;

typedef ulong size_t;

//struct _IO_FILE {
//    int _flags;
//    char * _IO_read_ptr;
//    char * _IO_read_end;
//    char * _IO_read_base;
//    char * _IO_write_base;
//    char * _IO_write_ptr;
//    char * _IO_write_end;
//    char * _IO_buf_base;
//    char * _IO_buf_end;
//    char * _IO_save_base;
//    char * _IO_backup_base;
//    char * _IO_save_end;
//    struct _IO_marker * _markers;
//    struct _IO_FILE * _chain;
//    int _fileno;
//    int _flags2;
//    __off_t _old_offset;
//    ushort _cur_column;
//    char _vtable_offset;
//    char _shortbuf[1];
//    _IO_lock_t * _lock;
//    __off64_t _offset;
//    void * __pad1;
//    void * __pad2;
//    void * __pad3;
//    void * __pad4;
//    size_t __pad5;
//    int _mode;
//    char _unused2[15];
//};
//
//struct _IO_marker {
//    struct _IO_marker * _next;
//    struct _IO_FILE * _sbuf;
//    int _pos;
//};
//
typedef struct stat stat, *Pstat;

typedef ulong __dev_t;

typedef ulong __ino_t;

typedef ulong __nlink_t;

typedef uint __mode_t;

typedef uint __uid_t;

typedef uint __gid_t;

typedef long __blksize_t;

typedef long __blkcnt_t;

typedef struct timespec timespec, *Ptimespec;

typedef long __time_t;

//struct timespec {
//    __time_t tv_sec;
//    long tv_nsec;
//};

struct stat {
    __dev_t st_dev;
    __ino_t st_ino;
    __nlink_t st_nlink;
    __mode_t st_mode;
    __uid_t st_uid;
    __gid_t st_gid;
    int __pad0;
    __dev_t st_rdev;
    __off_t st_size;
    __blksize_t st_blksize;
    __blkcnt_t st_blocks;
    struct timespec st_atim;
    struct timespec st_mtim;
    struct timespec st_ctim;
    long __unused[3];
};

typedef struct timeval timeval, *Ptimeval;

typedef long __suseconds_t;

//struct timeval {
//    __time_t tv_sec;
//    __suseconds_t tv_usec;
//};

typedef struct timezone timezone, *Ptimezone;

typedef struct timezone * __timezone_ptr_t;

struct timezone {
    int tz_minuteswest;
    int tz_dsttime;
};

typedef struct sigaction sigaction, *Psigaction;

typedef union _union_1454 _union_1454, *P_union_1454;

typedef struct siginfo siginfo, *Psiginfo;

typedef struct siginfo siginfo_t;

//typedef struct __sigset_t __sigset_t, *P__sigset_t;

typedef void (* __sighandler_t)(int);

typedef union _union_1438 _union_1438, *P_union_1438;

typedef struct _struct_1439 _struct_1439, *P_struct_1439;

typedef struct _struct_1440 _struct_1440, *P_struct_1440;

typedef struct _struct_1441 _struct_1441, *P_struct_1441;

typedef struct _struct_1442 _struct_1442, *P_struct_1442;

typedef struct _struct_1443 _struct_1443, *P_struct_1443;

typedef struct _struct_1444 _struct_1444, *P_struct_1444;

typedef int __pid_t;

typedef union sigval sigval, *Psigval;

typedef union sigval sigval_t;

typedef long __clock_t;

struct _struct_1444 {
    long si_band;
    int si_fd;
};

struct _struct_1443 {
    void * si_addr;
};

struct _struct_1442 {
    __pid_t si_pid;
    __uid_t si_uid;
    int si_status;
    __clock_t si_utime;
    __clock_t si_stime;
};

union sigval {
    int sival_int;
    void * sival_ptr;
};

struct _struct_1441 {
    __pid_t si_pid;
    __uid_t si_uid;
    sigval_t si_sigval;
};

struct __sigset_t {
    ulong __val[128];
};

struct _struct_1440 {
    int si_tid;
    int si_overrun;
    sigval_t si_sigval;
};

struct _struct_1439 {
    __pid_t si_pid;
    __uid_t si_uid;
};

union _union_1438 {
    int _pad[124];
    struct _struct_1439 _kill;
    struct _struct_1440 _timer;
    struct _struct_1441 _rt;
    struct _struct_1442 _sigchld;
    struct _struct_1443 _sigfault;
    struct _struct_1444 _sigpoll;
};

struct siginfo {
    int si_signo;
    int si_errno;
    int si_code;
    union _union_1438 _sifields;
};

union _union_1454 {
    __sighandler_t sa_handler;
    void (* sa_sigaction)(int, siginfo_t *, void *);
};

struct sigaction {
    union _union_1454 __sigaction_handler;
    struct __sigset_t sa_mask;
    int sa_flags;
    void (* sa_restorer)(void);
};

//typedef struct _IO_FILE FILE;

//typedef struct __sigset_t sigset_t;

typedef int __int32_t;

typedef struct MD5state_st MD5state_st, *PMD5state_st;

typedef struct MD5state_st MD5_CTX;

struct MD5state_st {
    uint A;
    uint B;
    uint C;
    uint D;
    uint Nl;
    uint Nh;
    uint data[16];
    uint num;
};

typedef struct dirent dirent, *Pdirent;

struct dirent {
    __ino_t d_ino;
    __off_t d_off;
    ushort d_reclen;
    uchar d_type;
    char d_name[256];
};

typedef void * iconv_t;

typedef struct glob_t glob_t, *Pglob_t;

struct glob_t {
    size_t gl_pathc;
    char * * gl_pathv;
    size_t gl_offs;
    int gl_flags;
    void (* gl_closedir)(void *);
    dirent * (* gl_readdir)(void *);
    void * (* gl_opendir)(char *);
    int (* gl_lstat)(char *, struct stat *);
    int (* gl_stat)(char *, struct stat *);
};

typedef struct Elf64_Phdr Elf64_Phdr, *PElf64_Phdr;

typedef enum Elf_ProgramHeaderType {
    PT_GNU_STACK=1685382481,
    PT_NOTE=4,
    PT_INTERP=3,
    PT_PHDR=6,
    PT_LOAD=1,
    PT_NULL=0,
    PT_DYNAMIC=2,
    PT_SHLIB=5,
    PT_GNU_EH_FRAME=1685382480,
    PT_GNU_RELRO=1685382482,
    PT_TLS=7
} Elf_ProgramHeaderType;

struct Elf64_Phdr {
    enum Elf_ProgramHeaderType p_type;
    dword p_flags;
    qword p_offset;
    qword p_vaddr;
    qword p_paddr;
    qword p_filesz;
    qword p_memsz;
    qword p_align;
};

typedef enum Elf64_DynTag {
    DT_INIT_ARRAY=25,
    DT_CONFIG=1879047930,
    DT_RELASZ=8,
    DT_INIT=12,
    DT_HASH=4,
    DT_NULL=0,
    DT_GNU_CONFLICT=1879047928,
    DT_FLAGS=30,
    DT_AUXILIARY=2147483645,
    DT_GNU_HASH=1879047925,
    DT_DEBUG=21,
    DT_RELCOUNT=1879048186,
    DT_RELR=36,
    DT_FEATURE_1=1879047676,
    DT_FILTER=2147483647,
    DT_RELENT=19,
    DT_REL=17,
    DT_DEPAUDIT=1879047931,
    DT_RUNPATH=29,
    DT_GNU_PRELINKED=1879047669,
    DT_POSFLAG_1=1879047677,
    DT_VERDEF=1879048188,
    DT_ANDROID_RELRENT=1879040003,
    DT_MOVETAB=1879047934,
    DT_RPATH=15,
    DT_RELACOUNT=1879048185,
    DT_RELSZ=18,
    DT_SYMINSZ=1879047678,
    DT_VERNEED=1879048190,
    DT_ANDROID_RELASZ=1610612754,
    DT_FINI_ARRAY=26,
    DT_TEXTREL=22,
    DT_ANDROID_RELSZ=1610612752,
    DT_GNU_CONFLICTSZ=1879047670,
    DT_VERNEEDNUM=1879048191,
    DT_STRTAB=5,
    DT_NEEDED=1,
    DT_PLTPADSZ=1879047673,
    DT_ANDROID_REL=1610612751,
    DT_FLAGS_1=1879048187,
    DT_ANDROID_RELR=1879040000,
    DT_SYMINFO=1879047935,
    DT_SYMTAB=6,
    DT_TLSDESC_GOT=1879047927,
    DT_JMPREL=23,
    DT_ANDROID_RELA=1610612753,
    DT_SYMINENT=1879047679,
    DT_SONAME=14,
    DT_FINI=13,
    DT_MOVEENT=1879047674,
    DT_RELRENT=37,
    DT_FINI_ARRAYSZ=28,
    DT_PREINIT_ARRAYSZ=33,
    DT_VERSYM=1879048176,
    DT_MOVESZ=1879047675,
    DT_RELAENT=9,
    DT_PLTRELSZ=2,
    DT_RELA=7,
    DT_VERDEFNUM=1879048189,
    DT_PLTREL=20,
    DT_CHECKSUM=1879047672,
    DT_TLSDESC_PLT=1879047926,
    DT_PLTPAD=1879047933,
    DT_RELRSZ=35,
    DT_BIND_NOW=24,
    DT_PREINIT_ARRAY=32,
    DT_SYMBOLIC=16,
    DT_GNU_LIBLIST=1879047929,
    DT_PLTGOT=3,
    DT_STRSZ=10,
    DT_GNU_LIBLISTSZ=1879047671,
    DT_INIT_ARRAYSZ=27,
    DT_AUDIT=1879047932,
    DT_SYMENT=11,
    DT_ANDROID_RELRSZ=1879040001
} Elf64_DynTag;

typedef struct Elf64_Shdr Elf64_Shdr, *PElf64_Shdr;

typedef enum Elf_SectionHeaderType {
    SHT_SYMTAB=2,
    SHT_GNU_versym=1879048191,
    SHT_GNU_verdef=1879048189,
    SHT_GNU_LIBLIST=1879048183,
    SHT_FINI_ARRAY=15,
    SHT_GROUP=17,
    SHT_CHECKSUM=1879048184,
    SHT_SHLIB=10,
    SHT_ANDROID_RELA=1610612738,
    SHT_NOBITS=8,
    SHT_GNU_HASH=1879048182,
    SHT_REL=9,
    SHT_SYMTAB_SHNDX=18,
    SHT_HASH=5,
    SHT_PROGBITS=1,
    SHT_ANDROID_REL=1610612737,
    SHT_NULL=0,
    SHT_GNU_verneed=1879048190,
    SHT_INIT_ARRAY=14,
    SHT_NOTE=7,
    SHT_PREINIT_ARRAY=16,
    SHT_STRTAB=3,
    SHT_RELA=4,
    SHT_SUNW_COMDAT=1879048187,
    SHT_GNU_ATTRIBUTES=1879048181,
    SHT_DYNSYM=11,
    SHT_SUNW_syminfo=1879048188,
    SHT_DYNAMIC=6,
    SHT_SUNW_move=1879048186
} Elf_SectionHeaderType;

struct Elf64_Shdr {
    dword sh_name;
    enum Elf_SectionHeaderType sh_type;
    qword sh_flags;
    qword sh_addr;
    qword sh_offset;
    qword sh_size;
    dword sh_link;
    dword sh_info;
    qword sh_addralign;
    qword sh_entsize;
};

typedef struct Elf64_Rela Elf64_Rela, *PElf64_Rela;

struct Elf64_Rela {
    qword r_offset; // location to apply the relocation action
    qword r_info; // the symbol table index and the type of relocation
    qword r_addend; // a constant addend used to compute the relocatable field value
};

typedef struct Elf64_Dyn Elf64_Dyn, *PElf64_Dyn;

struct Elf64_Dyn {
    enum Elf64_DynTag d_tag;
    qword d_val;
};

typedef struct Elf64_Sym Elf64_Sym, *PElf64_Sym;

struct Elf64_Sym {
    dword st_name;
    byte st_info;
    byte st_other;
    word st_shndx;
    qword st_value;
    qword st_size;
};

typedef struct Elf64_Ehdr Elf64_Ehdr, *PElf64_Ehdr;

struct Elf64_Ehdr {
    byte e_ident_magic_num;
    char e_ident_magic_str[3];
    byte e_ident_class;
    byte e_ident_data;
    byte e_ident_version;
    byte e_ident_osabi;
    byte e_ident_abiversion;
    byte e_ident_pad[7];
    word e_type;
    word e_machine;
    dword e_version;
    qword e_entry;
    qword e_phoff;
    qword e_shoff;
    dword e_flags;
    word e_ehsize;
    word e_phentsize;
    word e_phnum;
    word e_shentsize;
    word e_shnum;
    word e_shstrndx;
};


undefined * FUN_001085b0(undefined *param_1,int *param_2,uint param_3,int param_4,int param_5);
undefined8 FUN_00108b10(undefined8 param_1,ulong *param_2);
uint FUN_00109380(uint *param_1,uint *param_2,uint *param_3,undefined4 *param_4);
FILE * FUN_0010c560(char *param_1);
bool FUN_00111150(byte *param_1,byte *param_2);
char * FUN_00111230(char *param_1);
undefined2 * FUN_001112a0(undefined2 *param_1);
char * FUN_001113e0(char *param_1);
char FUN_00111410(void);
undefined4 FUN_00111700(void);
bool FUN_00111710(FILE *param_1,long param_2,uint param_3,uint *param_4);
bool FUN_00111780(FILE *param_1,long param_2,uint param_3,uint *param_4);
undefined8 FUN_001117f0(FILE *param_1);
bool FUN_001118a0(FILE *param_1);
bool FUN_001118d0(FILE *param_1);
bool FUN_00111910(char *param_1);
ulong FUN_00112820(long param_1,char *param_2,int param_3,undefined8 param_4,undefined4 *param_5);
int FUN_001092c0(int *param_1,long param_2,int param_3);
void FUN_00107db0(void *param_1,long param_2,int param_3,int param_4);
void FUN_00107ff0(uint *param_1,long param_2);
void FUN_00108a80(double param_1);
void FUN_00111570(const char* param_1,...);
void FUN_00111680(void);
void FUN_00111870(FILE *param_1,long param_2);
void FUN_00111940(undefined8 param_1);
void FUN_001129b0(char *param_1,stat *param_2);
void FUN_001129c0(int param_1,stat *param_2);



//void _DT_INIT(void)
//
//{
//  __gmon_start__();
//  return;
//}
//
//
//
//void FUN_00102ff0(void)
//
//{
//                    // WARNING: Treating indirect jump as call
//  (*(void*(*)())(undefined *)0x0)();
//  return;
//}
//
//
//
//void WavpackAppendTagItem(void)
//
//{
//  WavpackAppendTagItem();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//double log10(double __x)
//
//{
//  double dVar1;
//  
//  dVar1 = log10(__x);
//  return dVar1;
//}
//
//
//
//void WavpackBigEndianToNative(void)
//
//{
//  WavpackBigEndianToNative();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int fileno(FILE *__stream)
//
//{
//  int iVar1;
//  
//  iVar1 = fileno(__stream);
//  return iVar1;
//}
//
//
//
//void __stpcpy_chk(void)
//
//{
//  __stpcpy_chk();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//void * memset(void *__s,int __c,size_t __n)
//
//{
//  void *pvVar1;
//  
//  pvVar1 = memset(__s,__c,__n);
//  return pvVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//long ftell(FILE *__stream)
//
//{
//  long lVar1;
//  
//  lVar1 = ftell(__stream);
//  return lVar1;
//}
//
//
//
//void WavpackGetBinaryTagItem(void)
//
//{
//  WavpackGetBinaryTagItem();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//char * stpcpy(char *__dest,char *__src)
//
//{
//  char *pcVar1;
//  
//  pcVar1 = stpcpy(__dest,__src);
//  return pcVar1;
//}
//
//
//
//void __fprintf_chk(void)
//
//{
//  __fprintf_chk();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int utimes(char *__file,timeval *__tvp)
//
//{
//  int iVar1;
//  
//  iVar1 = utimes(__file,__tvp);
//  return iVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int puts(char *__s)
//
//{
//  int iVar1;
//  
//  iVar1 = puts(__s);
//  return iVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int fseek(FILE *__stream,long __off,int __whence)
//
//{
//  int iVar1;
//  
//  iVar1 = fseek(__stream,__off,__whence);
//  return iVar1;
//}
//
//
//
//void WavpackOpenFileInput(void)
//
//{
//  WavpackOpenFileInput();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//void exit(int __status)
//
//{
//                    // WARNING: Subroutine does not return
//  exit(__status);
//}
//
//
//
//void __printf_chk(void)
//
//{
//  __printf_chk();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int strcasecmp(char *__s1,char *__s2)
//
//{
//  int iVar1;
//  
//  iVar1 = strcasecmp(__s1,__s2);
//  return iVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int gettimeofday(timeval *__tv,__timezone_ptr_t __tz)
//
//{
//  int iVar1;
//  
//  iVar1 = gettimeofday(__tv,__tz);
//  return iVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//char * strpbrk(char *__s,char *__accept)
//
//{
//  char *pcVar1;
//  
//  pcVar1 = strpbrk(__s,__accept);
//  return pcVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int strncmp(char *__s1,char *__s2,size_t __n)
//
//{
//  int iVar1;
//  
//  iVar1 = strncmp(__s1,__s2,__n);
//  return iVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//void * malloc(size_t __size)
//
//{
//  void *pvVar1;
//  
//  pvVar1 = malloc(__size);
//  return pvVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//FILE * fopen(char *__filename,char *__modes)
//
//{
//  FILE *pFVar1;
//  
//  pFVar1 = fopen(__filename,__modes);
//  return pFVar1;
//}
//
//
//
//void WavpackFreeWrapper(void)
//
//{
//  WavpackFreeWrapper();
//  return;
//}
//
//
//
//void WavpackWriteTag(void)
//
//{
//  WavpackWriteTag();
//  return;
//}
//
//
//
//void WavpackGetBitsPerSample(void)
//
//{
//  WavpackGetBitsPerSample();
//  return;
//}
//
//
//
//void WavpackGetChannelIdentities(void)
//
//{
//  WavpackGetChannelIdentities();
//  return;
//}
//
//
//
//void WavpackGetEncodedNoise(void)
//
//{
//  WavpackGetEncodedNoise();
//  return;
//}
//
//
//
//void WavpackSetFileInformation(void)
//
//{
//  WavpackSetFileInformation();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//iconv_t iconv_open(char *__tocode,char *__fromcode)
//
//{
//  iconv_t pvVar1;
//  
//  pvVar1 = iconv_open(__tocode,__fromcode);
//  return pvVar1;
//}
//
//
//
//void WavpackGetNumSamples(void)
//
//{
//  WavpackGetNumSamples();
//  return;
//}
//
//
//
//void WavpackAppendBinaryTagItem(void)
//
//{
//  WavpackAppendBinaryTagItem();
//  return;
//}
//
//
//
//void WavpackGetErrorMessage(void)
//
//{
//  WavpackGetErrorMessage();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int ungetc(int __c,FILE *__stream)
//
//{
//  int iVar1;
//  
//  iVar1 = ungetc(__c,__stream);
//  return iVar1;
//}
//
//
//
//void WavpackGetTagItemIndexed(void)
//
//{
//  WavpackGetTagItemIndexed();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int fputc(int __c,FILE *__stream)
//
//{
//  int iVar1;
//  
//  iVar1 = fputc(__c,__stream);
//  return iVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//void free(void *__ptr)
//
//{
//  free(__ptr);
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//size_t strlen(char *__s)
//
//{
//  size_t sVar1;
//  
//  sVar1 = strlen(__s);
//  return sVar1;
//}
//
//
//
//void WavpackUpdateNumSamples(void)
//
//{
//  WavpackUpdateNumSamples();
//  return;
//}
//
//
//
//void WavpackGetChannelLayout(void)
//
//{
//  WavpackGetChannelLayout();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int ferror(FILE *__stream)
//
//{
//  int iVar1;
//  
//  iVar1 = ferror(__stream);
//  return iVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int __xstat(int __ver,char *__filename,stat *__stat_buf)
//
//{
//  int iVar1;
//  
//  iVar1 = __xstat(__ver,__filename,__stat_buf);
//  return iVar1;
//}
//
//
//
//void WavpackGetBytesPerSample(void)
//
//{
//  WavpackGetBytesPerSample();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int MD5_Final(uchar *md,MD5_CTX *c)
//
//{
//  int iVar1;
//  
//  iVar1 = MD5_Final(md,c);
//  return iVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int MD5_Update(MD5_CTX *c,void *data,size_t len)
//
//{
//  int iVar1;
//  
//  iVar1 = MD5_Update(c,data,len);
//  return iVar1;
//}
//
//
//
//void WavpackGetProgress(void)
//
//{
//  WavpackGetProgress();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//ushort ** __ctype_b_loc(void)
//
//{
//  ushort **ppuVar1;
//  
//  ppuVar1 = __ctype_b_loc();
//  return ppuVar1;
//}
//
//
//
//void __vsprintf_chk(void)
//
//{
//  __vsprintf_chk();
//  return;
//}
//
//
//
//void WavpackGetNumTagItems(void)
//
//{
//  WavpackGetNumTagItems();
//  return;
//}
//
//
//
//void WavpackGetAverageBitrate(void)
//
//{
//  WavpackGetAverageBitrate();
//  return;
//}
//
//
//
//void WavpackNativeToBigEndian(void)
//
//{
//  WavpackNativeToBigEndian();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int fgetc(FILE *__stream)
//
//{
//  int iVar1;
//  
//  iVar1 = fgetc(__stream);
//  return iVar1;
//}
//
//
//
//void WavpackGetLibraryVersionString(void)
//
//{
//  WavpackGetLibraryVersionString();
//  return;
//}
//
//
//
//void WavpackGetBinaryTagItemIndexed(void)
//
//{
//  WavpackGetBinaryTagItemIndexed();
//  return;
//}
//
//
//
//void WavpackPackInit(void)
//
//{
//  WavpackPackInit();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//size_t iconv(iconv_t __cd,char **__inbuf,size_t *__inbytesleft,char **__outbuf,
//            size_t *__outbytesleft)
//
//{
//  size_t sVar1;
//  
//  sVar1 = iconv(__cd,__inbuf,__inbytesleft,__outbuf,__outbytesleft);
//  return sVar1;
//}
//
//
//
//void WavpackFlushSamples(void)
//
//{
//  WavpackFlushSamples();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//char * strstr(char *__haystack,char *__needle)
//
//{
//  char *pcVar1;
//  
//  pcVar1 = strstr(__haystack,__needle);
//  return pcVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int sigaction(int __sig,sigaction *__act,sigaction *__oact)
//
//{
//  int iVar1;
//  
//  iVar1 = sigaction(__sig,__act,__oact);
//  return iVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//char * strcat(char *__dest,char *__src)
//
//{
//  char *pcVar1;
//  
//  pcVar1 = strcat(__dest,__src);
//  return pcVar1;
//}
//
//
//
//void WavpackGetFloatNormExp(void)
//
//{
//  WavpackGetFloatNormExp();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int fputs(char *__s,FILE *__stream)
//
//{
//  int iVar1;
//  
//  iVar1 = fputs(__s,__stream);
//  return iVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//long strtol(char *__nptr,char **__endptr,int __base)
//
//{
//  long lVar1;
//  
//  lVar1 = strtol(__nptr,__endptr,__base);
//  return lVar1;
//}
//
//
//
//void WavpackGetFileExtension(void)
//
//{
//  WavpackGetFileExtension();
//  return;
//}
//
//
//
//void WavpackGetNumSamples64(void)
//
//{
//  WavpackGetNumSamples64();
//  return;
//}
//
//
//
//void WavpackGetChannelMask(void)
//
//{
//  WavpackGetChannelMask();
//  return;
//}
//
//
//
//void WavpackPackSamples(void)
//
//{
//  WavpackPackSamples();
//  return;
//}
//
//
//
//void WavpackUnpackSamples(void)
//
//{
//  WavpackUnpackSamples();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//void * memmove(void *__dest,void *__src,size_t __n)
//
//{
//  void *pvVar1;
//  
//  pvVar1 = memmove(__dest,__src,__n);
//  return pvVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//char * strchr(char *__s,int __c)
//
//{
//  char *pcVar1;
//  
//  pcVar1 = strchr(__s,__c);
//  return pcVar1;
//}
//
//
//
//void WavpackGetWrapperData(void)
//
//{
//  WavpackGetWrapperData();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//size_t fread(void *__ptr,size_t __size,size_t __n,FILE *__stream)
//
//{
//  size_t sVar1;
//  
//  sVar1 = fread(__ptr,__size,__n,__stream);
//  return sVar1;
//}
//
//
//
//void WavpackGetSampleRate(void)
//
//{
//  WavpackGetSampleRate();
//  return;
//}
//
//
//
//void WavpackGetWrapperBytes(void)
//
//{
//  WavpackGetWrapperBytes();
//  return;
//}
//
//
//
//void WavpackGetRatio(void)
//
//{
//  WavpackGetRatio();
//  return;
//}
//
//
//
//void WavpackGetNumErrors(void)
//
//{
//  WavpackGetNumErrors();
//  return;
//}
//
//
//
//void WavpackLittleEndianToNative(void)
//
//{
//  WavpackLittleEndianToNative();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//char * strdup(char *__s)
//
//{
//  char *pcVar1;
//  
//  pcVar1 = strdup(__s);
//  return pcVar1;
//}
//
//
//
//void WavpackNativeToLittleEndian(void)
//
//{
//  WavpackNativeToLittleEndian();
//  return;
//}
//
//
//
//void __stack_chk_fail(void)
//
//{
//                    // WARNING: Subroutine does not return
//  __stack_chk_fail();
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int strcmp(char *__s1,char *__s2)
//
//{
//  int iVar1;
//  
//  iVar1 = strcmp(__s1,__s2);
//  return iVar1;
//}
//
//
//
//void WavpackGetFileFormat(void)
//
//{
//  WavpackGetFileFormat();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//double exp2(double __x)
//
//{
//  double dVar1;
//  
//  dVar1 = exp2(__x);
//  return dVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//char * strcpy(char *__dest,char *__src)
//
//{
//  char *pcVar1;
//  
//  pcVar1 = strcpy(__dest,__src);
//  return pcVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int MD5_Init(MD5_CTX *c)
//
//{
//  int iVar1;
//  
//  iVar1 = MD5_Init(c);
//  return iVar1;
//}
//
//
//
//void WavpackSetConfiguration64(void)
//
//{
//  WavpackSetConfiguration64();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int glob(char *__pattern,int __flags,__errfunc *__errfunc,glob_t *__pglob)
//
//{
//  int iVar1;
//  
//  iVar1 = glob(__pattern,__flags,__errfunc,__pglob);
//  return iVar1;
//}
//
//
//
//void WavpackLossyBlocks(void)
//
//{
//  WavpackLossyBlocks();
//  return;
//}
//
//
//
//void WavpackGetMD5Sum(void)
//
//{
//  WavpackGetMD5Sum();
//  return;
//}
//
//
//
//void WavpackAddWrapper(void)
//
//{
//  WavpackAddWrapper();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//__int32_t ** __ctype_tolower_loc(void)
//
//{
//  __int32_t **pp_Var1;
//  
//  pp_Var1 = __ctype_tolower_loc();
//  return pp_Var1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int memcmp(void *__s1,void *__s2,size_t __n)
//
//{
//  int iVar1;
//  
//  iVar1 = memcmp(__s1,__s2,__n);
//  return iVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//void * calloc(size_t __nmemb,size_t __size)
//
//{
//  void *pvVar1;
//  
//  pvVar1 = calloc(__nmemb,__size);
//  return pvVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//void globfree(glob_t *__pglob)
//
//{
//  globfree(__pglob);
//  return;
//}
//
//
//
//void WavpackGetTagItem(void)
//
//{
//  WavpackGetTagItem();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int fclose(FILE *__stream)
//
//{
//  int iVar1;
//  
//  iVar1 = fclose(__stream);
//  return iVar1;
//}
//
//
//
//void WavpackGetNumChannels(void)
//
//{
//  WavpackGetNumChannels();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int remove(char *__filename)
//
//{
//  int iVar1;
//  
//  iVar1 = remove(__filename);
//  return iVar1;
//}
//
//
//
//void WavpackOpenFileOutput(void)
//
//{
//  WavpackOpenFileOutput();
//  return;
//}
//
//
//
//void WavpackDeleteTagItem(void)
//
//{
//  WavpackDeleteTagItem();
//  return;
//}
//
//
//
//void WavpackSetChannelLayout(void)
//
//{
//  WavpackSetChannelLayout();
//  return;
//}
//
//
//
//void sprintf(void)
//
//{
//  sprintf();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int ftruncate(int __fd,__off_t __length)
//
//{
//  int iVar1;
//  
//  iVar1 = ftruncate(__fd,__length);
//  return iVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int sigemptyset(sigset_t *__set)
//
//{
//  int iVar1;
//  
//  iVar1 = sigemptyset(__set);
//  return iVar1;
//}
//
//
//
//void WavpackGetQualifyMode(void)
//
//{
//  WavpackGetQualifyMode();
//  return;
//}
//
//
//
//void WavpackGetNumBinaryTagItems(void)
//
//{
//  WavpackGetNumBinaryTagItems();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//size_t fwrite(void *__ptr,size_t __size,size_t __n,FILE *__s)
//
//{
//  size_t sVar1;
//  
//  sVar1 = fwrite(__ptr,__size,__n,__s);
//  return sVar1;
//}
//
//
//
//void WavpackCloseFile(void)
//
//{
//  WavpackCloseFile();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//void * realloc(void *__ptr,size_t __size)
//
//{
//  void *pvVar1;
//  
//  pvVar1 = realloc(__ptr,__size);
//  return pvVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//char * setlocale(int __category,char *__locale)
//
//{
//  char *pcVar1;
//  
//  pcVar1 = setlocale(__category,__locale);
//  return pcVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//double floor(double __x)
//
//{
//  double dVar1;
//  
//  dVar1 = floor(__x);
//  return dVar1;
//}
//
//
//
//void WavpackStoreMD5Sum(void)
//
//{
//  WavpackStoreMD5Sum();
//  return;
//}
//
//
//
//void WavpackGetMode(void)
//
//{
//  WavpackGetMode();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//void * memcpy(void *__dest,void *__src,size_t __n)
//
//{
//  void *pvVar1;
//  
//  pvVar1 = memcpy(__dest,__src,__n);
//  return pvVar1;
//}
//
//
//
//void WavpackGetSampleIndex64(void)
//
//{
//  WavpackGetSampleIndex64();
//  return;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int iconv_close(iconv_t __cd)
//
//{
//  int iVar1;
//  
//  iVar1 = iconv_close(__cd);
//  return iVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int rename(char *__old,char *__new)
//
//{
//  int iVar1;
//  
//  iVar1 = rename(__old,__new);
//  return iVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//double strtod(char *__nptr,char **__endptr)
//
//{
//  double dVar1;
//  
//  dVar1 = strtod(__nptr,__endptr);
//  return dVar1;
//}
//
//
//
//// WARNING: Unknown calling convention yet parameter storage is locked
//
//int fflush(FILE *__stream)
//
//{
//  int iVar1;
//  
//  iVar1 = fflush(__stream);
//  return iVar1;
//}
//
//
//
//void __cxa_finalize(void)
//
//{
//  __cxa_finalize();
//  return;
//}



// WARNING: Type propagation algorithm not settling
// WARNING: Could not reconcile some variable overlaps
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

bool FUN_00103780(int param_1,timeval **param_2,undefined8 param_3,undefined8 param_4,char *param_5)

{
  void **ppvVar1;
  ushort *puVar2;
  char cVar3;
  byte bVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  undefined4 uVar8;
  uint uVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  uint uVar13;
  int iVar14;
  long lVar15;
  char *pcVar16;
  timeval *ptVar17;
  byte *pbVar18;
  size_t sVar19;
  timeval *ptVar20;
  long lVar21;
  FILE *pFVar22;
  char **ppcVar23;
  char *pcVar24;
  char *pcVar25;
  char **ppcVar26;
  undefined *puVar27;
  iconv_t __cd;
  size_t sVar28;
  uint *puVar29;
  undefined8 uVar30;
  undefined2 *puVar31;
  void *pvVar32;
  undefined4 *puVar33;
  undefined8 *puVar34;
  void *pvVar35;
  ushort **ppuVar36;
  ulong uVar37;
  long lVar38;
  uint uVar39;
  uint *puVar40;
  uint *puVar41;
  undefined4 *puVar42;
  int iVar43;
  long lVar44;
  uint *puVar45;
  int iVar46;
  char *pcVar47;
  ulong uVar48;
  byte *pbVar49;
  undefined8 *puVar50;
  size_t *psVar51;
  undefined4 *puVar52;
  timeval **pptVar53;
  long in_FS_OFFSET;
  undefined uVar54;
  bool bVar55;
  undefined uVar56;
  bool bVar57;
  bool bVar58;
  bool bVar59;
  byte bVar60;
  double extraout_XMM0_Qa;
  double extraout_XMM0_Qa_00;
  double dVar61;
  double extraout_XMM0_Qa_01;
  double extraout_XMM0_Qa_02;
  double extraout_XMM0_Qa_03;
  double extraout_XMM0_Qa_04;
  double extraout_XMM0_Qa_05;
  double extraout_XMM0_Qa_06;
  undefined8 local_2368;
  char **local_2360;
  char *local_2350;
  uint *local_2330;
  uint local_2320;
  uint *local_2318;
  void *local_2300;
  double local_22f0;
  double local_22e8;
  uint local_22d8;
  double local_22b0;
  __timezone_ptr_t local_2288;
  byte local_2260;
  double local_2258;
  timezone local_2250;
  timeval local_2248;
  timeval local_2238;
  size_t local_2228;
  FILE *local_2220;
  timeval local_2208 [2];
  float local_21e8;
  float local_21e4;
  undefined8 local_21e0;
  uint local_21d8;
  uint local_21d4;
  uint local_21d0;
  uint local_21cc;
  int local_21c8;
  uint local_21c4;
  uint local_21bc;
  uint local_21b8;
  undefined4 local_2188 [2];
  undefined4 local_2180;
  undefined4 local_217c;
  uint local_2178;
  uint local_2174;
  int local_216c;
  undefined4 local_2168;
  undefined4 local_215c;
  undefined4 local_2158;
  MD5_CTX local_2128;
  undefined4 local_20c8;
  undefined4 uStack8388;
  byte local_20b8 [16];
  undefined local_20a8 [16];
  undefined local_2098 [80];
  undefined8 local_2048 [3];
  undefined local_2030 [8176];
  long local_40;
  
  bVar60 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar15 = FUN_001113e0(*param_2);
  if (lVar15 == 0) {
LAB_0010438a:
    if (DAT_003190d8 != 0) goto LAB_001037e5;
  }
  else {
    pcVar16 = (char *)FUN_001113e0(*param_2);
    pcVar16 = strstr(pcVar16,"ebug");
    if (pcVar16 == (char *)0x0) {
      pcVar16 = (char *)FUN_001113e0(*param_2);
      pcVar16 = strstr(pcVar16,"DEBUG");
      if (pcVar16 == (char *)0x0) goto LAB_0010438a;
    }
    DAT_003190d8 = 1;
LAB_001037e5:
    if (param_1 != 1) {
      pptVar53 = param_2;
      iVar43 = 1;
      do {
        pptVar53 = pptVar53 + 1;
        iVar46 = iVar43 + 1;
        FUN_00111570("arg %d: %s",iVar43,*pptVar53);
        iVar43 = iVar46;
      } while (param_1 != iVar46);
    }
  }
  lVar15 = 0xb;
  local_2360 = (char **)0x0;
  local_2350 = (char *)0x0;
  bVar59 = false;
  iVar43 = 0;
  puVar50 = (undefined8 *)&local_21e8;
  while (lVar15 != 0) {
    lVar15 = lVar15 + -1;
    *puVar50 = 0;
    puVar50 = puVar50 + (ulong)bVar60 * -2 + 1;
  }
  uVar9 = 0;
  pptVar53 = param_2 + (param_1 - 1);
  uVar8 = DAT_00319094;
  uVar5 = local_21d8;
  uVar6 = local_21b8;
LAB_00103870:
  local_21b8 = uVar6;
  local_21d8 = uVar5;
  DAT_00319094 = uVar8;
  if (param_2 != pptVar53) {
    while( true ) {
      param_2 = param_2 + 1;
      ptVar17 = *param_2;
      if (*(char *)&ptVar17->tv_sec == '-') {
        cVar3 = *(char *)((long)&ptVar17->tv_sec + 1);
        if (cVar3 == '-') {
          if (*(char *)((long)&ptVar17->tv_sec + 2) == '\0') goto LAB_00103bc0;
          ptVar20 = (timeval *)((long)&ptVar17->tv_sec + 2);
          ptVar17 = ptVar20;
          goto LAB_00104042;
        }
        if (cVar3 != '\0') goto LAB_00103bc0;
      }
      if (iVar43 == 0) {
        if (bVar59) {
          sVar19 = strlen((char *)ptVar17);
          local_2350 = (char *)malloc(sVar19 + 0x1000);
          memcpy(local_2350,ptVar17,sVar19 + 1);
          bVar59 = false;
          uVar8 = DAT_00319094;
          uVar5 = local_21d8;
          uVar6 = local_21b8;
        }
        else {
          iVar46 = DAT_003190cc + 1;
          local_2360 = (char **)realloc(local_2360,(long)iVar46 * 8);
          sVar19 = strlen((char *)ptVar17);
          pcVar16 = (char *)malloc(sVar19 + 10);
          local_2360[(long)iVar46 + -1] = pcVar16;
          pcVar16 = (char *)memcpy(pcVar16,ptVar17,sVar19 + 1);
          if ((*pcVar16 != '-') && (*pcVar16 != '@')) {
            lVar15 = FUN_00111230(pcVar16);
            if (lVar15 == 0) {
              pcVar16 = ".raw";
              if ((local_21d8 & 0x1000) == 0) {
                pcVar16 = ".wav";
              }
              iVar46 = DAT_003190cc + 1;
              strcat(local_2360[DAT_003190cc],pcVar16);
            }
            else {
              iVar46 = DAT_003190cc + 1;
            }
          }
          iVar43 = 0;
          uVar8 = DAT_00319094;
          DAT_003190cc = iVar46;
          uVar5 = local_21d8;
          uVar6 = local_21b8;
        }
        goto LAB_00103870;
      }
      iVar46 = strcasecmp((char *)ptVar17,"encoder");
      if (iVar46 == 0) {
        ptVar20 = (timeval *)malloc(0x50);
        sprintf(ptVar20,1,0x50);
        *param_2 = ptVar20;
        param_5 = (char *)ptVar17;
      }
      else {
        iVar46 = strcasecmp((char *)ptVar17,"settings");
        ptVar20 = ptVar17;
        if (iVar46 == 0) {
          FUN_00107ff0(local_2048,&local_21e8);
          puVar50 = local_2048;
          do {
            puVar34 = puVar50;
            uVar6 = *(uint *)puVar34 + 0xfefefeff & ~*(uint *)puVar34;
            uVar5 = uVar6 & 0x80808080;
            puVar50 = (undefined8 *)((long)puVar34 + 4);
          } while (uVar5 == 0);
          bVar57 = (uVar6 & 0x8080) == 0;
          if (bVar57) {
            uVar5 = uVar5 >> 0x10;
          }
          if (bVar57) {
            puVar50 = (undefined8 *)((long)puVar34 + 6);
          }
          ptVar20 = (timeval *)
                    malloc((long)puVar50 +
                           (-(long)local_2048 - (ulong)CARRY1((byte)uVar5,(byte)uVar5)) + 0xd);
          param_5 = (char *)*param_2;
          sprintf(ptVar20,1,0xffffffffffffffff);
          *param_2 = ptVar20;
        }
      }
      ptVar17 = (timeval *)strchr((char *)ptVar20,0x3d);
      if ((ptVar17 != (timeval *)0x0) && (ptVar20 < ptVar17)) break;
      iVar43 = 0;
      FUN_00111570("error in tag spec: %s !",ptVar20);
      uVar9 = uVar9 + 1;
      if (param_2 == pptVar53) goto LAB_00103904;
    }
    DAT_0031906c = DAT_0031906c + 1;
    lVar15 = (long)(int)DAT_0031906c;
    DAT_00319060 = realloc(DAT_00319060,lVar15 * 0x20);
    ppvVar1 = (void **)((long)DAT_00319060 + (lVar15 * 0x20 - 0x20U));
    pcVar24 = (char *)((long)&ptVar17->tv_sec + 1);
    pvVar32 = malloc((long)ptVar17 + (1 - (long)*param_2));
    *ppvVar1 = pvVar32;
    ptVar17 = (timeval *)((long)ptVar17 - (long)*param_2);
    memcpy(pvVar32,*param_2,(size_t)ptVar17);
    *(undefined *)((long)*ppvVar1 + (long)ptVar17) = 0;
    sVar19 = strlen(pcVar24);
    *(int *)(ppvVar1 + 3) = (int)sVar19;
    pcVar16 = (char *)malloc((long)((int)sVar19 + 1));
    ppvVar1[1] = pcVar16;
    strcpy(pcVar16,pcVar24);
    bVar57 = iVar43 == 2;
    ppvVar1[2] = (void *)0x0;
    iVar43 = 0;
    *(uint *)((long)ppvVar1 + 0x1c) = (uint)bVar57;
    uVar8 = DAT_00319094;
    uVar5 = local_21d8;
    uVar6 = local_21b8;
    goto LAB_00103870;
  }
LAB_00103904:
  FUN_00111680();
  if (bVar59) {
    FUN_00111570("no output filename or path specified with -o option!");
    uVar9 = uVar9 + 1;
  }
  if (iVar43 != 0) {
    pcVar16 = "--write-binary-tag";
    if (iVar43 == 1) {
      pcVar16 = "-w";
    }
    FUN_00111570("no tag specified with %s option!",pcVar16);
    uVar9 = uVar9 + 1;
  }
  if ((~local_21d4 & 0xa00) == 0) {
    FUN_00111570("high and fast modes are mutually exclusive!");
    uVar9 = uVar9 + 1;
  }
  if ((local_21d8 & 0x800) == 0) {
LAB_00103952:
    if ((DAT_003190bc != 0) && ((uint *)local_2350 != (uint *)0x0)) {
LAB_00103966:
      if (*local_2350 == '-') {
        FUN_00111570("can\'t verify output file when using stdout!");
        uVar9 = uVar9 + 1;
      }
    }
LAB_00103974:
    if ((local_21d4 & 8) == 0) goto LAB_00103983;
    if ((((local_21d4 & 0x80000) != 0) && ((uint *)local_2350 != (uint *)0x0)) &&
       (*local_2350 == '-')) {
      FUN_00111570("can\'t create correction file when using stdout!");
      uVar9 = uVar9 + 1;
    }
LAB_001041bd:
    if ((local_21d4 & 0x10000000) != 0) {
      FUN_00111570("--merge-blocks option is for lossless mode only!");
      uVar9 = uVar9 + 1;
      if ((local_21d4 & 0x28000) == 0x28000) goto LAB_00105a58;
      goto LAB_0010398e;
    }
    if ((local_21d4 & 0x28000) == 0x28000) {
LAB_00105a58:
      FUN_00111570("-s and --use-dns options are mutually exclusive!");
      uVar9 = uVar9 + 1;
      goto LAB_0010398e;
    }
LAB_001041d8:
    uVar54 = false;
    uVar56 = local_21c4 == 0;
    if (!(bool)uVar56) {
      uVar54 = local_21c4 < 0x7f;
      uVar56 = local_21c4 == 0x7f;
      if ((int)local_21c4 < 0x80) {
        FUN_00111570("minimum blocksize is 128 when --merge-blocks is not specified!");
        uVar54 = 0xfffffffe < uVar9;
        uVar9 = uVar9 + 1;
        uVar56 = uVar9 == 0;
      }
    }
  }
  else {
    if ((uint *)local_2350 != (uint *)0x0) {
      if (*local_2350 != '-') goto LAB_00103952;
      FUN_00111570("can\'t ignore length in header when using stdout!");
      uVar9 = uVar9 + 1;
      if (DAT_003190bc != 0) goto LAB_00103966;
      goto LAB_00103974;
    }
    if ((local_21d4 & 8) != 0) goto LAB_001041bd;
LAB_00103983:
    if ((local_21d4 & 0x8a8000) != 0) {
      FUN_00111570("-c, -n, -s, and --use-dns options are for hybrid mode (-b) only!");
      uVar9 = uVar9 + 1;
    }
LAB_0010398e:
    if ((local_21d4 & 0x10000000) == 0) goto LAB_001041d8;
    uVar54 = false;
    uVar56 = local_21c4 == 0;
    if ((bool)uVar56) {
      FUN_00111570("--merge-blocks only makes sense when --blocksize is specified!");
      uVar54 = 0xfffffffe < uVar9;
      uVar9 = uVar9 + 1;
      uVar56 = uVar9 == 0;
    }
  }
  pbVar18 = (byte *)WavpackGetLibraryVersionString();
  lVar15 = 6;
  pbVar49 = &DAT_00112cea;
  do {
    if (lVar15 == 0) break;
    lVar15 = lVar15 + -1;
    uVar54 = *pbVar18 < *pbVar49;
    uVar56 = *pbVar18 == *pbVar49;
    pbVar18 = pbVar18 + (ulong)bVar60 * -2 + 1;
    pbVar49 = pbVar49 + (ulong)bVar60 * -2 + 1;
  } while ((bool)uVar56);
  if ((!(bool)uVar54 && !(bool)uVar56) == (bool)uVar54) {
    if ((uVar9 | DAT_003190c0) != 0) goto LAB_001039dd;
    param_5 = (char *)WavpackGetLibraryVersionString();
    __fprintf_chk(stderr,1,
                  "\n WAVPACK  Hybrid Lossless Audio Compressor  %s Version %s\n Copyright (c) 1998 - 2019 David Bryant.  All Rights Reserved.\n\n"
                 );
    fflush(stderr);
    if (0 < (int)DAT_0031906c) {
      uVar9 = 0;
      goto LAB_001039eb;
    }
  }
  else {
    WavpackGetLibraryVersionString();
    param_5 = (char *)0x0;
    __fprintf_chk(stderr,1,
                  "\n WARNING: WAVPACK using libwavpack version %s, expected %s (see README)\n\n");
    fflush(stderr);
LAB_001039dd:
    if (0 < (int)DAT_0031906c) {
LAB_001039eb:
      lVar15 = 0;
      pvVar32 = DAT_00319060;
      do {
        lVar44 = lVar15 * 0x20;
        ppcVar26 = (char **)((long)pvVar32 + lVar44);
        if (*ppcVar26[1] == '@') {
          pcVar16 = ppcVar26[1] + 1;
          lVar38 = FUN_0010c560(pcVar16);
          if (lVar38 == 0) {
            if (DAT_003190cc == 0) {
LAB_00104918:
              if ((uint *)local_2350 != (uint *)0x0) {
LAB_00104924:
                lVar38 = FUN_001113e0(local_2350);
                if ((lVar38 != 0) && (*local_2350 != '-')) {
                  uVar37 = 0xffffffffffffffff;
                  puVar45 = (uint *)local_2350;
                  do {
                    if (uVar37 == 0) break;
                    uVar37 = uVar37 - 1;
                    cVar3 = *(char *)puVar45;
                    puVar45 = (uint *)((long)puVar45 + (ulong)bVar60 * -2 + 1);
                  } while (cVar3 != '\0');
                  pvVar32 = malloc(~uVar37 + 0xfff);
                  memcpy(pvVar32,local_2350,~uVar37);
                  pcVar24 = (char *)FUN_001113e0(pvVar32);
                  strcpy(pcVar24,pcVar16);
                  lVar38 = FUN_0010c560(pvVar32);
                  free(pvVar32);
                  goto LAB_0010499b;
                }
              }
            }
            else {
              pcVar24 = *local_2360;
              lVar38 = FUN_001113e0(pcVar24);
              if ((lVar38 == 0) || (*pcVar24 == '-')) goto LAB_00104918;
              uVar37 = 0xffffffffffffffff;
              pcVar47 = pcVar24;
              do {
                if (uVar37 == 0) break;
                uVar37 = uVar37 - 1;
                cVar3 = *pcVar47;
                pcVar47 = pcVar47 + (ulong)bVar60 * -2 + 1;
              } while (cVar3 != '\0');
              pvVar32 = malloc(~uVar37 + 0xfff);
              memcpy(pvVar32,pcVar24,~uVar37);
              pcVar24 = (char *)FUN_001113e0(pvVar32);
              strcpy(pcVar24,pcVar16);
              lVar38 = FUN_0010c560(pvVar32);
              free(pvVar32);
              if ((lVar38 == 0) && ((uint *)local_2350 != (uint *)0x0)) goto LAB_00104924;
LAB_0010499b:
              if (lVar38 != 0) goto LAB_00104268;
            }
          }
          else {
LAB_00104268:
            uVar8 = FUN_001117f0(lVar38);
            *(undefined4 *)((long)DAT_00319060 + lVar44 + 0x18) = uVar8;
            lVar21 = FUN_00111230(pcVar16);
            if (lVar21 != 0) {
              pcVar16 = (char *)FUN_00111230(pcVar16);
              pvVar32 = DAT_00319060;
              pcVar16 = strdup(pcVar16);
              *(char **)((long)pvVar32 + lVar44 + 0x10) = pcVar16;
            }
            pvVar32 = (void *)((long)DAT_00319060 + lVar44);
            iVar43 = *(int *)((long)pvVar32 + 0x18);
            if (iVar43 < (int)((-(uint)(DAT_003190ac == 0) & 0xff100000) + 0x1000000)) {
              pvVar35 = calloc((long)(iVar43 + 2),1);
              iVar43 = FUN_00111710(lVar38,pvVar35,*(undefined4 *)((long)pvVar32 + 0x18),0);
              if ((iVar43 != 0) &&
                 (*(int *)((long)DAT_00319060 + lVar44 + 0x18) == (int)local_2208[0].tv_sec)) {
                FUN_001118a0(lVar38);
                pvVar32 = (void *)((long)DAT_00319060 + lVar44);
                free(*(void **)((long)pvVar32 + 8));
                *(void **)((long)pvVar32 + 8) = pvVar35;
                goto LAB_00103ab8;
              }
              free(pvVar35);
              FUN_001118a0(lVar38);
            }
            else {
              FUN_001118a0(lVar38);
            }
          }
          FUN_00111570(0);
          uVar9 = uVar9 + 1;
LAB_00103ab8:
          pvVar32 = DAT_00319060;
          ppcVar26 = (char **)((long)DAT_00319060 + lVar44);
          if (*(int *)((long)ppcVar26 + 0x1c) == 0) goto LAB_00103a30;
          sVar19 = strlen(*ppcVar26);
          iVar43 = (int)sVar19;
          if (ppcVar26[2] == (char *)0x0) {
            lVar44 = 0;
            iVar46 = iVar43;
          }
          else {
            sVar19 = strlen(ppcVar26[2]);
            lVar44 = (long)(int)sVar19;
            iVar46 = (int)sVar19 + iVar43;
          }
          pcVar16 = (char *)realloc(ppcVar26[1],(long)(*(int *)(ppcVar26 + 3) + iVar46 + 1));
          ppcVar26[1] = pcVar16;
          memmove(pcVar16 + lVar44 + 1 + (long)iVar43,pcVar16,(long)*(int *)(ppcVar26 + 3));
          strcpy(ppcVar26[1],*ppcVar26);
          if (ppcVar26[2] != (char *)0x0) {
            strcat(ppcVar26[1],ppcVar26[2]);
          }
          iVar43 = iVar46 + 1 + *(int *)(ppcVar26 + 3);
          *(int *)(ppcVar26 + 3) = iVar43;
        }
        else {
          param_5 = (char *)0x0;
          if (*(int *)((long)ppcVar26 + 0x1c) != 0) {
            FUN_00111570(0);
            uVar9 = uVar9 + 1;
            goto LAB_00103ab8;
          }
LAB_00103a30:
          if (*(int *)(ppcVar26 + 3) == 0) {
            iVar43 = *(int *)((long)DAT_00319060 + lVar44 + 0x18);
            pvVar32 = DAT_00319060;
          }
          else {
            pcVar16 = (char *)realloc(ppcVar26[1],(long)(*(int *)(ppcVar26 + 3) * 2 + 1));
            iVar43 = DAT_003190b4;
            ppcVar26[1] = pcVar16;
            if (iVar43 == 0) {
              iVar43 = *(int *)(ppcVar26 + 3) * 2;
              sVar19 = SEXT48(iVar43 + 1);
              pvVar32 = calloc(sVar19,1);
              local_2208[0].tv_sec = (__time_t)iVar43;
              local_2228 = 0;
              local_2248.tv_sec = (__time_t)pvVar32;
              local_2238.tv_sec = (__time_t)pcVar16;
              if ((((iVar43 + 1 < 4) || (*pcVar16 != -0x11)) || (pcVar16[1] != -0x45)) ||
                 (pcVar16[2] != -0x41)) {
                pcVar24 = setlocale(0,"");
                if ((*(char *)local_2238.tv_sec == -1) && (*(char *)(local_2238.tv_sec + 1) == -2))
                {
                  bVar59 = false;
                  sVar28 = local_2228;
                  while (*(short *)(local_2238.tv_sec + ((sVar28 + 2) - local_2228)) != 0) {
                    bVar59 = true;
                    sVar28 = sVar28 + 2;
                  }
                  if (bVar59) {
                    local_2228 = sVar28;
                  }
                  local_2238.tv_sec = (__time_t)(local_2238.tv_sec + 2);
                  __cd = iconv_open("UTF-8","UTF-16LE");
                }
                else {
                  uVar37 = 0xffffffffffffffff;
                  pcVar47 = pcVar16;
                  do {
                    if (uVar37 == 0) break;
                    uVar37 = uVar37 - 1;
                    cVar3 = *pcVar47;
                    pcVar47 = pcVar47 + (ulong)bVar60 * -2 + 1;
                  } while (cVar3 != '\0');
                  local_2228 = ~uVar37 - 1;
                  __cd = iconv_open("UTF-8","");
                }
                if (__cd == (iconv_t)0xffffffffffffffff) {
                  setlocale(0,pcVar24);
                }
                else {
                  param_5 = (char *)local_2208;
                  sVar28 = iconv(__cd,(char **)&local_2238,&local_2228,(char **)&local_2248,
                                 (size_t *)local_2208);
                  iconv_close(__cd);
                  setlocale(0,pcVar24);
                  if ((int)sVar28 != -1) {
                    memmove(pcVar16,pvVar32,sVar19);
                  }
                }
                free(pvVar32);
              }
              else {
                memmove(pcVar16,pcVar16 + 3,(long)(iVar43 + -2));
                pcVar16[sVar19 - 3] = '\0';
              }
            }
            pvVar32 = DAT_00319060;
            pvVar35 = (void *)((long)DAT_00319060 + lVar44);
            pcVar16 = *(char **)((long)pvVar35 + 8);
            if (((2 < *(int *)((long)pvVar35 + 0x18)) && (*pcVar16 == -0x11)) &&
               ((pcVar16[1] == -0x45 && (pcVar16[2] == -0x41)))) {
              iVar43 = *(int *)((long)pvVar35 + 0x18) + -3;
              *(int *)((long)pvVar35 + 0x18) = iVar43;
              memmove(pcVar16,pcVar16 + 3,(long)iVar43);
              *(undefined *)(*(long *)((long)pvVar35 + 8) + (long)*(int *)((long)pvVar35 + 0x18)) =
                   0;
              pcVar16 = *(char **)((long)pvVar35 + 8);
            }
            sVar19 = strlen(pcVar16);
            iVar43 = (int)sVar19;
            *(int *)((long)pvVar35 + 0x18) = iVar43;
          }
        }
        _DAT_00319068 = iVar43 + _DAT_00319068;
        if ((int)((-(uint)(DAT_003190ac == 0) & 0xff100000) + 0x1000000) < _DAT_00319068) {
          FUN_00111570("total APEv2 tag size exceeds %d MB !",
                       (-(uint)(DAT_003190ac == 0) & 0xfffffff1) + 0x10);
          goto LAB_00104665;
        }
        iVar43 = (int)lVar15;
        lVar15 = lVar15 + 1;
      } while (iVar43 + 1 < (int)DAT_0031906c);
    }
    if (uVar9 != 0) {
LAB_00104665:
      fwrite("\ntype \'wavpack\' for short help or \'wavpack --help\' for full help\n",1,0x41,stderr
            );
      fflush(stderr);
      bVar59 = true;
      goto LAB_00104693;
    }
  }
  if (DAT_003190cc == 0) {
    puts(
        " Usage:   WAVPACK [-options] infile[.wav]|infile.ext|- [...] [-o outfile[.wv]|outpath|-]\n             (default is lossless; multiple input files allowed)\n\n Utils:   WAVPACK:  create or transcode WavPack files\n          WVUNPACK: unpack or verify existing WavPack files\n          WVGAIN:   apply ReplayGain to WavPack files\n          WVTAG:    apply or edit metadata tags on WavPack files\n\n Formats: .wav (default, bwf/rf64 okay)  .wv (transcode, with tags)\n          .w64 (Sony Wave64)             .caf (Core Audio Format)\n          .dff (Philips DSDIFF)          .dsf (Sony DSD stream)\n\n Options: -bn = enable hybrid compression, n = 2.0 to 23.9 bits/sample, or\n                                           n = 24-9600 kbits/second (kbps)\n          -c  = create correction file (.wvc) for hybrid mode (=lossless)\n          -f  = fast mode (fast, but some compromise in compression ratio)\n          -h  = high quality (better compression ratio, but slower)\n          -v  = verify output file integrity after write (no pipes)\n          -x  = extra encode processing (no decoding speed penalty)\n          --help = complete help\n\n Web:     Visit www.wavpack.com for latest version and info"
        );
    bVar59 = true;
    goto LAB_00104693;
  }
  DAT_003190c8 = 0;
  if (DAT_003190cc < 1) {
    if (((uint *)local_2350 != (uint *)0x0) && (*local_2350 == '@')) goto LAB_00105c56;
LAB_001046e1:
    if (DAT_003190bc == 0) {
      DAT_00319070 = 100.0;
    }
    else {
      if ((local_21d4 & 0x2000000) == 0) {
        DAT_00319070 = 50.0;
      }
      else {
        if (local_21d0 == 0) {
          DAT_00319070 = 66.7;
        }
        else {
          DAT_00319070 = (1.0 - 1.0 / (double)((1 << ((byte)local_21d0 & 0x1f)) + 1)) * 100.0;
        }
      }
    }
    if ((uint *)local_2350 == (uint *)0x0) {
      bVar57 = false;
      bVar59 = true;
    }
    else {
      if (*local_2350 != '-') {
        lVar15 = FUN_001112a0(local_2350);
        if ((1 < DAT_003190cc) && (lVar15 == 0)) {
          FUN_00111570("%s is not a valid output path",local_2350);
          free(local_2350);
          goto LAB_00105df2;
        }
        bVar57 = true;
        bVar59 = true;
        if (lVar15 != 0) goto LAB_00104744;
      }
      lVar15 = FUN_00111230(local_2350);
      bVar59 = lVar15 == 0;
      bVar57 = false;
    }
LAB_00104744:
    DAT_003190c8 = 0;
    iVar43 = 0;
    if (0 < DAT_003190cc) {
LAB_0010487d:
      iVar46 = FUN_00111700();
      puVar45 = (uint *)local_2350;
      if (iVar46 == 0) {
        if (bVar57) {
          pcVar16 = (char *)FUN_001113e0(local_2360[DAT_003190c8]);
          strcat(local_2350,pcVar16);
          lVar15 = FUN_00111230(local_2350);
joined_r0x00105987:
          puVar45 = (uint *)local_2350;
          if (lVar15 != 0) {
            puVar27 = (undefined *)FUN_00111230(local_2350);
            *puVar27 = 0;
          }
        }
        else {
          if ((uint *)local_2350 == (uint *)0x0) {
            uVar37 = 0xffffffffffffffff;
            pcVar16 = local_2360[DAT_003190c8];
            pcVar24 = pcVar16;
            do {
              if (uVar37 == 0) break;
              uVar37 = uVar37 - 1;
              cVar3 = *pcVar24;
              pcVar24 = pcVar24 + (ulong)bVar60 * -2 + 1;
            } while (cVar3 != '\0');
            local_2350 = (char *)malloc(~uVar37 + 9);
            memcpy(local_2350,pcVar16,~uVar37);
            lVar15 = FUN_00111230(local_2350);
            goto joined_r0x00105987;
          }
        }
        if ((bVar59) && (*(char *)puVar45 != '-')) {
          strcat((char *)puVar45,".wv");
        }
        puVar41 = puVar45;
        if ((local_21d4 & 0x80000) == 0) {
          puVar29 = (uint *)0x0;
        }
        else {
          do {
            puVar29 = puVar41;
            uVar5 = *puVar29 + 0xfefefeff & ~*puVar29;
            uVar9 = uVar5 & 0x80808080;
            puVar41 = puVar29 + 1;
          } while (uVar9 == 0);
          bVar58 = (uVar5 & 0x8080) == 0;
          if (bVar58) {
            uVar9 = uVar9 >> 0x10;
          }
          if (bVar58) {
            puVar41 = (uint *)((long)puVar29 + 6);
          }
          lVar15 = (long)puVar41 + ((-3 - (ulong)CARRY1((byte)uVar9,(byte)uVar9)) - (long)puVar45);
          puVar29 = (uint *)malloc(lVar15 + 10);
          memcpy(puVar29,puVar45,lVar15 + 1);
          lVar15 = FUN_00111230(puVar29);
          puVar41 = puVar29;
          if (lVar15 != 0) {
            puVar27 = (undefined *)FUN_00111230(puVar29);
            *puVar27 = 0;
          }
          do {
            puVar40 = puVar41;
            uVar5 = *puVar40 + 0xfefefeff & ~*puVar40;
            uVar9 = uVar5 & 0x80808080;
            puVar41 = puVar40 + 1;
          } while (uVar9 == 0);
          bVar58 = (uVar5 & 0x8080) == 0;
          if (bVar58) {
            uVar9 = uVar9 >> 0x10;
          }
          if (bVar58) {
            puVar41 = (uint *)((long)puVar40 + 6);
          }
          puVar33 = (undefined4 *)((long)puVar41 + (-3 - (ulong)CARRY1((byte)uVar9,(byte)uVar9)));
          *puVar33 = 0x6376772e;
          *(undefined *)(puVar33 + 1) = 0;
        }
        pcVar16 = local_2360[DAT_003190c8];
        if ((1 < DAT_003190cc) && (DAT_003190c0 == 0)) {
          __fprintf_chk(stderr,1,"\n%s:\n",pcVar16);
          fflush(stderr);
          pcVar16 = local_2360[DAT_003190c8];
        }
        lVar15 = FUN_00111230(pcVar16);
        if (lVar15 != 0) {
          pcVar16 = (char *)FUN_00111230(local_2360[DAT_003190c8]);
          iVar46 = strcasecmp(pcVar16,".wv");
          uVar9 = local_21d4;
          if (iVar46 != 0) goto LAB_00104808;
          lVar15 = 0x16;
          iVar46 = 0x507;
          puVar50 = (undefined8 *)&local_21e8;
          puVar33 = local_2188;
          while (lVar15 != 0) {
            lVar15 = lVar15 + -1;
            *puVar33 = *(undefined4 *)puVar50;
            puVar50 = (undefined8 *)((long)puVar50 + (ulong)bVar60 * -8 + 4);
            puVar33 = puVar33 + (ulong)bVar60 * -2 + 1;
          }
          local_2350 = local_2360[DAT_003190c8];
          if ((local_2178 & 0x200) != 0) {
            iVar46 = (-(uint)(DAT_003190a0 == 0) & 0xfffffffc) + 0x507;
          }
          lVar15 = WavpackOpenFileInput(local_2350,local_2098,iVar46);
          if (lVar15 == 0) {
            FUN_00111570(local_2098);
            iVar43 = iVar43 + 1;
            goto LAB_0010482e;
          }
          uVar5 = WavpackGetMode(lVar15);
          uVar6 = uVar5 & 2;
          if ((uVar6 == 0) && ((uVar9 & 0x80008) != 8)) {
            FUN_00111570("can\'t transcode lossy file %s to lossless...not allowed!",local_2350);
            WavpackCloseFile(lVar15);
            iVar43 = iVar43 + 1;
            goto LAB_0010482e;
          }
          lVar44 = WavpackGetNumSamples64(lVar15);
          if (lVar44 == -1) {
            FUN_00111570("can\'t transcode file %s of unknown length!",local_2350);
            WavpackCloseFile(lVar15);
            iVar43 = iVar43 + 1;
            goto LAB_0010482e;
          }
          lVar38 = 6;
          psVar51 = &local_2228;
          while (lVar38 != 0) {
            lVar38 = lVar38 + -1;
            *(undefined4 *)psVar51 = 0;
            psVar51 = (size_t *)((long)psVar51 + (ulong)bVar60 * -8 + 4);
          }
          lVar38 = 6;
          ptVar17 = local_2208;
          while (lVar38 != 0) {
            lVar38 = lVar38 + -1;
            *(undefined4 *)&ptVar17->tv_sec = 0;
            ptVar17 = (timeval *)((long)ptVar17 + (ulong)bVar60 * -8 + 4);
          }
          if (puVar29 == (uint *)0x0) {
            local_2368 = WavpackOpenFileOutput(FUN_001092c0,&local_2228,0);
            if ((*(char *)puVar45 != '-') &&
               (local_2220 = fopen((char *)puVar45,"rb"), local_2220 != (FILE *)0x0)) {
              FUN_001118a0(local_2220);
              if (DAT_003190d0 == 0) {
LAB_00106191:
                uVar37 = 0xffffffffffffffff;
                puVar41 = puVar45;
                do {
                  if (uVar37 == 0) break;
                  uVar37 = uVar37 - 1;
                  cVar3 = *(char *)puVar41;
                  puVar41 = (uint *)((long)puVar41 + (ulong)bVar60 * -2 + 1);
                } while (cVar3 != '\0');
                if ((uVar9 & 0x80008) == 8) {
                  if (0x1e < ~uVar37 - 1) {
                    FUN_001113e0(puVar45);
                  }
                  __fprintf_chk(stderr,1,"overwrite %s with lossy transcode (yes/no/all)? ");
                }
                else {
                  if (0x1e < ~uVar37 - 1) {
                    FUN_001113e0(puVar45);
                  }
                  __fprintf_chk(stderr,1,"overwrite %s (yes/no/all)? ");
                }
                fflush(stderr);
                if (DAT_003190b0 != 0) {
                  FUN_00111940("overwrite?");
                }
                cVar3 = FUN_00111410();
                if (cVar3 == 'a') {
                  DAT_003190d0 = 1;
                  goto LAB_001060f5;
                }
                if (cVar3 == 'n') goto LAB_00105149;
                if (puVar29 != (uint *)0x0) {
                  if (DAT_003190d0 == 0) goto LAB_0010622a;
                  goto LAB_00105171;
                }
              }
LAB_001060fe:
              uVar37 = 0xffffffffffffffff;
              puVar41 = puVar45;
              do {
                if (uVar37 == 0) break;
                uVar37 = uVar37 - 1;
                cVar3 = *(char *)puVar41;
                puVar41 = (uint *)((long)puVar41 + (ulong)bVar60 * -2 + 1);
              } while (cVar3 != '\0');
              local_2330 = (uint *)malloc(~uVar37 + 0xf);
              local_2318 = (uint *)0x0;
              goto LAB_001051ad;
            }
            gettimeofday(&local_2248,(__timezone_ptr_t)&local_2250);
            local_2318 = (uint *)0x0;
            if (*(char *)puVar45 != '-') {
              local_2330 = (uint *)0x0;
              iVar46 = 0;
              puVar41 = puVar45;
              goto LAB_0010529c;
            }
            local_2330 = (uint *)0x0;
            iVar46 = 0;
            goto LAB_00105fc3;
          }
          local_2368 = WavpackOpenFileOutput(FUN_001092c0);
          if (*(char *)puVar45 != '-') {
            local_2220 = fopen((char *)puVar45,"rb");
            if (local_2220 != (FILE *)0x0) {
              FUN_001118a0(local_2220);
              if (DAT_003190d0 == 0) goto LAB_00106191;
LAB_001060f5:
              if (puVar29 == (uint *)0x0) goto LAB_001060fe;
              goto LAB_00105171;
            }
            if (DAT_003190d0 == 0) {
LAB_0010622a:
              local_2208[0].tv_usec = (__suseconds_t)fopen((char *)puVar29,"rb");
              if ((FILE *)local_2208[0].tv_usec != (FILE *)0x0) goto LAB_001050d0;
            }
            uVar37 = 0xffffffffffffffff;
            puVar41 = puVar45;
            do {
              if (uVar37 == 0) break;
              uVar37 = uVar37 - 1;
              cVar3 = *(char *)puVar41;
              puVar41 = (uint *)((long)puVar41 + (ulong)bVar60 * -2 + 1);
            } while (cVar3 != '\0');
            local_2330 = (uint *)malloc(~uVar37 + 0xf);
            local_2318 = (uint *)0x0;
            if (puVar29 == (uint *)0x0) goto LAB_001051ad;
LAB_0010518e:
            uVar37 = 0xffffffffffffffff;
            puVar41 = puVar45;
            do {
              if (uVar37 == 0) break;
              uVar37 = uVar37 - 1;
              cVar3 = *(char *)puVar41;
              puVar41 = (uint *)((long)puVar41 + (ulong)bVar60 * -2 + 1);
            } while (cVar3 != '\0');
            local_2318 = (uint *)malloc(~uVar37 + 0xf);
LAB_001051ad:
            iVar46 = 0;
            do {
              strcpy((char *)local_2330,(char *)puVar45);
              lVar38 = FUN_00111230(local_2330);
              param_5 = (char *)0x0;
              if (lVar38 == 0) {
                if (iVar46 == 0) {
                  iVar46 = 1;
                  strcat((char *)local_2330,".tmp");
                }
                else {
                  uVar37 = 0xffffffffffffffff;
                  puVar41 = local_2330;
                  do {
                    if (uVar37 == 0) break;
                    uVar37 = uVar37 - 1;
                    cVar3 = *(char *)puVar41;
                    puVar41 = (uint *)((long)puVar41 + (ulong)bVar60 * -2 + 1);
                  } while (cVar3 != '\0');
                  sprintf((long)local_2330 + (~uVar37 - 1),1,0xffffffffffffffff);
                  iVar46 = iVar46 + 1;
                }
              }
              else {
                if (iVar46 == 0) {
                  puVar33 = (undefined4 *)FUN_00111230(local_2330);
                  *puVar33 = 0x706d742e;
                  *(undefined *)(puVar33 + 1) = 0;
                }
                else {
                  uVar30 = FUN_00111230(local_2330);
                  param_5 = (char *)0x0;
                  sprintf(uVar30,1,0xffffffffffffffff);
                }
                pcVar16 = (char *)FUN_00111230(puVar45);
                strcat((char *)local_2330,pcVar16);
                iVar46 = iVar46 + 1;
              }
              pFVar22 = fopen((char *)local_2330,"rb");
              if (pFVar22 == (FILE *)0x0) {
                if (puVar29 == (uint *)0x0) goto LAB_00105266;
                puVar31 = (undefined2 *)stpcpy((char *)local_2318,(char *)local_2330);
                *puVar31 = 99;
                pFVar22 = fopen((char *)local_2318,"rb");
                if (pFVar22 == (FILE *)0x0) goto LAB_00105266;
              }
              fclose(pFVar22);
            } while( true );
          }
          if ((DAT_003190d0 != 0) ||
             (local_2208[0].tv_usec = (__suseconds_t)fopen((char *)puVar29,"rb"),
             (FILE *)local_2208[0].tv_usec == (FILE *)0x0)) {
LAB_00105171:
            uVar37 = 0xffffffffffffffff;
            puVar41 = puVar45;
            do {
              if (uVar37 == 0) break;
              uVar37 = uVar37 - 1;
              cVar3 = *(char *)puVar41;
              puVar41 = (uint *)((long)puVar41 + (ulong)bVar60 * -2 + 1);
            } while (cVar3 != '\0');
            local_2330 = (uint *)malloc(~uVar37 + 0xf);
            goto LAB_0010518e;
          }
LAB_001050d0:
          FUN_001118a0(local_2208[0].tv_usec);
          uVar37 = 0xffffffffffffffff;
          puVar41 = puVar29;
          do {
            if (uVar37 == 0) break;
            uVar37 = uVar37 - 1;
            cVar3 = *(char *)puVar41;
            puVar41 = (uint *)((long)puVar41 + (ulong)bVar60 * -2 + 1);
          } while (cVar3 != '\0');
          if (0x1e < ~uVar37 - 1) {
            FUN_001113e0(puVar29);
          }
          __fprintf_chk(stderr,1,"overwrite %s (yes/no/all)? ");
          fflush(stderr);
          if (DAT_003190b0 != 0) {
            FUN_00111940("overwrite?");
          }
          cVar3 = FUN_00111410();
          if (cVar3 == 'a') {
            DAT_003190d0 = 1;
            goto LAB_00105171;
          }
          if (cVar3 != 'n') goto LAB_00105171;
          goto LAB_00105149;
        }
LAB_00104808:
        iVar46 = FUN_00109380(local_2360[DAT_003190c8],puVar45,puVar29,0);
        if (iVar46 != 0) goto LAB_00104f08;
        goto LAB_0010482e;
      }
      goto LAB_001059ce;
    }
    goto LAB_00104f53;
  }
  do {
    pcVar16 = local_2360[DAT_003190c8];
    if (*pcVar16 == '@') {
      pFVar22 = fopen(pcVar16 + 1,"rb");
      iVar43 = DAT_003190cc + -1;
      if (DAT_003190c8 < iVar43) {
        ppcVar26 = local_2360 + DAT_003190c8;
        do {
          ppcVar23 = ppcVar26 + 1;
          *ppcVar26 = ppcVar26[1];
          ppcVar26 = ppcVar23;
        } while (local_2360 +
                 (ulong)(uint)((DAT_003190cc + -2) - DAT_003190c8) + (long)DAT_003190c8 + 1 !=
                 ppcVar23);
      }
      DAT_003190c8 = DAT_003190c8 + -1;
      DAT_003190cc = iVar43;
      if (pFVar22 == (FILE *)0x0) {
        FUN_00111570("file %s not found!",pcVar16 + 1);
        free(pcVar16);
        bVar59 = true;
        goto LAB_00104693;
      }
      iVar43 = 0;
      pcVar24 = (char *)0x0;
      do {
        pcVar24 = (char *)realloc(pcVar24,(long)(iVar43 + 0x400));
        param_5 = pcVar24 + iVar43;
        *(__time_t *)param_5 = 0;
        ((timeval *)((long)param_5 + 0x3f0))->tv_usec = 0;
        puVar50 = (undefined8 *)((ulong)((long)param_5 + 8) & 0xfffffffffffffff8);
        uVar37 = (ulong)(((int)param_5 - (int)puVar50) + 0x400U >> 3);
        while (uVar37 != 0) {
          uVar37 = uVar37 - 1;
          *puVar50 = 0;
          puVar50 = puVar50 + (ulong)bVar60 * -2 + 1;
        }
        sVar19 = fread(param_5,1,0x400,pFVar22);
        iVar43 = iVar43 + (int)sVar19;
        pcVar47 = pcVar24;
      } while (0x3ff < (int)sVar19);
      do {
        cVar3 = *pcVar47;
        pcVar47 = pcVar47 + 1;
        if (cVar3 == '\0') break;
        if ((cVar3 == '\r') || (pcVar25 = pcVar47, cVar3 == '\n')) {
          do {
            do {
              pcVar25 = pcVar47 + 1;
              cVar3 = *pcVar47;
              pcVar47 = pcVar25;
            } while (cVar3 == '\n');
          } while (cVar3 == '\r');
          if (cVar3 == '\0') break;
        }
        param_5 = (char *)malloc(0x1000);
        lVar15 = 1;
        do {
          pcVar47 = pcVar25 + 1;
          *(char *)((long)param_5 + lVar15 + -1) = cVar3;
          iVar43 = DAT_003190cc;
          lVar44 = (long)(int)lVar15;
          cVar3 = *pcVar25;
          if (((cVar3 == '\n') || (cVar3 == '\r')) || (cVar3 == '\0')) goto LAB_00104596;
          lVar15 = lVar15 + 1;
          pcVar25 = pcVar47;
        } while (lVar15 != 0x1001);
        lVar44 = 0x1000;
LAB_00104596:
        *(undefined *)((long)(__time_t *)param_5 + lVar44) = 0;
        DAT_003190cc = DAT_003190cc + 1;
        lVar15 = (long)DAT_003190cc;
        local_2360 = (char **)realloc(local_2360,lVar15 * 8);
        iVar46 = DAT_003190c8 + 1;
        if (iVar46 < iVar43) {
          ppcVar26 = local_2360 + lVar15 + -1;
          do {
            ppcVar23 = ppcVar26 + -1;
            *ppcVar26 = ppcVar26[-1];
            ppcVar26 = ppcVar23;
          } while (local_2360 + ((lVar15 + -2) - (ulong)(uint)((iVar43 + -2) - DAT_003190c8)) !=
                   ppcVar23);
        }
        DAT_003190c8 = iVar46;
        local_2360[iVar46] = param_5;
      } while (cVar3 != '\0');
      fclose(pFVar22);
      free(pcVar24);
      free(pcVar16);
    }
    DAT_003190c8 = DAT_003190c8 + 1;
  } while (DAT_003190c8 < DAT_003190cc);
  if (((uint *)local_2350 != (uint *)0x0) && (*local_2350 == '@')) {
LAB_00105c56:
    pFVar22 = fopen((char *)((long)local_2350 + 1),"rb");
    if (pFVar22 == (FILE *)0x0) {
      FUN_00111570("file %s not found!",(char *)((long)local_2350 + 1));
      free(local_2350);
    }
    else {
      lVar15 = 0x400;
      puVar50 = local_2048;
      while (lVar15 != 0) {
        lVar15 = lVar15 + -1;
        *puVar50 = 0;
        puVar50 = puVar50 + (ulong)bVar60 * -2 + 1;
      }
      fread(local_2048,1,0x1fff,pFVar22);
      puVar50 = local_2048;
      do {
        do {
          puVar34 = puVar50;
          uVar9 = SEXT14(*(char *)puVar34);
          uVar37 = (ulong)uVar9;
          puVar50 = (undefined8 *)((long)puVar34 + 1);
        } while (uVar9 == 10);
      } while (uVar9 == 0xd);
      if (uVar9 != 0) {
        lVar15 = 1;
        param_5 = (char *)0x0;
        do {
          *(char *)((long)local_2350 + lVar15 + -1) = (char)uVar37;
          uVar37 = (ulong)(uint)(int)(char)*(byte *)((long)puVar34 + lVar15);
          lVar44 = (long)(int)lVar15;
          if ((*(byte *)((long)puVar34 + lVar15) < 0xe) && ((0x2401U >> (uVar37 & 0x3f) & 1) != 0))
          goto LAB_00105cfc;
          lVar15 = lVar15 + 1;
        } while (lVar15 != 0x1001);
        lVar44 = 0x1000;
LAB_00105cfc:
        *(undefined *)((long)local_2350 + lVar44) = 0;
        fclose(pFVar22);
        goto LAB_001046d4;
      }
      FUN_00111570("output spec file is empty!");
      free(local_2350);
      fclose(pFVar22);
    }
LAB_00105df2:
    bVar59 = true;
    goto LAB_00104693;
  }
LAB_001046d4:
  if (DAT_003190cc != 0) goto LAB_001046e1;
  FUN_00111570("nothing to do!");
  iVar43 = 1;
  goto LAB_00104f5d;
  while( true ) {
    local_2208[0].tv_sec = (long)&ptVar17->tv_sec + 1;
    bVar57 = *(byte *)&ptVar17->tv_sec < 0x3d;
    bVar58 = *(char *)&ptVar17->tv_sec == '=';
    ptVar17 = (timeval *)local_2208[0].tv_sec;
    if (bVar58) break;
LAB_00104042:
    bVar57 = false;
    bVar58 = *(char *)&ptVar17->tv_sec == '\0';
    local_2208[0].tv_sec = (__time_t)ptVar17;
    if (bVar58) break;
  }
  lVar15 = 5;
  ptVar17 = ptVar20;
  pbVar18 = &DAT_00112cdd;
  do {
    if (lVar15 == 0) break;
    lVar15 = lVar15 + -1;
    bVar57 = *(byte *)&ptVar17->tv_sec < *pbVar18;
    bVar58 = *(byte *)&ptVar17->tv_sec == *pbVar18;
    ptVar17 = (timeval *)((long)ptVar17 + (ulong)bVar60 * -2 + 1);
    pbVar18 = pbVar18 + (ulong)bVar60 * -2 + 1;
  } while (bVar58);
  bVar55 = false;
  bVar57 = (!bVar57 && !bVar58) == bVar57;
  if (bVar57) {
    puts(
        " Usage:\n    WAVPACK [-options] infile[.wav]|infile.ext|- [...] [-o outfile[.wv]|outpath|-]\n\n    The default operation is lossless. Multiple input files may be specified\n    and the source file type is automatically determined (see accepted formats\n    below). Raw PCM data may also be used (see --raw-pcm option).\n\n All Utilities:             WAVPACK:  create or transcode WavPack files\n                            WVUNPACK: unpack or verify existing WavPack files\n                            WVGAIN:   apply ReplayGain to WavPack files\n                            WVTAG:    apply or edit metadata tags on WavPack files\n\n Input Formats:             .wav (default, includes bwf/rf64 varients)\n                            .wv  (transcode operation, tags copied)\n                            .caf (Core Audio Format)\n                            .w64 (Sony Wave64)\n                            .dff (Philips DSDIFF)\n                            .dsf (Sony DSD stream)\n\n Options:\n    -a                      Adobe Audition (CoolEdit) mode for 32-bit floats\n    --allow-huge-tags       allow tag data up to 16 MB (embedding > 1 MB is not\n                             recommended for portable devices and may not work\n                             with some programs including WavPack pre-4.70)\n    -bn                     enable hybrid compression\n                              n = 2.0 to 23.9 bits/sample, or\n                              n = 24-9600 kbits/second (kbps)\n                              add -c to create correction file (.wvc)\n    --blocksize=n           specify block size in samples (max = 131072 and\n                               min = 16 with --merge-blocks, otherwise 128)\n    -c                      hybrid lossless mode (use with -b to create\n                             correction file (.wvc) in hybrid mode)\n    -cc                     maximum hybrid lossless compression (but degrades\n                             decode speed and may result in lower quality)\n    --channel-order=<list>  specify (comma separated) channel order if ..." /* TRUNCATED STRING LITERAL */
        );
    bVar59 = false;
    goto LAB_00104693;
  }
  lVar15 = 8;
  ptVar17 = ptVar20;
  pbVar18 = (byte *)"version";
  do {
    if (lVar15 == 0) break;
    lVar15 = lVar15 + -1;
    bVar55 = *(byte *)&ptVar17->tv_sec < *pbVar18;
    bVar57 = *(byte *)&ptVar17->tv_sec == *pbVar18;
    ptVar17 = (timeval *)((long)ptVar17 + (ulong)bVar60 * -2 + 1);
    pbVar18 = pbVar18 + (ulong)bVar60 * -2 + 1;
  } while (bVar57);
  if ((!bVar55 && !bVar57) == bVar55) {
    __printf_chk(1,"wavpack %s\n",&DAT_00112cea);
    uVar30 = WavpackGetLibraryVersionString();
    __printf_chk(1,"libwavpack %s\n",uVar30);
    bVar59 = false;
    goto LAB_00104693;
  }
  iVar46 = strcmp((char *)ptVar20,"optimize-mono");
  if (iVar46 == 0) {
    FUN_00111570("warning: --optimize-mono deprecated, now enabled by default");
    uVar8 = DAT_00319094;
    uVar5 = local_21d8;
    uVar6 = local_21b8;
  }
  else {
    iVar46 = strcmp((char *)ptVar20,"dns");
    if (iVar46 == 0) {
      FUN_00111570("warning: --dns deprecated, use --use-dns");
      uVar9 = uVar9 + 1;
      uVar8 = DAT_00319094;
      uVar5 = local_21d8;
      uVar6 = local_21b8;
    }
    else {
      iVar46 = strcmp((char *)ptVar20,"use-dns");
      if (iVar46 == 0) {
        local_21d4 = local_21d4 | 0x20000;
        uVar8 = DAT_00319094;
        uVar5 = local_21d8;
        uVar6 = local_21b8;
      }
      else {
        iVar46 = strcmp((char *)ptVar20,"cross-decorr");
        if (iVar46 == 0) {
          local_21d4 = local_21d4 | 0x20;
          uVar8 = DAT_00319094;
          uVar5 = local_21d8;
          uVar6 = local_21b8;
        }
        else {
          iVar46 = strcmp((char *)ptVar20,"merge-blocks");
          if (iVar46 == 0) {
            local_21d4 = local_21d4 | 0x10000000;
            uVar8 = DAT_00319094;
            uVar5 = local_21d8;
            uVar6 = local_21b8;
          }
          else {
            iVar46 = strcmp((char *)ptVar20,"pair-unassigned-chans");
            if (iVar46 == 0) {
              local_21d4 = local_21d4 | 0x20000000;
              uVar8 = DAT_00319094;
              uVar5 = local_21d8;
              uVar6 = local_21b8;
            }
            else {
              iVar46 = strcmp((char *)ptVar20,"import-id3");
              if (iVar46 == 0) {
                DAT_003190a0 = 1;
                uVar8 = DAT_00319094;
                uVar5 = local_21d8;
                uVar6 = local_21b8;
              }
              else {
                iVar46 = strcmp((char *)ptVar20,"no-utf8-convert");
                if (iVar46 == 0) {
                  DAT_003190b4 = 1;
                  uVar8 = DAT_00319094;
                  uVar5 = local_21d8;
                  uVar6 = local_21b8;
                }
                else {
                  iVar46 = strcmp((char *)ptVar20,"allow-huge-tags");
                  if (iVar46 == 0) {
                    DAT_003190ac = 1;
                    uVar8 = DAT_00319094;
                    uVar5 = local_21d8;
                    uVar6 = local_21b8;
                  }
                  else {
                    iVar46 = strcmp((char *)ptVar20,"write-binary-tag");
                    if (iVar46 == 0) {
                      iVar43 = 2;
                      uVar8 = DAT_00319094;
                      uVar5 = local_21d8;
                      uVar6 = local_21b8;
                    }
                    else {
                      iVar46 = strncmp((char *)ptVar20,"raw-pcm-skip",0xc);
                      if (iVar46 == 0) {
                        lVar15 = strtol((char *)local_2208[0].tv_sec,(char **)local_2208,10);
                        iVar46 = (int)lVar15;
                        DAT_0031909c = iVar46;
                        if (*(char *)(__time_t *)local_2208[0].tv_sec == ',') {
                          local_2208[0].tv_sec = (long)(__time_t *)local_2208[0].tv_sec + 1;
                          lVar15 = strtol((char *)local_2208[0].tv_sec,(char **)local_2208,10);
                          DAT_00319098 = (int)lVar15;
                        }
                        param_5 = (char *)local_2208[0].tv_sec;
                        if (((*(char *)(__time_t *)local_2208[0].tv_sec != '\0') || (iVar46 < 0)) ||
                           (DAT_00319098 < 0)) {
                          FUN_00111570("syntax error in raw-pcm-skip specification!");
                          uVar9 = uVar9 + 1;
                        }
                        FUN_00111570("raw_pcm_skip = %d, %d bytes",DAT_0031909c,DAT_00319098);
                        uVar8 = DAT_00319094;
                        uVar5 = local_21d8;
                        uVar6 = local_21b8;
                      }
                      else {
                        iVar46 = strncmp((char *)ptVar20,"raw-pcm",7);
                        if (iVar46 == 0) {
                          local_2128.C = 2;
                          bVar58 = false;

                          bVar57 = false;
                          iVar7 = 0;
                          lVar15 = 0;
                          while (ptVar17 = (timeval *)local_2208[0].tv_sec,
                                cVar3 = *(char *)(__time_t *)local_2208[0].tv_sec,
                                param_5 = (char *)local_2208[0].tv_sec, cVar3 != '\0') {
                            param_5 = (char *)ptVar17;
                            if (lVar15 == 3) {
                              iVar46 = strcasecmp((char *)local_2208[0].tv_sec,"be");
                              if (iVar46 == 0) {
                                param_5 = (char *)((long)&ptVar17->tv_sec + 2);
                                iVar46 = 1;
                                local_2208[0].tv_sec = (__time_t)param_5;
LAB_0010787d:
                                if (*(char *)(__time_t *)param_5 == '\0') break;
                              }
                              else {
                                iVar46 = strcasecmp((char *)ptVar17,"le");
                                if (iVar46 == 0) {
                                  param_5 = (char *)((long)&ptVar17->tv_sec + 2);
                                  local_2208[0].tv_sec = (__time_t)param_5;
                                  goto LAB_0010787d;
                                }
                              }
                              FUN_00111570("syntax error in raw PCM specification!");
                              uVar9 = uVar9 + 1;
                              uVar8 = DAT_00319094;
                              uVar5 = local_21d8;
                              uVar6 = local_21b8;
                              goto LAB_00103870;
                            }
                            ppuVar36 = __ctype_b_loc();
                            if ((*(byte *)((long)*ppuVar36 + (long)cVar3 * 2 + 1) & 8) != 0) {
                              lVar44 = strtol((char *)ptVar17,(char **)local_2208,10);
                              *(int *)((long)&local_2128 + lVar15 * 4) = (int)lVar44;
                              param_5 = (char *)local_2208[0].tv_sec;
                            }
                            if (lVar15 == 1) {
                              bVar4 = *(byte *)(__time_t *)param_5 & 0xdf;
                              if (bVar4 == 0x46) {
                                param_5 = (char *)((long)(__time_t *)param_5 + 1);
                                iVar7 = 1;
                                local_2208[0].tv_sec = (__time_t)param_5;
                              }
                              else {
                                if (bVar4 == 0x55) {
                                  param_5 = (char *)((long)(__time_t *)param_5 + 1);
                                  bVar57 = true;
                                  local_2208[0].tv_sec = (__time_t)param_5;
                                }
                                else {
                                  if (bVar4 == 0x53) {
                                    param_5 = (char *)((long)(__time_t *)param_5 + 1);
                                    bVar58 = true;
                                    local_2208[0].tv_sec = (__time_t)param_5;
                                  }
                                }
                              }
                            }
                            lVar15 = lVar15 + 1;
                            if (*(char *)(__time_t *)param_5 != ',') goto LAB_0010787d;
                            local_2208[0].tv_sec = (long)(__time_t *)param_5 + 1;
                          }
                          if ((((local_2128.A - 1 < 1000000000) && (local_2128.B - 1 < 0x20)) &&
                              ((local_2128.B == 0x20 || (iVar7 == 0)))) &&
                             (local_2128.C - 1 < 0x100)) {
                            uVar8 = DAT_00319094;
                            uVar6 = local_21b8;
                            if (local_2128.B == 1) {
                              local_21bc = (int)local_2128.A >> 3;
                              local_21e0 = 0x100000008;
                              local_21cc = local_2128.C;
                              uVar5 = local_21d8 | 0x1020;
                            }
                            else {
                              local_21bc = local_2128.A;
                              local_21cc = local_2128.C;
                              local_21e0 = CONCAT44((int)(local_2128.B + 7) >> 3,local_2128.B);
                              if (iVar7 != 0) {
                                iVar7 = 0x7f;
                              }
                              local_21c8 = iVar7;
                              if ((int)local_2128.B < 9) {
                                uVar5 = local_21d8 | 0x1000;
                                if (bVar58) {
                                  uVar5 = local_21d8 | 0x1002;
                                }
                              }
                              else {
                                uVar5 = local_21d8 | 0x1000;
                                if (bVar57) {
                                  uVar5 = local_21d8 | 0x1004;
                                }
                                local_21d8 = uVar5;
                                uVar5 = local_21d8;
                                if (iVar46 != 0) {
                                  uVar5 = local_21d8 | 1;
                                }
                              }
                            }
                          }
                          else {
                            FUN_00111570("argument range error in raw PCM specification!");
                            uVar9 = uVar9 + 1;
                            uVar8 = DAT_00319094;
                            uVar5 = local_21d8;
                            uVar6 = local_21b8;
                          }
                        }
                        else {
                          iVar46 = strncmp((char *)ptVar20,"blocksize",9);
                          if (iVar46 != 0) {
                            iVar46 = strncmp((char *)ptVar20,"channel-order",0xd);
                            if (iVar46 == 0) {
                              lVar15 = 0;
                              ptVar17 = (timeval *)local_2208[0].tv_sec;
                              param_5 = (char *)local_2208[0].tv_sec;
                              uVar37 = 0;
                              do {
                                uVar6 = (uint)uVar37;
                                uVar8 = (undefined4)lVar15;
                                uVar5 = local_21d8;
                                if (*(char *)&ptVar17->tv_sec == '\0') goto LAB_00103870;
                                if (*(char *)&ptVar17->tv_sec == '.') {
                                  param_5 = (char *)ptVar17;
                                  local_2208[0].tv_sec = (__time_t)((long)&ptVar17->tv_sec + 1);
                                  if (((*(char *)((long)&ptVar17->tv_sec + 1) != '.') ||
                                      (local_2208[0].tv_sec = (__time_t)((long)&ptVar17->tv_sec + 2)
                                      , *(char *)((long)&ptVar17->tv_sec + 2) != '.')) ||
                                     (ptVar20 = (timeval *)((long)&ptVar17->tv_sec + 3),
                                     local_2208[0].tv_sec = (__time_t)ptVar20,
                                     *(char *)((long)&ptVar17->tv_sec + 3) != '\0')) {
LAB_00107b1e:
                                    FUN_00111570("syntax error in channel order specification!");
                                    uVar9 = uVar9 + 1;
                                    uVar8 = DAT_00319094;
                                    uVar5 = local_21d8;
                                    uVar6 = local_21b8;
                                    goto LAB_00103870;
                                  }
                                  local_21d8 = local_21d8 | 0x400;
                                  goto LAB_00107af2;
                                }
                                ppuVar36 = __ctype_b_loc();
                                puVar2 = *ppuVar36;
                                lVar44 = 0;
                                ptVar20 = ptVar17;
                                while( true ) {
                                  lVar38 = (long)(int)lVar44;
                                  if ((*(byte *)((long)puVar2 +
                                                (long)*(char *)&ptVar20->tv_sec * 2 + 1) & 4) == 0)
                                  break;
                                  if (lVar44 == 5) {
                                    lVar38 = 5;
                                    goto LAB_00107a62;
                                  }
                                  local_2208[0].tv_sec = (long)&ptVar20->tv_sec + 1;
                                  *(undefined *)((long)local_2048 + lVar44) =
                                       *(undefined *)&ptVar20->tv_sec;
                                  lVar44 = lVar44 + 1;
                                  ptVar20 = (timeval *)local_2208[0].tv_sec;
                                }
                                if ((int)lVar44 == 0) goto LAB_00107b1e;
LAB_00107a62:
                                *(undefined *)((long)local_2048 + lVar38) = 0;
                                uVar48 = 0;
                                while( true ) {
                                  iVar46 = strcasecmp((char *)local_2048,(&PTR_DAT_00318220)[uVar48]
                                                     );
                                  if (iVar46 == 0) break;
                                  uVar48 = uVar48 + 1;
                                  if (uVar48 == 0x12) goto LAB_00107b36;
                                }
                                (&DAT_00319080)[lVar15] = (byte)uVar48;
                                uVar6 = uVar6 | (uint)(1 << ((byte)uVar48 & 0x3f));
                                if ((uVar37 >> (uVar48 & 0x3f) & 1) != 0) {
LAB_00107b36:
                                  FUN_00111570("unknown or repeated channel spec: %s!",local_2048);
                                  goto LAB_00107b1e;
                                }
                                ptVar17 = ptVar20;
                                if ((*(char *)&ptVar20->tv_sec != '\0') &&
                                   (ptVar17 = (timeval *)((long)&ptVar20->tv_sec + 1),
                                   local_2208[0].tv_sec = (__time_t)ptVar17,
                                   *(char *)&ptVar20->tv_sec != ',')) goto LAB_00107b1e;
                                lVar15 = lVar15 + 1;
                                uVar37 = (ulong)uVar6;
                              } while (lVar15 != 0x12);
                              uVar8 = 0x12;
                              ptVar20 = ptVar17;
LAB_00107af2:
                              param_5 = (char *)ptVar20;
                              uVar5 = local_21d8;
                              if (*(char *)&ptVar20->tv_sec != '\0') {
                                FUN_00111570("too many channels specified!");
                                uVar9 = uVar9 + 1;
                                param_5 = (char *)ptVar20;
                                uVar8 = DAT_00319094;
                                uVar5 = local_21d8;
                                uVar6 = local_21b8;
                              }
                              goto LAB_00103870;
                            }
                            iVar46 = strncmp((char *)ptVar20,"pre-quantize-round",0x12);
                            if (iVar46 == 0) {
                              lVar15 = strtol((char *)local_2208[0].tv_sec,(char **)0x0,10);
                              DAT_003190a8 = (uint)lVar15;
                              DAT_003190a4 = DAT_003190a8;
                            }
                            else {
                              iVar46 = strncmp((char *)ptVar20,"pre-quantize",0xc);
                              if (iVar46 != 0) {
                                FUN_00111570("unknown option: %s !",ptVar20);
                                uVar9 = uVar9 + 1;
                                uVar8 = DAT_00319094;
                                uVar5 = local_21d8;
                                uVar6 = local_21b8;
                                goto LAB_00103870;
                              }
                              lVar15 = strtol((char *)local_2208[0].tv_sec,(char **)0x0,10);
                              DAT_003190a8 = (uint)lVar15;
                            }
                            uVar8 = DAT_00319094;
                            uVar5 = local_21d8;
                            uVar6 = local_21b8;
                            if (0x1c < DAT_003190a8 - 4) {
                              FUN_00111570("invalid quantize bits!");
                              uVar9 = uVar9 + 1;
                              uVar8 = DAT_00319094;
                              uVar5 = local_21d8;
                              uVar6 = local_21b8;
                            }
                            goto LAB_00103870;
                          }
                          lVar15 = strtol((char *)local_2208[0].tv_sec,(char **)0x0,10);
                          local_21c4 = (uint)lVar15;
                          uVar8 = DAT_00319094;
                          uVar5 = local_21d8;
                          uVar6 = local_21b8;
                          if (0x1fff0 < local_21c4 - 0x10) {
                            FUN_00111570("invalid blocksize!");
                            uVar9 = uVar9 + 1;
                            uVar8 = DAT_00319094;
                            uVar5 = local_21d8;
                            uVar6 = local_21b8;
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  goto LAB_00103870;
LAB_00103bc0:
  *param_2 = (timeval *)((long)&ptVar17->tv_sec + 1);
  cVar3 = *(char *)((long)&ptVar17->tv_sec + 1);
  uVar8 = DAT_00319094;
  uVar5 = local_21d8;
  uVar6 = local_21b8;
  if (cVar3 == '\0') goto LAB_00103870;
  switch(cVar3) {
  case 'A':
  case 'a':
    local_21d8 = local_21d8 | 0x100;
    break;
  case 'B':
  case 'b':
    ptVar17 = (timeval *)((long)&ptVar17->tv_sec + 2);
    local_21d4 = local_21d4 | 8;
    *param_2 = ptVar17;
    dVar61 = strtod((char *)ptVar17,(char **)param_2);
    local_21e8 = (float)dVar61;
    *param_2 = (timeval *)((long)&(*param_2)[-1].tv_usec + 7);
    if ((local_21e8 < 2.0) || (9600.0 < local_21e8)) {
      FUN_00111570("hybrid spec must be 2.0 to 9600!");
      uVar9 = uVar9 + 1;
    }
    if (24.0 <= local_21e8) {
      local_21d4 = local_21d4 | 0x2000;
    }
    break;
  case 'C':
  case 'c':
    uVar5 = local_21d4 | 0x80000;
    uVar6 = local_21d4 & 0x80000;
    local_21d4 = local_21d4 | 0x100000;
    if (uVar6 == 0) {
      local_21d4 = uVar5;
    }
    break;
  case 'D':
  case 'd':
    DAT_003190b8 = 1;
    break;
  default:
    FUN_00111570("illegal option: %c !",(int)cVar3);
    uVar9 = uVar9 + 1;
    break;
  case 'F':
  case 'f':
    local_21d4 = local_21d4 | 0x200;
    break;
  case 'H':
  case 'h':
    uVar5 = 0x1000;
    if ((local_21d4 & 0x800) == 0) {
      uVar5 = 0x800;
    }
    local_21d4 = local_21d4 | uVar5;
    break;
  case 'I':
  case 'i':
    local_21d8 = local_21d8 | 0x800;
    break;
  case 'J':
  case 'j':
    ptVar17 = (timeval *)((long)&ptVar17->tv_sec + 2);
    *param_2 = ptVar17;
    lVar15 = strtol((char *)ptVar17,(char **)param_2,10);
    if (lVar15 == 0) {
      local_21d4 = local_21d4 & 0xffffffef | 0x10000;
    }
    else {
      if (lVar15 == 1) {
        local_21d4 = local_21d4 | 0x10010;
      }
      else {
        FUN_00111570("-j0 or -j1 only!");
        uVar9 = uVar9 + 1;
      }
    }
    goto LAB_00103da9;
  case 'M':
  case 'm':
    local_21d4 = local_21d4 | 0x8000000;
    break;
  case 'N':
  case 'n':
    local_21d4 = local_21d4 | 0x800000;
    break;
  case 'O':
  case 'o':
    bVar59 = true;
    break;
  case 'Q':
  case 'q':
    DAT_003190c0 = 1;
    break;
  case 'R':
  case 'r':
    local_21d8 = local_21d8 | 0x200;
    break;
  case 'S':
  case 's':
    ptVar17 = (timeval *)((long)&ptVar17->tv_sec + 2);
    *param_2 = ptVar17;
    dVar61 = strtod((char *)ptVar17,(char **)param_2);
    local_21e4 = (float)dVar61;
    if (local_21e4 == 0.0) {
      local_21d4 = local_21d4 & 0xffffffbf | 0x8000;
    }
    else {
      if ((local_21e4 < -1.0) || (1.0 < local_21e4)) {
        FUN_00111570("-s-1.00 to -s1.00 only!");
        uVar9 = uVar9 + 1;
      }
      else {
        local_21d4 = local_21d4 | 0x8040;
      }
    }
    goto LAB_00103da9;
  case 'T':
  case 't':
    DAT_003190c4 = 1;
    break;
  case 'V':
  case 'v':
    DAT_003190bc = 1;
    break;
  case 'W':
  case 'w':
    iVar43 = iVar43 + 1;
    if (iVar43 == 2) {
      FUN_00111570("warning: -ww deprecated, use --write-binary-tag");
      uVar9 = uVar9 + 1;
    }
    break;
  case 'X':
  case 'x':
    ptVar17 = (timeval *)((long)&ptVar17->tv_sec + 2);
    *param_2 = ptVar17;
    lVar15 = strtol((char *)ptVar17,(char **)param_2,10);
    local_21d0 = (uint)lVar15;
    if (local_21d0 < 7) {
      local_21d4 = local_21d4 | 0x2000000;
    }
    else {
      FUN_00111570("extra mode only goes from 1 to 6!");
      uVar9 = uVar9 + 1;
    }
LAB_00103da9:
    *param_2 = (timeval *)((long)&(*param_2)[-1].tv_usec + 7);
    break;
  case 'Y':
  case 'y':
    DAT_003190d0 = 1;
    break;
  case 'Z':
  case 'z':
    ptVar17 = (timeval *)((long)&ptVar17->tv_sec + 2);
    *param_2 = ptVar17;
    lVar15 = strtol((char *)ptVar17,(char **)param_2,10);
    *param_2 = (timeval *)((long)&(*param_2)[-1].tv_usec + 7);
    DAT_003190b0 = (int)lVar15;
  }
  ptVar17 = *param_2;
  goto LAB_00103bc0;
LAB_00105266:
  gettimeofday(&local_2248,(__timezone_ptr_t)&local_2250);
  iVar46 = 1;
  puVar41 = local_2330;
  if (*(char *)puVar45 != '-') {
LAB_0010529c:
    local_2220 = fopen((char *)puVar41,"w+b");
    if (local_2220 != (FILE *)0x0) goto LAB_001052bc;
    FUN_00111570("can\'t create file %s!",puVar41);
LAB_00105149:
    WavpackCloseFile(lVar15);
LAB_00105153:
    WavpackCloseFile(local_2368);
    iVar43 = iVar43 + 1;
    goto LAB_0010482e;
  }
LAB_00105fc3:
  local_2220 = stdout;
LAB_001052bc:
  local_2288 = (__timezone_ptr_t)&local_2250;
  if (DAT_003190c0 == 0) {
    if (*(char *)puVar45 == '-') {
      if (*local_2350 != '-') {
        uVar37 = 0xffffffffffffffff;
        puVar41 = (uint *)local_2350;
        do {
          if (uVar37 == 0) break;
          uVar37 = uVar37 - 1;
          cVar3 = *(char *)puVar41;
          puVar41 = (uint *)((long)puVar41 + (ulong)bVar60 * -2 + 1);
        } while (cVar3 != '\0');
        if (0x1e < ~uVar37 - 1) {
          FUN_001113e0(local_2350);
        }
      }
      __fprintf_chk(stderr,1,"packing %s to stdout,");
    }
    else {
      if (puVar29 == (uint *)0x0) {
        uVar37 = 0xffffffffffffffff;
        puVar41 = puVar45;
        do {
          if (uVar37 == 0) break;
          uVar37 = uVar37 - 1;
          cVar3 = *(char *)puVar41;
          puVar41 = (uint *)((long)puVar41 + (ulong)bVar60 * -2 + 1);
        } while (cVar3 != '\0');
        if (0x1e < ~uVar37 - 1) {
          FUN_001113e0(puVar45);
        }
        __fprintf_chk(stderr,1,"creating %s,");
      }
      else {
        param_5 = (char *)FUN_00111230(puVar29);
        uVar37 = 0xffffffffffffffff;
        puVar41 = puVar45;
        do {
          if (uVar37 == 0) break;
          uVar37 = uVar37 - 1;
          cVar3 = *(char *)puVar41;
          puVar41 = (uint *)((long)puVar41 + (ulong)bVar60 * -2 + 1);
        } while (cVar3 != '\0');
        if (0x1e < ~uVar37 - 1) {
          FUN_001113e0(puVar45);
        }
        __fprintf_chk(stderr,1,"creating %s (+%s),");
      }
    }
    fflush(stderr);
  }
  uVar54 = WavpackGetFileFormat(lVar15);
  uVar30 = WavpackGetFileExtension(lVar15);
  WavpackSetFileInformation(local_2368,uVar30,uVar54);
  iVar7 = WavpackGetWrapperBytes(lVar15);
  if (iVar7 == 0) {
LAB_001053a8:
    local_217c = WavpackGetBytesPerSample(lVar15);
    local_2180 = WavpackGetBitsPerSample(lVar15);
    local_2158 = WavpackGetChannelMask(lVar15);
    local_216c = WavpackGetNumChannels(lVar15);
    local_215c = WavpackGetSampleRate(lVar15);
    uVar9 = WavpackGetQualifyMode();
    local_2178 = local_2178 | uVar9;
    pvVar32 = malloc((long)(local_216c + 1));
    WavpackGetChannelIdentities(lVar15,pvVar32);
    if ((uVar5 & 8) != 0) {
      local_2168 = WavpackGetFloatNormExp(lVar15);
    }
    if ((uVar5 & 0x800) != 0) {
      local_2174 = local_2174 | 0x8000000;
    }
    iVar7 = WavpackSetConfiguration64(local_2368,local_2188,lVar44);
    if (iVar7 != 0) {
      free(pvVar32);
      if ((local_2178 & 8) == 0) {
        uVar8 = WavpackGetChannelLayout(lVar15);
        WavpackSetChannelLayout(local_2368,uVar8,0);
      }
      else {
        uVar8 = WavpackGetChannelLayout(lVar15);
        if ((char)uVar8 != '\0') {
          WavpackGetChannelLayout(lVar15);
          WavpackSetChannelLayout(local_2368,uVar8,local_2048);
        }
      }
      if (puVar29 != (uint *)0x0) {
        if (iVar46 == 0) {
          local_2208[0].tv_usec = (__suseconds_t)fopen((char *)puVar29,"w+b");
          if ((FILE *)local_2208[0].tv_usec == (FILE *)0x0) {
            FUN_00111570("can\'t create correction file!");
            WavpackCloseFile(lVar15);
            FUN_001118a0(local_2220);
            local_2330 = puVar45;
            goto LAB_001063a2;
          }
        }
        else {
          local_2208[0].tv_usec = (__suseconds_t)fopen((char *)local_2318,"w+b");
          if ((FILE *)local_2208[0].tv_usec == (FILE *)0x0) {
            FUN_00111570("can\'t create correction file!");
            WavpackCloseFile(lVar15);
            FUN_001118a0(local_2220);
LAB_001063a2:
            FUN_00111910(local_2330);
            WavpackCloseFile(local_2368);
            iVar43 = iVar43 + 1;
            goto LAB_0010482e;
          }
        }
      }
      local_22d8 = 0x10000;
      iVar7 = WavpackGetBytesPerSample(lVar15);
      iVar10 = WavpackGetNumChannels(lVar15);
      uVar9 = WavpackGetQualifyMode(lVar15);
      if ((uVar9 & 0x40) == 0) {
        while( true ) {
          uVar37 = (ulong)local_22d8;
          iVar11 = WavpackGetNumChannels(local_2368);
          if ((long)iVar11 * uVar37 * 4 < 0x200001) break;
          local_22d8 = local_22d8 >> 1;
        }
      }
      else {
        local_22d8 = 0x1000;
        uVar37 = 0x1000;
      }
      iVar11 = WavpackGetNumChannels();
      ptVar17 = (timeval *)malloc((ulong)(iVar11 * iVar7 * local_22d8));
      MD5_Init(&local_2128);
      sVar19 = SEXT48(iVar10);
      if (((uVar9 & 8) == 0) || (bVar4 = WavpackGetChannelLayout(lVar15), iVar10 < (int)(uint)bVar4)
         ) {
        local_2300 = (void *)0x0;
      }
      else {
        local_2300 = malloc(sVar19);
        lVar38 = 0;
        while ((int)lVar38 < iVar10) {
          *(char *)((long)local_2300 + lVar38) = (char)lVar38;
          lVar38 = lVar38 + 1;
        }
        WavpackGetChannelLayout(lVar15);
      }
      WavpackPackInit(local_2368);
      iVar11 = WavpackGetNumChannels(local_2368);
      puVar33 = (undefined4 *)malloc(uVar37 * 4 * (long)iVar11);
      if (DAT_003190a8 == 0) {
        local_22e8 = 1.0;
        local_22f0 = 1.0;
        uVar39 = DAT_003190a8;
      }
      else {
        if ((int)DAT_003190a8 < iVar7 * 8) {
          uVar39 = -1 << ((char)(iVar7 * 8) - (char)DAT_003190a8 & 0x1fU);
          uVar37 = WavpackGetMode(lVar15);
          if ((uVar37 & 8) == 0) {
            local_22e8 = 1.0;
            local_22f0 = 1.0;
          }
          else {
            iVar11 = WavpackGetFloatNormExp(lVar15);
            uVar13 = DAT_003190a8;
            local_22f0 = exp2((double)((DAT_003190a8 + 0x7e) - iVar11));
            local_22e8 = exp2((double)((iVar11 + -0x7e) - uVar13));
          }
        }
        else {
          local_22e8 = 1.0;
          local_22f0 = 1.0;
          uVar39 = 0;
        }
      }
      local_2260 = ('\x04' - (char)iVar7) * '\b';
      local_22b0 = -1.0;
      while (iVar11 = WavpackUnpackSamples(lVar15,puVar33,local_22d8), iVar11 != 0) {
        if (uVar39 != 0) {
          uVar13 = iVar10 * iVar11;
          uVar37 = WavpackGetMode(lVar15);
          if ((uVar37 & 8) == 0) {
            if (DAT_003190a4 != 0) {
              lVar38 = 0;
              while ((uint)lVar38 < uVar13) {
                iVar12 = ((int)uVar39 >> 1 ^ uVar39) + puVar33[lVar38];
                if (((int)puVar33[lVar38] < 0) || (0 < iVar12 << (local_2260 & 0x1f))) {
                  puVar33[lVar38] = iVar12;
                }
                lVar38 = lVar38 + 1;
              }
            }
            lVar38 = 0;
            while ((uint)lVar38 < uVar13) {
              puVar33[lVar38] = puVar33[lVar38] & uVar39;
              lVar38 = lVar38 + 1;
            }
          }
          else {
            lVar38 = 0;
            while ((uint)lVar38 < uVar13) {
              dVar61 = floor((double)(float)puVar33[lVar38] * local_22f0 + 0.5);
              puVar33[lVar38] = (float)(dVar61 * local_22e8);
              lVar38 = lVar38 + 1;
            }
          }
        }
        iVar12 = WavpackPackSamples(local_2368,puVar33,iVar11);
        if (iVar12 == 0) {
          iVar7 = 2;
          uVar30 = WavpackGetErrorMessage(local_2368);
          FUN_00111570("%s",uVar30);
          free(puVar33);
          goto LAB_00104e9e;
        }
        if (local_2300 != (void *)0x0) {
          FUN_00107db0(puVar33,local_2300,iVar10,0);
        }
        if ((uVar9 & 0x30) == 0) {
          param_5 = (char *)0x0;
          FUN_001085b0(ptVar17,puVar33,uVar9,0,0);
        }
        else {
          if ((uVar9 & 0x40) == 0) {
            param_5 = (char *)0x0;
            if (iVar10 * iVar11 != 0) {
              lVar38 = 0;
              do {
                *(char *)((long)&ptVar17->tv_sec + lVar38) = (char)puVar33[lVar38];
                lVar38 = lVar38 + 1;
              } while ((ulong)(iVar10 * iVar11 - 1) + 1 != lVar38);
            }
          }
          else {
            if (iVar10 != 0) {
              ptVar20 = ptVar17;
              puVar52 = puVar33;
              do {
                lVar38 = 0;
                puVar42 = puVar52;
                do {
                  while ((int)lVar38 < iVar11) {
                    bVar4 = (byte)*puVar42;
                    if ((uVar9 & 0x10) != 0) {
                      bVar4 = (&DAT_00115c20)[bVar4];
                    }
                    *(byte *)((long)&ptVar20->tv_sec + lVar38) = bVar4;
                    lVar38 = lVar38 + 1;
                    puVar42 = puVar42 + sVar19;
                    if (lVar38 == 0x1000) goto LAB_0010579c;
                  }
                  *(undefined *)((long)&ptVar20->tv_sec + lVar38) = 0;
                  lVar38 = lVar38 + 1;
                  puVar42 = puVar42 + sVar19;
                } while (lVar38 != 0x1000);
LAB_0010579c:
                ptVar20 = ptVar20 + 0x100;
                puVar52 = puVar52 + sVar19 * 0x1000 + (1 - (long)(iVar10 << 0xc));
                param_5 = (char *)(ptVar17 + ((ulong)(iVar10 - 1) + 1) * 0x100);
              } while (ptVar17 + ((ulong)(iVar10 - 1) + 1) * 0x100 != ptVar20);
            }
            iVar11 = 0x1000;
          }
        }
        MD5_Update(&local_2128,ptVar17,(long)(iVar11 * iVar7 * iVar10));
        iVar11 = FUN_00111700();
        if (iVar11 != 0) {
          iVar7 = 1;
          fputc(10,stderr);
          fflush(stderr);
          free(puVar33);
          goto LAB_00104e9e;
        }
        WavpackGetProgress(local_2368);
        if (extraout_XMM0_Qa != -1.0) {
          WavpackGetProgress(local_2368);
          dVar61 = floor(extraout_XMM0_Qa_00 * DAT_00319070 + 0.5);
          if (dVar61 != local_22b0) {
            WavpackGetProgress(local_2368);
            local_22b0 = floor(extraout_XMM0_Qa_01 * DAT_00319070 + 0.5);
            if (DAT_003190b0 != 0) {
              FUN_00108a80(0 );
            }
            if (DAT_003190c0 == 0) {
              param_5 = (char *)((ulong)param_5 & 0xffffffff00000000);
              __fprintf_chk(stderr,1,"%s%3d%% done...");
              fflush(stderr);
            }
          }
        }
      }
      if (local_2300 != (void *)0x0) {
        free(local_2300);
      }
      free(puVar33);
      iVar7 = WavpackFlushSamples(local_2368);
      if (iVar7 == 0) goto LAB_0010685d;
      MD5_Final((uchar *)&local_20c8,&local_2128);
      free(ptVar17);
      iVar7 = WavpackGetNumErrors(lVar15);
      if (iVar7 != 0) {
        uVar8 = WavpackGetNumErrors(lVar15);
        FUN_00111570("missing data or crc errors detected in %d block(s)!",uVar8);
        iVar7 = 1;
      }
      lVar38 = WavpackGetNumSamples64(local_2368);
      if (lVar44 != lVar38) {
        FUN_00111570("incorrect number of samples read from source file!");
        if ((uVar6 != 0) && (iVar7 = 1, DAT_003190a8 == 0)) goto LAB_001065e3;
LAB_00107675:
        iVar7 = 1;
        goto LAB_00104e9e;
      }
      if ((uVar6 != 0) && (DAT_003190a8 == 0)) {
LAB_001065e3:
        iVar10 = WavpackGetMD5Sum(lVar15,local_2048);
        if ((iVar10 == 0) || (iVar10 = memcmp(local_2048,&local_20c8,0x10), iVar10 == 0))
        goto LAB_00106616;
        iVar7 = 1;
        FUN_00111570("MD5 signature in source should match, but does not!");
        goto LAB_00104e9e;
      }
LAB_00106616:
      if (iVar7 != 0) goto LAB_00107675;
      iVar10 = WavpackGetMD5Sum(lVar15);
      if (iVar10 == 0) {
        if ((local_2174 & 0x8000000) != 0) {
          WavpackStoreMD5Sum(CONCAT44(uStack8388,local_20c8),local_2368);
        }
      }
      else {
        WavpackStoreMD5Sum(local_2368);
      }
      iVar10 = WavpackGetWrapperBytes(lVar15);
      local_2320 = 0;
      if (iVar10 == 0) {
LAB_00106696:
        iVar10 = WavpackFlushSamples(local_2368);
        if (iVar10 == 0) {
LAB_0010685d:
          iVar7 = 2;
          uVar30 = WavpackGetErrorMessage(local_2368);
          FUN_00111570("%s",uVar30);
          goto LAB_00104e9e;
        }
        if (((uVar5 & 0x10) != 0) ||
           (uVar9 = local_2320 | DAT_0031906c, (local_2320 | DAT_0031906c) != 0)) {
          iVar11 = WavpackGetNumBinaryTagItems(lVar15);
          iVar12 = WavpackGetNumTagItems(lVar15);
          iVar10 = 0;
          iVar14 = 1;
          while ((iVar10 < iVar12 && (iVar14 != 0))) {
            iVar14 = WavpackGetTagItemIndexed(lVar15,iVar10,0);
            pcVar16 = (char *)malloc((long)(iVar14 + 1));
            WavpackGetTagItemIndexed(lVar15,iVar10,pcVar16);
            iVar14 = strcasecmp(pcVar16,"encoder");
            if (iVar14 == 0) {
              pcVar24 = (char *)malloc(0x50);
              sprintf(pcVar24,1,0x50);
LAB_00106715:
              lVar44 = -1;
              pcVar47 = pcVar24;
              do {
                if (lVar44 == 0) break;
                lVar44 = lVar44 + -1;
                cVar3 = *pcVar47;
                pcVar47 = pcVar47 + (ulong)bVar60 * -2 + 1;
              } while (cVar3 != '\0');
            }
            else {
              iVar14 = strcasecmp(pcVar16,"settings");
              if (iVar14 == 0) {
                pcVar24 = (char *)malloc(0x100);
                FUN_00107ff0(pcVar24,local_2188);
                goto LAB_00106715;
              }
              iVar14 = WavpackGetTagItem(lVar15,pcVar16,0);
              pcVar24 = (char *)malloc((long)(iVar14 + 1));
              WavpackGetTagItem(lVar15,pcVar16,pcVar24);
            }
            param_5 = (char *)0x0;
            iVar14 = WavpackAppendTagItem(local_2368,pcVar16,pcVar24);
            free(pcVar24);
            free(pcVar16);
            iVar10 = iVar10 + 1;
          }
          while ((iVar7 < iVar11 && (iVar14 != 0))) {
            iVar10 = WavpackGetBinaryTagItemIndexed(lVar15,iVar7,0);
            pvVar32 = malloc((long)(iVar10 + 1));
            WavpackGetBinaryTagItemIndexed(lVar15,iVar7,pvVar32);
            iVar10 = WavpackGetBinaryTagItem(lVar15,pvVar32,0);
            pvVar35 = malloc((long)iVar10);
            WavpackGetBinaryTagItem(lVar15,pvVar32,pvVar35);
            iVar14 = WavpackAppendBinaryTagItem(local_2368,pvVar32,pvVar35);
            free(pvVar35);
            free(pvVar32);
            iVar7 = iVar7 + 1;
          }
          lVar44 = 0;
          while ((int)lVar44 < (int)DAT_0031906c) {
            if (iVar14 == 0) goto LAB_0010685d;
            puVar50 = (undefined8 *)(lVar44 * 0x20 + (long)DAT_00319060);
            if (*(int *)(puVar50 + 3) == 0) {
              WavpackDeleteTagItem(local_2368);
            }
            else {
              if (*(int *)((long)puVar50 + 0x1c) == 0) {
                iVar14 = WavpackAppendTagItem(local_2368,*puVar50,puVar50[1]);
              }
              else {
                iVar14 = WavpackAppendBinaryTagItem();
              }
            }
            lVar44 = lVar44 + 1;
          }
          if ((iVar14 == 0) || (iVar7 = WavpackWriteTag(local_2368), uVar9 = local_2320, iVar7 == 0)
             ) goto LAB_0010685d;
        }
        WavpackCloseFile(lVar15);
        iVar7 = FUN_001118a0(local_2220);
        if (iVar7 != 0) {
          if ((puVar29 == (uint *)0x0) || (iVar7 = FUN_001118a0(local_2208[0].tv_usec), iVar7 != 0))
          {
            puVar41 = local_2330;
            if (DAT_003190bc == 0) {
              if (DAT_003190c4 != 0) {
                if (iVar46 == 0) {
                  puVar41 = puVar45;
                }
LAB_0010697c:
                iVar7 = FUN_00111150(local_2350,puVar41);
                if (iVar7 == 0) {
LAB_001069ab:
                  FUN_00111570("failure copying time stamp!");
                }
                else {
                  if (puVar29 != (uint *)0x0) {
                    puVar41 = local_2318;
                    if (iVar46 == 0) {
                      puVar41 = puVar29;
                    }
                    iVar7 = FUN_00111150(local_2350,puVar41);
                    if (iVar7 == 0) goto LAB_001069ab;
                  }
                }
              }
LAB_001069b9:
              if (DAT_003190b8 != 0) {
                iVar7 = strcasecmp(local_2350,(char *)puVar45);
                if (iVar7 != 0) {
                  iVar7 = FUN_00111910(local_2350);
                  if (DAT_003190c0 == 0) {
                    pcVar16 = "can\'t delete";
                    if (iVar7 != 0) {
                      pcVar16 = "deleted";
                    }
                  }
                  else {
                    if (iVar7 != 0) goto LAB_001069d7;
                    pcVar16 = "can\'t delete";
                  }
                  FUN_00111570("%s source file %s",pcVar16,local_2350);
                }
LAB_001069d7:
                if ((uVar5 & 1) != 0) {
                  puVar31 = (undefined2 *)__stpcpy_chk(local_2048,local_2350,0x1000);
                  *puVar31 = 99;
                  if ((puVar29 == (uint *)0x0) ||
                     (iVar7 = strcasecmp((char *)local_2048,(char *)puVar29), iVar7 != 0)) {
                    iVar7 = FUN_00111910(local_2048);
                    if (DAT_003190c0 == 0) {
                      pcVar16 = "can\'t delete";
                      if (iVar7 != 0) {
                        pcVar16 = "deleted";
                      }
                    }
                    else {
                      if (iVar7 != 0) goto LAB_001069e5;
                      pcVar16 = "can\'t delete";
                    }
                    FUN_00111570("%s source file %s",pcVar16,local_2048);
                  }
                }
              }
LAB_001069e5:
              if (iVar46 != 0) {
                iVar7 = rename((char *)local_2330,(char *)puVar45);
                if (iVar7 != 0) {
                  FUN_00111570("can not rename temp file %s to %s!",local_2330,puVar45);
                  iVar7 = iVar46;
                }
                if (puVar29 == (uint *)0x0) {
                  free(local_2330);
                }
                else {
                  iVar10 = rename((char *)local_2318,(char *)puVar29);
                  if (iVar10 != 0) {
                    FUN_00111570("can not rename temp file %s to %s!",local_2318,puVar29);
                    iVar7 = iVar46;
                  }
                  free(local_2330);
                  free(local_2318);
                }
                if (iVar7 != 0) goto LAB_00105153;
              }
              gettimeofday(&local_2238,local_2288);
              if (((local_2174 & 0x800000) != 0) &&
                 (WavpackGetEncodedNoise(local_2368,0), 0.0 < extraout_XMM0_Qa_03)) {
                iVar46 = WavpackGetBitsPerSample(local_2368);
                dVar61 = 0.5;
                while (iVar46 != 0) {
                  iVar46 = iVar46 + -1;
                  dVar61 = dVar61 + dVar61;
                }
                dVar61 = dVar61 * (dVar61 - 1.0) * 0.5;
                WavpackGetEncodedNoise(local_2368,&local_2258);
                log10(local_2258 / dVar61);
                uVar5 = WavpackGetNumSamples(local_2368);
                log10((extraout_XMM0_Qa_05 / (double)(ulong)uVar5) / dVar61);
                FUN_00111570("ave noise = %.2f dB, peak noise = %.2f dB");
              }
              uVar8 = (undefined4)((ulong)param_5 >> 0x20);
              if (DAT_003190c0 == 0) {
                local_20a8[0] = 0x0;
                if (uVar9 != 0) {
                  FUN_00111570(0,"successfully imported %d items from ID3v2 tag",uVar9);
                }
                if ((local_21d4 & 0x8000000) != 0) {
                  lVar15 = 0x39;
                  lVar44 = 0;
                  pcVar16 = "original md5 signature: 00000000000000000000000000000000";
                  puVar50 = local_2048;
                  while (lVar15 != 0) {
                    lVar15 = lVar15 + -1;
                    *(char *)puVar50 = *pcVar16;
                    pcVar16 = pcVar16 + (ulong)bVar60 * -2 + 1;
                    puVar50 = (undefined8 *)((long)puVar50 + (ulong)bVar60 * -2 + 1);
                  }
                  do {
                    lVar15 = lVar44 * 2;
                    uVar37 = (ulong)local_20b8[lVar44];
                    lVar44 = lVar44 + 1;
                    sprintf(local_2030 + lVar15,1,0xffffffffffffffff,&DAT_00112a41,uVar37);
                    uVar8 = (undefined4)(uVar37 >> 0x20);
                  } while (lVar44 != 0x10);
                  FUN_00111570(local_2048);
                }
                if (*(char *)puVar45 == '-') {
                  if (*local_2350 == '-') {
                    pcVar24 = "packed";
                    pcVar16 = "";
                    local_2350 = "stdin";
                  }
                  else {
                    uVar37 = 0xffffffffffffffff;
                    pcVar24 = "packed";
                    puVar41 = (uint *)local_2350;
                    do {
                      if (uVar37 == 0) break;
                      uVar37 = uVar37 - 1;
                      cVar3 = *(char *)puVar41;
                      puVar41 = (uint *)((long)puVar41 + (ulong)bVar60 * -2 + 1);
                    } while (cVar3 != '\0');
                    pcVar16 = "";
                    if (0x1e < ~uVar37 - 1) {
                      local_2350 = (char *)FUN_001113e0(local_2350);
                    }
                  }
                }
                else {
                  uVar37 = 0xffffffffffffffff;
                  puVar41 = puVar45;
                  do {
                    if (uVar37 == 0) break;
                    uVar37 = uVar37 - 1;
                    cVar3 = *(char *)puVar41;
                    puVar41 = (uint *)((long)puVar41 + (ulong)bVar60 * -2 + 1);
                  } while (cVar3 != '\0');
                  local_2350 = (char *)puVar45;
                  if (0x1e < ~uVar37 - 1) {
                    local_2350 = (char *)FUN_001113e0(puVar45);
                  }
                  pcVar16 = " (+.wvc)";
                  pcVar24 = "created (and verified)";
                  if ((int)local_2208[0].tv_sec == 0) {
                    pcVar16 = "";
                  }
                  if (DAT_003190bc == 0) {
                    pcVar24 = "created";
                  }
                }
                iVar46 = WavpackLossyBlocks(local_2368);
                if (iVar46 == 0) {
                  WavpackGetRatio(local_2368);
                  if (extraout_XMM0_Qa_04 == 0.0) {
                    param_5 = "lossless";
                  }
                  else {
                    WavpackGetRatio(local_2368);
                    sprintf(local_20a8,1,0x10,", %.2f%%");
                    param_5 = "lossless";
                  }
                }
                else {
                  WavpackGetAverageBitrate(local_2368,1);
                  if (extraout_XMM0_Qa_02 == 0.0) {
                    param_5 = "lossy";
                  }
                  else {
                    WavpackGetAverageBitrate(local_2368,1);
                    sprintf(local_20a8,1,0x10,", %d kbps",
                                  CONCAT44(uVar8,(int)(extraout_XMM0_Qa_06 / 1000.0)));
                    param_5 = "lossy";
                  }
                }
                FUN_00111570("%s %s%s in %.2f secs (%s%s)",pcVar24,local_2350,pcVar16,param_5,
                             local_20a8);
              }
              WavpackCloseFile(local_2368);
              goto LAB_0010482e;
            }
            iVar7 = WavpackLossyBlocks(local_2368);
            puVar33 = (undefined4 *)0x0;
            if (iVar7 == 0) {
              puVar33 = &local_20c8;
            }
            if (iVar46 == 0) {
              iVar7 = FUN_00108b10(puVar45,puVar33);
              puVar41 = puVar45;
              if (iVar7 != 0) goto LAB_00104ee2;
joined_r0x00106e32:
              if (DAT_003190c4 != 0) goto LAB_0010697c;
              goto LAB_001069b9;
            }
            iVar7 = FUN_00108b10(local_2330,puVar33);
            if (iVar7 == 0) goto joined_r0x00106e32;
            goto LAB_00106e00;
          }
          iVar7 = 1;
          FUN_00111570("can\'t close correction file!");
          goto LAB_001074f5;
        }
        FUN_00111570("can\'t close WavPack file!");
        if (puVar29 == (uint *)0x0) {
          if (iVar46 == 0) {
            iVar46 = 1;
            FUN_00111910(puVar45);
          }
          else {
            FUN_00111910(local_2330);
          }
          goto LAB_00104efe;
        }
        iVar7 = FUN_001118a0(local_2208[0].tv_usec);
        if (iVar7 == 0) {
          iVar7 = 1;
          goto LAB_00107515;
        }
        iVar7 = 1;
        if (iVar46 == 0) goto LAB_00104ee2;
        FUN_00111910(local_2330);
LAB_00104ef4:
        FUN_00111910(local_2318);
      }
      else {
        pcVar16 = (char *)WavpackGetWrapperData(lVar15);
        iVar10 = WavpackGetWrapperBytes(lVar15);
        if (((local_2178 & 0x200) == 0) &&
           (iVar11 = WavpackAddWrapper(local_2368,pcVar16,iVar10), iVar11 == 0)) {
          iVar7 = 1;
          uVar30 = WavpackGetErrorMessage(local_2368);
          FUN_00111570("%s",uVar30);
          WavpackFreeWrapper(lVar15);
        }
        else {
          if ((DAT_003190a0 == 0) ||
             ((iVar10 < 0xb || (iVar11 = strncmp(pcVar16,"ID3",3), iVar11 != 0)))) {
            WavpackFreeWrapper(lVar15);
            local_2320 = 0;
            goto LAB_00106696;
          }
          param_5 = (char *)&local_2238;
          local_2320 = FUN_00112820(0,pcVar16,iVar10,0,0);
          if ((DAT_003190ac == 0) && (0x100000 < (int)local_2238.tv_sec)) {
            FUN_00111570("imported tag items exceed 1 MB, use --allow-huge-tags to override");
          }
          else {
            if ((int)local_2238.tv_sec < 0x1000001) {
              if (0 < (int)local_2320) {
                param_5 = (char *)0x0;
                local_2320 = FUN_00112820(local_2368,pcVar16,iVar10,0,0);
              }
              if (-1 < (int)local_2320) {
                WavpackFreeWrapper(lVar15);
                goto LAB_00106696;
              }
              FUN_00111570("ID3v2 import: %s",local_2048);
            }
            else {
              FUN_00111570("imported tag items exceed 16 MB");
            }
          }
          iVar7 = 1;
          WavpackFreeWrapper(lVar15);
        }
LAB_00104e9e:
        WavpackCloseFile(lVar15);
        iVar10 = FUN_001118a0(local_2220);
        if (iVar10 == 0) {
          FUN_00111570("can\'t close WavPack file!");
        }
        if ((puVar29 != (uint *)0x0) && (iVar10 = FUN_001118a0(local_2208[0].tv_usec), iVar10 == 0))
        {
LAB_00107515:
          FUN_00111570("can\'t close correction file!");
LAB_001074f5:
          if (iVar46 == 0) {
LAB_00104ee2:
            iVar46 = iVar7;
            FUN_00111910(puVar45);
            local_2318 = puVar29;
            if (puVar29 == (uint *)0x0) goto LAB_00104efe;
          }
          else {
            FUN_00111910(local_2330);
            iVar46 = iVar7;
          }
          goto LAB_00104ef4;
        }
        if (iVar46 == 0) goto LAB_00104ee2;
LAB_00106e00:
        iVar46 = iVar7;
        FUN_00111910(local_2330);
        if (puVar29 != (uint *)0x0) goto LAB_00104ef4;
      }
LAB_00104efe:
      WavpackCloseFile(local_2368);
LAB_00104f08:
      iVar43 = iVar43 + 1;
      if (iVar46 == 2) {
        local_2350 = (char *)puVar45;
        if (DAT_003190cc < 2) goto LAB_00104f53;
        goto LAB_00104f29;
      }
      goto LAB_0010482e;
    }
  }
  else {
    if ((local_2178 & 0x200) != 0) {
LAB_0010539e:
      WavpackFreeWrapper(lVar15);
      goto LAB_001053a8;
    }
    uVar8 = WavpackGetWrapperBytes(lVar15);
    uVar30 = WavpackGetWrapperData(lVar15);
    iVar7 = WavpackAddWrapper(local_2368,uVar30,uVar8);
    if (iVar7 != 0) goto LAB_0010539e;
  }
  uVar30 = WavpackGetErrorMessage(local_2368);
  FUN_00111570("%s",uVar30);
  WavpackCloseFile(lVar15);
  FUN_001118a0(local_2220);
  if (iVar46 == 0) {
    local_2330 = puVar45;
  }
  FUN_00111910(local_2330);
  WavpackCloseFile(local_2368);
  iVar43 = iVar43 + 1;
LAB_0010482e:
  if (bVar57) {
    puVar27 = (undefined *)FUN_001113e0(puVar45);
    *puVar27 = 0;
  }
  else {
    if (*(char *)puVar45 != '-') {
      free(puVar45);
      puVar45 = (uint *)0x0;
    }
  }
  if (puVar29 != (uint *)0x0) {
    free(puVar29);
  }
  iVar46 = DAT_003190c8 + 1;
  free(local_2360[DAT_003190c8]);
  local_2350 = (char *)puVar45;
  DAT_003190c8 = iVar46;
  if (DAT_003190cc <= iVar46) goto LAB_001059ce;
  goto LAB_0010487d;
LAB_001059ce:
  local_2350 = (char *)puVar45;
  if (1 < DAT_003190cc) {
    if (iVar43 == 0) {
      if (DAT_003190c0 == 0) {
        __fprintf_chk(stderr,1,"\n **** %d files successfully processed ****\n",DAT_003190cc);
        fflush(stderr);
      }
    }
    else {
LAB_00104f29:
      __fprintf_chk(stderr,1,"\n **** warning: errors occurred in %d of %d files! ****\n",iVar43);
      fflush(stderr);
    }
  }
LAB_00104f53:
  free(local_2360);
LAB_00104f5d:
  if ((uint *)local_2350 != (uint *)0x0) {
    free(local_2350);
  }
  if (DAT_003190b0 != 0) {
    FUN_00111940("WavPack Completed");
  }
  bVar59 = iVar43 != 0;
LAB_00104693:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return bVar59;
}



//void entry(undefined8 param_1,undefined8 param_2,undefined8 param_3)
//
//{
//  undefined8 in_stack_00000000;
//  undefined auStack8 [8];
//  
//  __libc_start_main(FUN_00103780,in_stack_00000000,&stack0x00000008,FUN_00112930,FUN_001129a0,
//                    param_3,auStack8);
//  do {
//                    // WARNING: Do nothing block with infinite loop
//  } while( true );
//}
//
//
//
//// WARNING: Removing unreachable block (ram,0x00107ce7)
//// WARNING: Removing unreachable block (ram,0x00107cf3)
//
//void FUN_00107cd0(void)
//
//{
//  return;
//}
//
//
//
//void _FINI_0(void)
//
//{
//  if (DAT_00319050 != '\0') {
//    return;
//  }
//  __cxa_finalize(PTR_LOOP_00319008);
//  FUN_00107cd0();
//  DAT_00319050 = 1;
//  return;
//}
//
//
//
//// WARNING: Removing unreachable block (ram,0x00107d38)
//// WARNING: Removing unreachable block (ram,0x00107d44)
//
//void _INIT_0(void)
//
//{
//  return;
//}



void FUN_00107db0(void *param_1,long param_2,int param_3,int param_4)

{
  long lVar1;
  undefined *__src;
  size_t __size;
  int iVar2;
  long in_FS_OFFSET;
  undefined local_88 [72];
  long local_40;
  
  iVar2 = param_4 + -1;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_3 < 0x11) {
    if (param_4 == 0) goto LAB_00107e47;
    __src = local_88;
    __size = (long)param_3 << 2;
LAB_00107df3:
    do {
      lVar1 = 0;
      if (0 < param_3) {
        do {
          *(undefined4 *)(__src + lVar1 * 4) =
               *(undefined4 *)((long)param_1 + (ulong)*(byte *)(param_2 + lVar1) * 4);
          lVar1 = lVar1 + 1;
        } while ((ulong)(param_3 - 1) + 1 != lVar1);
      }
      iVar2 = iVar2 + -1;
      memcpy(param_1,__src,__size);
      param_1 = (void *)((long)param_1 + __size);
    } while (iVar2 != -1);
    if (param_3 < 0x11) goto LAB_00107e47;
  }
  else {
    __size = (long)param_3 << 2;
    __src = (undefined *)malloc(__size);
    if (param_4 != 0) goto LAB_00107df3;
  }
  free(__src);
LAB_00107e47:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return;
}



void FUN_00107eb0(void *param_1,byte *param_2,int param_3,int param_4,int param_5)

{
  byte bVar1;
  int iVar2;
  long lVar3;
  undefined *__src;
  void *pvVar4;
  long lVar5;
  byte *pbVar6;
  int iVar7;
  long in_FS_OFFSET;
  size_t local_a8;
  undefined local_88 [72];
  long local_40;
  
  iVar7 = param_4 + -1;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar2 = param_3 * param_5;
  if (iVar2 < 0x41) {
    if (param_4 == 0) goto LAB_00107f93;
    __src = local_88;
LAB_00107f08:
    local_a8 = SEXT48(iVar2);
    do {
      pvVar4 = param_1;
      if (0 < param_3) {
        lVar5 = (ulong)(param_5 - 1) + 1;
        pbVar6 = param_2;
        do {
          bVar1 = *pbVar6;
          if (param_5 != 0) {
            lVar3 = 0;
            do {
              __src[lVar3 + (int)((uint)bVar1 * param_5)] = *(undefined *)((long)pvVar4 + lVar3);
              lVar3 = lVar3 + 1;
            } while (lVar3 != lVar5);
            pvVar4 = (void *)((long)pvVar4 + lVar5);
          }
          pbVar6 = pbVar6 + 1;
        } while (pbVar6 != param_2 + (ulong)(param_3 - 1) + 1);
      }
      iVar7 = iVar7 + -1;
      memcpy(param_1,__src,local_a8);
      param_1 = pvVar4;
    } while (iVar7 != -1);
    if (iVar2 < 0x41) goto LAB_00107f93;
  }
  else {
    __src = (undefined *)malloc((long)iVar2);
    if (param_4 != 0) goto LAB_00107f08;
  }
  free(__src);
LAB_00107f93:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return;
}



void FUN_00107ff0(uint *param_1,long param_2)

{
  uint uVar1;
  uint uVar2;
  uint *puVar3;
  undefined2 *puVar4;
  uint uVar5;
  undefined8 *puVar6;
  uint *puVar7;
  undefined4 *puVar8;
  bool bVar9;
  
  *(undefined2 *)param_1 = 0x2d;
  uVar2 = *(uint *)(param_2 + 0x14);
  if ((uVar2 & 0x200) == 0) {
    if ((uVar2 & 0x1000) == 0) {
      if ((uVar2 & 0x800) != 0) {
        *(undefined2 *)((long)param_1 + 1) = 0x68;
        uVar2 = *(uint *)(param_2 + 0x14);
      }
    }
    else {
      *(undefined *)((long)param_1 + 3) = 0;
      *(undefined2 *)((long)param_1 + 1) = 0x6868;
      uVar2 = *(uint *)(param_2 + 0x14);
    }
  }
  else {
    *(undefined2 *)((long)param_1 + 1) = 0x66;
    uVar2 = *(uint *)(param_2 + 0x14);
  }
  puVar3 = param_1;
  if ((uVar2 & 8) != 0) {
    do {
      puVar7 = puVar3;
      uVar1 = *puVar7 + 0xfefefeff & ~*puVar7;
      uVar2 = uVar1 & 0x80808080;
      puVar3 = puVar7 + 1;
    } while (uVar2 == 0);
    bVar9 = (uVar1 & 0x8080) == 0;
    if (bVar9) {
      uVar2 = uVar2 >> 0x10;
    }
    if (bVar9) {
      puVar3 = (uint *)((long)puVar7 + 6);
    }
    sprintf((long)puVar3 + (-3 - (ulong)CARRY1((byte)uVar2,(byte)uVar2)),1,0xffffffffffffffff)
    ;
    uVar2 = *(uint *)(param_2 + 0x14);
    puVar3 = param_1;
    if ((uVar2 & 0x100000) == 0) {
      if ((uVar2 & 0x80000) != 0) {
        do {
          puVar7 = puVar3;
          uVar1 = *puVar7 + 0xfefefeff & ~*puVar7;
          uVar2 = uVar1 & 0x80808080;
          puVar3 = puVar7 + 1;
        } while (uVar2 == 0);
        bVar9 = (uVar1 & 0x8080) == 0;
        if (bVar9) {
          uVar2 = uVar2 >> 0x10;
        }
        if (bVar9) {
          puVar3 = (uint *)((long)puVar7 + 6);
        }
        *(undefined2 *)((long)puVar3 + (-3 - (ulong)CARRY1((byte)uVar2,(byte)uVar2))) = 99;
        uVar2 = *(uint *)(param_2 + 0x14);
      }
    }
    else {
      do {
        puVar7 = puVar3;
        uVar1 = *puVar7 + 0xfefefeff & ~*puVar7;
        uVar2 = uVar1 & 0x80808080;
        puVar3 = puVar7 + 1;
      } while (uVar2 == 0);
      bVar9 = (uVar1 & 0x8080) == 0;
      if (bVar9) {
        uVar2 = uVar2 >> 0x10;
      }
      if (bVar9) {
        puVar3 = (uint *)((long)puVar7 + 6);
      }
      puVar4 = (undefined2 *)((long)puVar3 + (-3 - (ulong)CARRY1((byte)uVar2,(byte)uVar2)));
      *puVar4 = 0x6363;
      *(undefined *)(puVar4 + 1) = 0;
      uVar2 = *(uint *)(param_2 + 0x14);
    }
  }
  puVar3 = param_1;
  if ((uVar2 & 0x2000000) != 0) {
    do {
      puVar7 = puVar3;
      uVar1 = *puVar7 + 0xfefefeff & ~*puVar7;
      uVar2 = uVar1 & 0x80808080;
      puVar3 = puVar7 + 1;
    } while (uVar2 == 0);
    bVar9 = (uVar1 & 0x8080) == 0;
    if (bVar9) {
      uVar2 = uVar2 >> 0x10;
    }
    if (bVar9) {
      puVar3 = (uint *)((long)puVar7 + 6);
    }
    sprintf((long)puVar3 + (-3 - (ulong)CARRY1((byte)uVar2,(byte)uVar2)),1,0xffffffffffffffff)
    ;
    uVar2 = *(uint *)(param_2 + 0x14);
  }
  puVar3 = param_1;
  if ((uVar2 & 0x10000) != 0) {
    do {
      puVar7 = puVar3;
      uVar5 = *puVar7 + 0xfefefeff & ~*puVar7;
      uVar1 = uVar5 & 0x80808080;
      puVar3 = puVar7 + 1;
    } while (uVar1 == 0);
    bVar9 = (uVar5 & 0x8080) == 0;
    if (bVar9) {
      uVar1 = uVar1 >> 0x10;
    }
    if (bVar9) {
      puVar3 = (uint *)((long)puVar7 + 6);
    }
    puVar4 = (undefined2 *)((long)puVar3 + (-3 - (ulong)CARRY1((byte)uVar1,(byte)uVar1)));
    if ((uVar2 & 0x10) == 0) {
      *(undefined *)(puVar4 + 1) = 0;
      *puVar4 = 0x306a;
      uVar2 = *(uint *)(param_2 + 0x14);
    }
    else {
      *(undefined *)(puVar4 + 1) = 0;
      *puVar4 = 0x316a;
      uVar2 = *(uint *)(param_2 + 0x14);
    }
  }
  puVar3 = param_1;
  if ((uVar2 & 0x8000) != 0) {
    do {
      puVar7 = puVar3;
      uVar1 = *puVar7 + 0xfefefeff & ~*puVar7;
      uVar2 = uVar1 & 0x80808080;
      puVar3 = puVar7 + 1;
    } while (uVar2 == 0);
    bVar9 = (uVar1 & 0x8080) == 0;
    if (bVar9) {
      uVar2 = uVar2 >> 0x10;
    }
    if (bVar9) {
      puVar3 = (uint *)((long)puVar7 + 6);
    }
    sprintf((long)puVar3 + (-3 - (ulong)CARRY1((byte)uVar2,(byte)uVar2)),1,0xffffffffffffffff)
    ;
  }
  puVar3 = param_1;
  if (DAT_003190a8 != 0) {
    do {
      puVar7 = puVar3;
      uVar1 = *puVar7 + 0xfefefeff & ~*puVar7;
      uVar2 = uVar1 & 0x80808080;
      puVar3 = puVar7 + 1;
    } while (uVar2 == 0);
    bVar9 = (uVar1 & 0x8080) == 0;
    if (bVar9) {
      uVar2 = uVar2 >> 0x10;
    }
    if (bVar9) {
      puVar3 = (uint *)((long)puVar7 + 6);
    }
    sprintf((long)puVar3 + (-3 - (ulong)CARRY1((byte)uVar2,(byte)uVar2)),1,0xffffffffffffffff)
    ;
  }
  puVar3 = param_1;
  if (*(int *)(param_2 + 0x24) != 0) {
    do {
      puVar7 = puVar3;
      uVar1 = *puVar7 + 0xfefefeff & ~*puVar7;
      uVar2 = uVar1 & 0x80808080;
      puVar3 = puVar7 + 1;
    } while (uVar2 == 0);
    bVar9 = (uVar1 & 0x8080) == 0;
    if (bVar9) {
      uVar2 = uVar2 >> 0x10;
    }
    if (bVar9) {
      puVar3 = (uint *)((long)puVar7 + 6);
    }
    sprintf((long)puVar3 + (-3 - (ulong)CARRY1((byte)uVar2,(byte)uVar2)),1,0xffffffffffffffff)
    ;
  }
  uVar2 = *(uint *)(param_2 + 0x14);
  puVar3 = param_1;
  if ((uVar2 & 0x20000) != 0) {
    do {
      puVar7 = puVar3;
      uVar1 = *puVar7 + 0xfefefeff & ~*puVar7;
      uVar2 = uVar1 & 0x80808080;
      puVar3 = puVar7 + 1;
    } while (uVar2 == 0);
    bVar9 = (uVar1 & 0x8080) == 0;
    if (bVar9) {
      uVar2 = uVar2 >> 0x10;
    }
    if (bVar9) {
      puVar3 = (uint *)((long)puVar7 + 6);
    }
    puVar6 = (undefined8 *)((long)puVar3 + (-3 - (ulong)CARRY1((byte)uVar2,(byte)uVar2)));
    *puVar6 = 0x642d6573752d2d20;
    *(undefined2 *)(puVar6 + 1) = 0x736e;
    *(undefined *)((long)puVar6 + 10) = 0;
    uVar2 = *(uint *)(param_2 + 0x14);
  }
  puVar3 = param_1;
  if ((uVar2 & 0x20) != 0) {
    do {
      puVar7 = puVar3;
      uVar1 = *puVar7 + 0xfefefeff & ~*puVar7;
      uVar2 = uVar1 & 0x80808080;
      puVar3 = puVar7 + 1;
    } while (uVar2 == 0);
    bVar9 = (uVar1 & 0x8080) == 0;
    if (bVar9) {
      uVar2 = uVar2 >> 0x10;
    }
    if (bVar9) {
      puVar3 = (uint *)((long)puVar7 + 6);
    }
    puVar8 = (undefined4 *)((long)puVar3 + (-3 - (ulong)CARRY1((byte)uVar2,(byte)uVar2)));
    *puVar8 = 0x632d2d20;
    puVar8[1] = 0x73736f72;
    puVar8[2] = 0x6365642d;
    puVar8[3] = 0x72726f;
    uVar2 = *(uint *)(param_2 + 0x14);
  }
  puVar3 = param_1;
  if ((uVar2 & 0x10000000) != 0) {
    do {
      puVar7 = puVar3;
      uVar1 = *puVar7 + 0xfefefeff & ~*puVar7;
      uVar2 = uVar1 & 0x80808080;
      puVar3 = puVar7 + 1;
    } while (uVar2 == 0);
    bVar9 = (uVar1 & 0x8080) == 0;
    if (bVar9) {
      uVar2 = uVar2 >> 0x10;
    }
    if (bVar9) {
      puVar3 = (uint *)((long)puVar7 + 6);
    }
    puVar8 = (undefined4 *)((long)puVar3 + (-3 - (ulong)CARRY1((byte)uVar2,(byte)uVar2)));
    *puVar8 = 0x6d2d2d20;
    puVar8[1] = 0x65677265;
    puVar8[2] = 0x6f6c622d;
    puVar8[3] = 0x736b63;
    uVar2 = *(uint *)(param_2 + 0x14);
  }
  puVar3 = param_1;
  if ((uVar2 & 0x20000000) != 0) {
    do {
      puVar7 = puVar3;
      uVar1 = *puVar7 + 0xfefefeff & ~*puVar7;
      uVar2 = uVar1 & 0x80808080;
      puVar3 = puVar7 + 1;
    } while (uVar2 == 0);
    bVar9 = (uVar1 & 0x8080) == 0;
    if (bVar9) {
      uVar2 = uVar2 >> 0x10;
    }
    if (bVar9) {
      puVar3 = (uint *)((long)puVar7 + 6);
    }
    puVar8 = (undefined4 *)((long)puVar3 + (-3 - (ulong)CARRY1((byte)uVar2,(byte)uVar2)));
    *puVar8 = 0x702d2d20;
    puVar8[1] = 0x2d726961;
    puVar8[2] = 0x73616e75;
    puVar8[3] = 0x6e676973;
    *(undefined8 *)(puVar8 + 4) = 0x736e6168632d6465;
    *(undefined *)(puVar8 + 6) = 0;
  }
  if (DAT_003190ac != 0) {
    do {
      puVar3 = param_1;
      uVar1 = *puVar3 + 0xfefefeff & ~*puVar3;
      uVar2 = uVar1 & 0x80808080;
      param_1 = puVar3 + 1;
    } while (uVar2 == 0);
    bVar9 = (uVar1 & 0x8080) == 0;
    if (bVar9) {
      uVar2 = uVar2 >> 0x10;
    }
    puVar7 = puVar3 + 1;
    if (bVar9) {
      puVar7 = (uint *)((long)puVar3 + 6);
    }
    puVar8 = (undefined4 *)((long)puVar7 + (-3 - (ulong)CARRY1((byte)uVar2,(byte)uVar2)));
    *puVar8 = 0x612d2d20;
    puVar8[1] = 0x776f6c6c;
    puVar8[2] = 0x6775682d;
    puVar8[3] = 0x61742d65;
    *(undefined2 *)(puVar8 + 4) = 0x7367;
    *(undefined *)((long)puVar8 + 0x12) = 0;
    return;
  }
  return;
}



undefined * FUN_001085b0(undefined *param_1,int *param_2,uint param_3,int param_4,int param_5)

{
  int *piVar1;
  int iVar2;
  long lVar3;
  undefined *puVar4;
  undefined *puVar5;
  ulong uVar6;
  
  if ((param_3 & 1) == 0) {
    if ((param_3 & 4) == 0) {
      if (param_4 != 1) {
        if (param_4 == 3) {
          if (param_5 == 0) {
            return param_1;
          }
          uVar6 = (ulong)(param_5 - 1);
          puVar5 = param_1;
          do {
            iVar2 = *param_2;
            puVar4 = puVar5 + 3;
            *puVar5 = (char)iVar2;
            puVar5[1] = (char)((uint)iVar2 >> 8);
            puVar5[2] = (char)((uint)iVar2 >> 0x10);
            puVar5 = puVar4;
            param_2 = param_2 + 1;
          } while (param_1 + uVar6 * 3 + 3 != puVar4);
LAB_001088ac:
          return param_1 + uVar6 * 3 + 3;
        }
        if (param_4 == 4) {
          uVar6 = (ulong)(param_5 - 1);
          if (param_5 == 0) {
            return param_1;
          }
          piVar1 = param_2 + uVar6 + 1;
          puVar5 = param_1;
          do {
            iVar2 = *param_2;
            param_2 = param_2 + 1;
            *puVar5 = (char)iVar2;
            puVar5[1] = (char)((uint)iVar2 >> 8);
            puVar5[2] = (char)((uint)iVar2 >> 0x10);
            puVar5[3] = (char)((uint)iVar2 >> 0x18);
            puVar5 = puVar5 + 4;
          } while (param_2 != piVar1);
          goto LAB_00108708;
        }
        if (param_4 != 2) {
          return param_1;
        }
        if (param_5 == 0) {
          return param_1;
        }
        uVar6 = (ulong)(param_5 - 1);
        lVar3 = 0;
        do {
          iVar2 = *(int *)((long)param_2 + lVar3 * 2);
          param_1[lVar3] = (char)iVar2;
          param_1[lVar3 + 1] = (char)((uint)iVar2 >> 8);
          lVar3 = lVar3 + 2;
        } while (lVar3 != uVar6 * 2 + 2);
        goto LAB_001086a3;
      }
      if ((param_3 & 2) != 0) {
        uVar6 = (ulong)(param_5 - 1);
        if (param_5 == 0) {
          return param_1;
        }
        lVar3 = 0;
        do {
          param_1[lVar3] = (char)param_2[lVar3];
          lVar3 = lVar3 + 1;
        } while (lVar3 != uVar6 + 1);
        goto LAB_001085f7;
      }
    }
    else {
      if (param_4 == 2) {
        if (param_5 == 0) {
          return param_1;
        }
        uVar6 = (ulong)(param_5 - 1);
        lVar3 = 0;
        do {
          iVar2 = *(int *)((long)param_2 + lVar3 * 2) + 0x8000;
          param_1[lVar3] = (char)iVar2;
          param_1[lVar3 + 1] = (char)((uint)iVar2 >> 8);
          lVar3 = lVar3 + 2;
        } while (lVar3 != uVar6 * 2 + 2);
        goto LAB_001086a3;
      }
      if (2 < param_4) {
        if (param_4 != 3) {
          if (param_4 != 4) {
            return param_1;
          }
          uVar6 = (ulong)(param_5 - 1);
          if (param_5 == 0) {
            return param_1;
          }
          piVar1 = param_2 + uVar6 + 1;
          puVar5 = param_1;
          do {
            iVar2 = *param_2;
            param_2 = param_2 + 1;
            iVar2 = iVar2 + -0x80000000;
            *puVar5 = (char)iVar2;
            puVar5[1] = (char)((uint)iVar2 >> 8);
            puVar5[2] = (char)((uint)iVar2 >> 0x10);
            puVar5[3] = (char)((uint)iVar2 >> 0x18);
            puVar5 = puVar5 + 4;
          } while (param_2 != piVar1);
          goto LAB_00108708;
        }
        if (param_5 == 0) {
          return param_1;
        }
        uVar6 = (ulong)(param_5 - 1);
        puVar5 = param_1;
        do {
          puVar4 = puVar5 + 3;
          iVar2 = *param_2 + 0x800000;
          *puVar5 = (char)iVar2;
          puVar5[1] = (char)((uint)iVar2 >> 8);
          puVar5[2] = (char)((uint)iVar2 >> 0x10);
          puVar5 = puVar4;
          param_2 = param_2 + 1;
        } while (param_1 + uVar6 * 3 + 3 != puVar4);
        goto LAB_001088ac;
      }
      if (param_4 != 1) {
        return param_1;
      }
    }
    uVar6 = (ulong)(param_5 - 1);
    if (param_5 == 0) {
      return param_1;
    }
    lVar3 = 0;
    do {
      param_1[lVar3] = *(char *)(param_2 + lVar3) + -0x80;
      lVar3 = lVar3 + 1;
    } while (lVar3 != uVar6 + 1);
  }
  else {
    if ((param_3 & 4) == 0) {
      if (param_4 != 1) {
        if (param_4 == 3) {
          uVar6 = (ulong)(param_5 - 1);
          if (param_5 == 0) {
            return param_1;
          }
          puVar5 = param_1;
          do {
            iVar2 = *param_2;
            puVar4 = puVar5 + 3;
            puVar5[1] = (char)((uint)iVar2 >> 8);
            *puVar5 = (char)((uint)iVar2 >> 0x10);
            puVar5[2] = (char)iVar2;
            puVar5 = puVar4;
            param_2 = param_2 + 1;
          } while (param_1 + uVar6 * 3 + 3 != puVar4);
LAB_0010893e:
          return param_1 + uVar6 * 3 + 3;
        }
        if (param_4 == 4) {
          uVar6 = (ulong)(param_5 - 1);
          if (param_5 == 0) {
            return param_1;
          }
          piVar1 = param_2 + uVar6 + 1;
          puVar5 = param_1;
          do {
            iVar2 = *param_2;
            param_2 = param_2 + 1;
            puVar5[2] = (char)((uint)iVar2 >> 8);
            *puVar5 = (char)((uint)iVar2 >> 0x18);
            puVar5[1] = (char)((uint)iVar2 >> 0x10);
            puVar5[3] = (char)iVar2;
            puVar5 = puVar5 + 4;
          } while (param_2 != piVar1);
LAB_00108708:
          return param_1 + uVar6 * 4 + 4;
        }
        if (param_4 != 2) {
          return param_1;
        }
        if (param_5 == 0) {
          return param_1;
        }
        uVar6 = (ulong)(param_5 - 1);
        lVar3 = 0;
        do {
          iVar2 = *(int *)((long)param_2 + lVar3 * 2);
          param_1[lVar3] = (char)((uint)iVar2 >> 8);
          param_1[lVar3 + 1] = (char)iVar2;
          lVar3 = lVar3 + 2;
        } while (lVar3 != uVar6 * 2 + 2);
LAB_001086a3:
        return param_1 + uVar6 * 2 + 2;
      }
      if ((param_3 & 2) != 0) {
        uVar6 = (ulong)(param_5 - 1);
        if (param_5 == 0) {
          return param_1;
        }
        lVar3 = 0;
        do {
          param_1[lVar3] = (char)param_2[lVar3];
          lVar3 = lVar3 + 1;
        } while (uVar6 + 1 != lVar3);
        goto LAB_001085f7;
      }
    }
    else {
      if (param_4 == 2) {
        if (param_5 == 0) {
          return param_1;
        }
        uVar6 = (ulong)(param_5 - 1);
        lVar3 = 0;
        do {
          iVar2 = *(int *)((long)param_2 + lVar3 * 2) + 0x8000;
          param_1[lVar3] = (char)((uint)iVar2 >> 8);
          param_1[lVar3 + 1] = (char)iVar2;
          lVar3 = lVar3 + 2;
        } while (uVar6 * 2 + 2 != lVar3);
        goto LAB_001086a3;
      }
      if (2 < param_4) {
        if (param_4 != 3) {
          if (param_4 != 4) {
            return param_1;
          }
          uVar6 = (ulong)(param_5 - 1);
          if (param_5 == 0) {
            return param_1;
          }
          piVar1 = param_2 + uVar6 + 1;
          puVar5 = param_1;
          do {
            iVar2 = *param_2;
            param_2 = param_2 + 1;
            iVar2 = iVar2 + -0x80000000;
            puVar5[2] = (char)((uint)iVar2 >> 8);
            *puVar5 = (char)((uint)iVar2 >> 0x18);
            puVar5[1] = (char)((uint)iVar2 >> 0x10);
            puVar5[3] = (char)iVar2;
            puVar5 = puVar5 + 4;
          } while (piVar1 != param_2);
          goto LAB_00108708;
        }
        uVar6 = (ulong)(param_5 - 1);
        if (param_5 == 0) {
          return param_1;
        }
        puVar5 = param_1;
        do {
          puVar4 = puVar5 + 3;
          iVar2 = *param_2 + 0x800000;
          puVar5[1] = (char)((uint)iVar2 >> 8);
          *puVar5 = (char)((uint)iVar2 >> 0x10);
          puVar5[2] = (char)iVar2;
          puVar5 = puVar4;
          param_2 = param_2 + 1;
        } while (param_1 + uVar6 * 3 + 3 != puVar4);
        goto LAB_0010893e;
      }
      if (param_4 != 1) {
        return param_1;
      }
    }
    uVar6 = (ulong)(param_5 - 1);
    if (param_5 == 0) {
      return param_1;
    }
    lVar3 = 0;
    do {
      param_1[lVar3] = *(char *)(param_2 + lVar3) + -0x80;
      lVar3 = lVar3 + 1;
    } while (lVar3 != uVar6 + 1);
  }
LAB_001085f7:
  return param_1 + uVar6 + 1;
}



void FUN_00108a80(double param_1)

{
  long in_FS_OFFSET;
  undefined auStack56 [40];
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  sprintf(auStack56,1,0x28,"%d%% (WavPack)",
                (int)(((param_1 + (double)DAT_003190c8) / (double)DAT_003190cc) * 100.0 + 0.5));
  FUN_00111940(auStack56);
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



undefined8 FUN_00108b10(undefined8 param_1,ulong *param_2)

{
  long lVar1;
  byte bVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  undefined4 uVar8;
  long lVar9;
  uint *__ptr;
  void *data;
  long lVar10;
  uint *puVar11;
  undefined4 *puVar12;
  undefined8 uVar13;
  undefined uVar14;
  void *pvVar15;
  uint *puVar16;
  int iVar17;
  int iVar18;
  ulong uVar19;
  long in_FS_OFFSET;
  double extraout_XMM0_Qa;
  double extraout_XMM0_Qa_00;
  double extraout_XMM0_Qa_01;
  double dVar20;
  void *local_1b8;
  long local_1b0;
  double local_1a0;
  MD5_CTX local_168;
  ulong local_108;
  ulong local_100;
  undefined4 local_f8;
  undefined4 uStack244;
  undefined4 uStack240;
  undefined4 uStack236;
  undefined4 local_e8;
  undefined4 uStack228;
  undefined4 uStack224;
  undefined4 uStack220;
  undefined local_d8;
  undefined4 local_c8 [4];
  undefined4 local_b8;
  undefined4 uStack180;
  undefined4 uStack176;
  undefined4 uStack172;
  undefined local_a8;
  undefined local_98 [88];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar9 = WavpackOpenFileInput(param_1,local_98,0x501);
  if (lVar9 == 0) {
    uVar13 = 1;
    FUN_00111570(local_98);
    goto LAB_00108f3f;
  }
  if (param_2 != (ulong *)0x0) {
    MD5_Init(&local_168);
  }
  uVar3 = WavpackGetQualifyMode(lVar9);
  iVar4 = WavpackGetNumChannels(lVar9);
  iVar5 = WavpackGetBytesPerSample(lVar9);
  __ptr = (uint *)malloc((long)(iVar4 << 0xe));
  if ((uVar3 & 8) == 0) {
    local_1b8 = (void *)0x0;
    uVar19 = (ulong)(iVar4 - 1);
  }
  else {
    bVar2 = WavpackGetChannelLayout(lVar9,0);
    if (iVar4 < (int)(uint)bVar2) {
      local_1b8 = (void *)0x0;
      uVar19 = (ulong)(iVar4 - 1);
    }
    else {
      local_1b8 = malloc((long)iVar4);
      uVar19 = 0xffffffff;
      if (iVar4 != 0) {
        uVar19 = (ulong)(iVar4 - 1);
        lVar10 = 0;
        do {
          *(char *)((long)local_1b8 + lVar10) = (char)lVar10;
          lVar10 = lVar10 + 1;
        } while (uVar19 + 1 != lVar10);
      }
      WavpackGetChannelLayout(lVar9,local_1b8);
    }
  }
  local_1b0 = 0;
  iVar6 = iVar4 << 0xc;
  local_1a0 = -1.0;
  while( true ) {
    iVar7 = WavpackUnpackSamples(lVar9,__ptr,0x1000);
    local_1b0 = local_1b0 + iVar7;
    if (iVar7 == 0) break;
    if (param_2 == (ulong *)0x0) {
LAB_00108d28:
      iVar7 = FUN_00111700();
    }
    else {
      if (local_1b8 != (void *)0x0) {
        FUN_00107db0(__ptr,local_1b8,iVar4,0);
      }
      if ((uVar3 & 0x30) != 0) {
        data = malloc((long)iVar6);
        if ((uVar3 & 0x40) == 0) {
          iVar18 = iVar7 * iVar4;
          if (iVar18 != 0) {
            lVar10 = 0;
            do {
              *(char *)((long)data + lVar10) = (char)__ptr[lVar10];
              lVar10 = lVar10 + 1;
            } while ((ulong)(iVar18 - 1) + 1 != lVar10);
          }
        }
        else {
          iVar18 = iVar6;
          if (iVar4 != 0) {
            pvVar15 = data;
            puVar16 = __ptr;
            do {
              lVar10 = 0;
              puVar11 = puVar16;
              do {
                while ((int)lVar10 < iVar7) {
                  uVar14 = (undefined)*puVar11;
                  if ((uVar3 & 0x10) != 0) {
                    uVar14 = (&DAT_00115c20)[*puVar11 & 0xff];
                  }
                  *(undefined *)((long)pvVar15 + lVar10) = uVar14;
                  lVar10 = lVar10 + 1;
                  puVar11 = puVar11 + iVar4;
                  if (lVar10 == 0x1000) goto LAB_00108cfc;
                }
                *(undefined *)((long)pvVar15 + lVar10) = 0;
                lVar10 = lVar10 + 1;
                puVar11 = puVar11 + iVar4;
              } while (lVar10 != 0x1000);
LAB_00108cfc:
              pvVar15 = (void *)((long)pvVar15 + 0x1000);
              puVar16 = (uint *)((long)puVar16 + (long)(iVar4 << 0xe) + (long)iVar6 * -4 + 4);
            } while (pvVar15 != (void *)((long)data + (uVar19 + 1) * 0x1000));
          }
        }
        MD5_Update(&local_168,data,(long)iVar18);
        free(data);
        goto LAB_00108d28;
      }
      iVar18 = iVar5;
      iVar17 = iVar4;
      FUN_001085b0(__ptr,__ptr,uVar3,0,0);
      MD5_Update(&local_168,__ptr,(long)(iVar7 * iVar18 * iVar17));
      iVar7 = FUN_00111700();
    }
    if (iVar7 != 0) {
      fputc(10,stderr);
      fflush(stderr);
      free(__ptr);
      if (local_1b8 != (void *)0x0) {
        free(local_1b8);
      }
      goto LAB_00108f32;
    }
    WavpackGetProgress(lVar9);
    if (extraout_XMM0_Qa != -1.0) {
      WavpackGetProgress(lVar9);
      dVar20 = DAT_00319070 + extraout_XMM0_Qa_00 * (100.0 - DAT_00319070) + 0.5;
      if ((double)((ulong)dVar20 & 0x7fffffffffffffff) < 4503599627370496.0) {
        dVar20 = (double)((ulong)((double)(long)dVar20 -
                                 (double)-(ulong)(dVar20 < (double)(long)dVar20)) |
                         (ulong)dVar20 & 0x8000000000000000);
      }
      if (dVar20 != local_1a0) {
        WavpackGetProgress(lVar9);
        local_1a0 = DAT_00319070 + extraout_XMM0_Qa_01 * (100.0 - DAT_00319070) + 0.5;
        if ((double)((ulong)local_1a0 & 0x7fffffffffffffff) < 4503599627370496.0) {
          local_1a0 = (double)((ulong)((double)(long)local_1a0 -
                                      (double)-(ulong)(local_1a0 < (double)(long)local_1a0)) |
                              (ulong)local_1a0 & 0x8000000000000000);
        }
        if (DAT_003190b0 != 0) {
          FUN_00108a80(DAT_003190b0);
        }
        if (DAT_003190c0 == 0) {
          __fprintf_chk(stderr,1,"%s%3d%% done...");
          fflush(stderr);
        }
      }
    }
  }
  free(__ptr);
  if (local_1b8 == (void *)0x0) {
    if (param_2 != (ulong *)0x0) goto LAB_0010903c;
LAB_00109175:
    lVar10 = WavpackGetNumSamples64(lVar9);
    if (lVar10 == -1) {
LAB_0010921c:
      uVar13 = 0;
    }
    else {
      lVar10 = WavpackGetNumSamples64(lVar9);
      if (local_1b0 < lVar10) {
        lVar10 = WavpackGetNumSamples64(lVar9);
        uVar13 = 1;
        FUN_00111570("file is missing %llu samples!",lVar10 - local_1b0);
      }
      else {
        lVar10 = WavpackGetNumSamples64(lVar9);
        if (local_1b0 <= lVar10) goto LAB_0010921c;
        uVar13 = 1;
        lVar10 = WavpackGetNumSamples64(lVar9);
        FUN_00111570("file has %llu extra samples!",local_1b0 - lVar10);
      }
    }
    iVar4 = WavpackGetNumErrors(lVar9);
    if (iVar4 != 0) {
      uVar8 = WavpackGetNumErrors(lVar9);
      FUN_00111570("missing data or crc errors detected in %d block(s)!",uVar8);
LAB_00108f32:
      uVar13 = 1;
    }
  }
  else {
    free(local_1b8);
    if (param_2 == (ulong *)0x0) goto LAB_00109175;
LAB_0010903c:
    MD5_Final((uchar *)&local_108,&local_168);
    if ((local_100 ^ param_2[1] | local_108 ^ *param_2) == 0) goto LAB_00109175;
    local_d8 = 0;
    local_a8 = 0;
    local_f8 = 0x30303030;
    uStack244 = 0x30303030;
    uStack240 = 0x30303030;
    uStack236 = 0x30303030;
    local_e8 = 0x30303030;
    uStack228 = 0x30303030;
    uStack224 = 0x30303030;
    uStack220 = 0x30303030;
    lVar10 = 0;
    local_c8[0] = 0x30303030;
    local_c8[1] = 0x30303030;
    local_c8[2] = 0x30303030;
    local_c8[3] = 0x30303030;
    local_b8 = 0x30303030;
    uStack180 = 0x30303030;
    uStack176 = 0x30303030;
    uStack172 = 0x30303030;
    puVar12 = &local_f8;
    do {
      sprintf(puVar12,1,0xffffffffffffffff,&DAT_00112a41,
                    *(undefined *)((long)param_2 + lVar10));
      lVar1 = lVar10 * 2;
      lVar10 = lVar10 + 1;
      sprintf((undefined4 *)((long)local_c8 + lVar1),1,0xffffffffffffffff,&DAT_00112a41);
      puVar12 = (undefined4 *)((long)puVar12 + 2);
    } while (lVar10 != 0x10);
    uVar13 = 1;
    FUN_00111570("original md5: %s",&local_f8);
    FUN_00111570("verified md5: %s",local_c8);
    FUN_00111570("MD5 signatures should match, but do not!");
  }
  WavpackCloseFile(lVar9);
LAB_00108f3f:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return uVar13;
}



int FUN_001092c0(int *param_1,long param_2,int param_3)

{
  long lVar1;
  int iVar2;
  int iVar3;
  long in_FS_OFFSET;
  int local_24;
  
  iVar3 = param_1[4];
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  if (iVar3 == 0) {
    if (((*(long *)(param_1 + 2) != 0) && (param_2 != 0)) && (param_3 != 0)) {
      iVar2 = FUN_00111780(param_1,param_2,param_3,0);
      if ((iVar2 == 0) || (param_3 != local_24)) {
        FUN_001118d0(*(undefined8 *)(param_1 + 2));
        FUN_001118a0(*(undefined8 *)(param_1 + 2));
        *(undefined8 *)(param_1 + 2) = 0;
        param_1[4] = 1;
        goto LAB_00109355;
      }
      *param_1 = *param_1 + param_3;
      if (param_1[1] == 0) {
        param_1[1] = param_3;
      }
    }
    iVar3 = 1;
  }
  else {
    iVar3 = 0;
  }
LAB_00109355:
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return iVar3;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



// WARNING: Type propagation algorithm not settling
// WARNING: Could not reconcile some variable overlaps

uint FUN_00109380(uint *param_1,uint *param_2,uint *param_3,undefined4 *param_4)

{
  ushort *puVar1;
  undefined uVar2;
  int iVar3;
  byte bVar4;
  char cVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  undefined4 uVar9;
  uint uVar10;
  undefined8 uVar11;
  long lVar12;
  undefined8 uVar13;
  char *pcVar14;
  FILE *pFVar15;
  size_t sVar16;
  undefined2 *puVar17;
  uint *puVar18;
  byte *__dest;
  byte *pbVar19;
  uint *puVar20;
  ulong uVar21;
  byte *pbVar22;
  void *__ptr;
  int *data;
  float *__ptr_00;
  float *pfVar23;
  undefined4 *puVar24;
  float *pfVar25;
  uint uVar26;
  uint uVar27;
  uint uVar28;
  float fVar29;
  undefined *puVar30;
  undefined4 *puVar31;
  long lVar32;
  uint uVar33;
  uint uVar34;
  uchar *puVar35;
  int *piVar36;
  int *piVar37;
  undefined8 *puVar38;
  int iVar39;
  char *pcVar40;
  byte *pbVar41;
  int iVar42;
  undefined1 *puVar43;
  ulong uVar44;
  char *pcVar45;
  long in_FS_OFFSET;
  bool bVar46;
  bool bVar47;
  byte bVar48;
  double extraout_XMM0_Qa;
  double extraout_XMM0_Qa_00;
  double extraout_XMM0_Qa_01;
  double extraout_XMM0_Qa_02;
  double extraout_XMM0_Qa_03;
  double extraout_XMM0_Qa_04;
  double extraout_XMM0_Qa_05;
  double extraout_XMM0_Qa_06;
  double extraout_XMM0_Qa_07;
  double dVar49;
  double dVar50;
  double extraout_XMM0_Qa_08;
  double extraout_XMM0_Qa_09;
  char *local_370;
  FILE *local_368;
  uint *local_360;
  uint *local_350;
  uint *local_338;
  uchar *local_310;
  double local_308;
  uchar *local_300;
  double local_2f8;
  double local_2e8;
  int local_2d4;
  __timezone_ptr_t local_2d0;
  undefined local_29d;
  uint local_29c;
  double local_298;
  timezone local_290;
  timeval local_288;
  timeval local_278;
  undefined local_268 [8];
  undefined8 uStack608;
  undefined8 local_258;
  undefined local_248 [8];
  long lStack576;
  undefined8 local_238;
  undefined4 local_228;
  undefined4 uStack548;
  undefined4 uStack544;
  int iStack540;
  uint local_218;
  uint uStack532;
  undefined4 uStack528;
  int iStack524;
  undefined4 local_208;
  undefined4 uStack516;
  undefined4 uStack512;
  undefined4 uStack508;
  int local_1f8;
  undefined4 uStack500;
  undefined4 uStack496;
  undefined4 uStack492;
  undefined4 local_1e8;
  undefined4 uStack484;
  undefined4 uStack480;
  undefined4 uStack476;
  undefined8 local_1d8;
  MD5_CTX local_1c8;
  uchar local_168 [16];
  undefined local_158 [16];
  undefined4 local_148;
  undefined4 uStack324;
  undefined4 uStack320;
  undefined4 uStack316;
  undefined4 local_138;
  undefined4 uStack308;
  undefined4 uStack304;
  undefined4 uStack300;
  undefined4 local_128;
  undefined4 uStack292;
  undefined4 uStack288;
  undefined4 uStack284;
  undefined8 local_118;
  undefined local_110;
  long local_40;
  
  bVar48 = 0;
  local_228 = *param_4;
  uStack548 = param_4[1];
  uStack544 = param_4[2];
  iStack540 = param_4[3];
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_1d8 = *(undefined8 *)(param_4 + 0x14);
  bVar46 = param_3 != (uint *)0x0;
  local_218 = param_4[4];
  uStack532 = param_4[5];
  uStack528 = param_4[6];
  iStack524 = param_4[7];
  puVar30 = local_248;
  if (param_3 == (uint *)0x0) {
    puVar30 = (undefined *)0x0;
  }
  local_208 = param_4[8];
  uStack516 = param_4[9];
  uStack512 = param_4[10];
  uStack508 = param_4[0xb];
  local_258 = 0;
  local_238 = 0;
  local_1f8 = param_4[0xc];
  uStack500 = param_4[0xd];
  uStack496 = param_4[0xe];
  uStack492 = param_4[0xf];
  local_1e8 = param_4[0x10];
  uStack484 = param_4[0x11];
  uStack480 = param_4[0x12];
  uStack476 = param_4[0x13];
  _local_268 = 0x0;
  _local_248 = 0x0;
  uVar11 = WavpackOpenFileOutput(0,FUN_001092c0,local_268,puVar30);
  if (*(char *)param_1 == '-') {
    local_368 = stdin;
  }
  else {
    local_368 = fopen((char *)param_1,"rb");
    if (local_368 == (FILE *)0x0) {
      uVar26 = 1;
      FUN_00111570("can\'t open file %s!",param_1);
      WavpackCloseFile(uVar11);
      goto LAB_0010994a;
    }
  }
  if ((local_218 & 0x1000) == 0) {
LAB_00109488:
    if (*(char *)param_2 == '-') {
      if (param_3 == (uint *)0x0) goto LAB_00109798;
      puVar20 = param_2;
      if (DAT_003190d0 == 0) {
        pFVar15 = fopen((char *)param_3,"rb");
        _local_248 = CONCAT88(pFVar15,local_248);
        if (pFVar15 == (FILE *)0x0) goto LAB_001094b5;
        sVar16 = fread(&local_29d,1,1,pFVar15);
        FUN_001118a0(lStack576);
        if (sVar16 == 1) {
          bVar46 = true;
          puVar20 = param_3;
LAB_0010afa9:
          do {
            puVar18 = puVar20;
            uVar27 = *puVar18 + 0xfefefeff & ~*puVar18;
            uVar26 = uVar27 & 0x80808080;
            puVar20 = puVar18 + 1;
          } while (uVar26 == 0);
          bVar47 = (uVar27 & 0x8080) == 0;
          if (bVar47) {
            uVar26 = uVar26 >> 0x10;
          }
          if (bVar47) {
            puVar20 = (uint *)((long)puVar18 + 6);
          }
          if (0x1e < (long)puVar20 +
                     ((-3 - (ulong)CARRY1((byte)uVar26,(byte)uVar26)) - (long)param_3)) {
            FUN_001113e0(param_3);
          }
          __fprintf_chk(stderr,1,"overwrite %s (yes/no/all)? ");
          fflush(stderr);
          if (DAT_003190b0 != 0) {
            FUN_00111940("overwrite?");
          }
          cVar5 = FUN_00111410();
          if (cVar5 == 'a') {
            DAT_003190d0 = 1;
          }
          else {
            if (cVar5 == 'n') goto LAB_00109aac;
          }
LAB_00109790:
          if (!bVar46) goto LAB_00109798;
        }
        uVar21 = 0xffffffffffffffff;
        puVar20 = param_2;
        do {
          if (uVar21 == 0) break;
          uVar21 = uVar21 - 1;
          cVar5 = *(char *)puVar20;
          puVar20 = (uint *)((long)puVar20 + (ulong)bVar48 * -2 + 1);
        } while (cVar5 != '\0');
        local_350 = (uint *)malloc(~uVar21 + 0xf);
        local_338 = (uint *)0x0;
        puVar20 = param_2;
        if (param_3 == (uint *)0x0) goto LAB_0010954b;
      }
      else {
LAB_001094b5:
        do {
          puVar18 = puVar20 + 1;
          uVar26 = *puVar20 + 0xfefefeff & ~*puVar20 & 0x80808080;
          puVar20 = puVar18;
        } while (uVar26 == 0);
LAB_001094cd:
        bVar46 = (uVar26 & 0x8080) == 0;
        if (bVar46) {
          uVar26 = uVar26 >> 0x10;
        }
        if (bVar46) {
          puVar18 = (uint *)((long)puVar18 + 2);
        }
        local_350 = (uint *)malloc((long)puVar18 +
                                   (-(long)param_2 - (ulong)CARRY1((byte)uVar26,(byte)uVar26)) + 0xd
                                  );
        puVar20 = param_2;
      }
      do {
        puVar18 = puVar20;
        uVar27 = *puVar18 + 0xfefefeff & ~*puVar18;
        uVar26 = uVar27 & 0x80808080;
        puVar20 = puVar18 + 1;
      } while (uVar26 == 0);
      bVar46 = (uVar27 & 0x8080) == 0;
      if (bVar46) {
        uVar26 = uVar26 >> 0x10;
      }
      if (bVar46) {
        puVar20 = (uint *)((long)puVar18 + 6);
      }
      local_338 = (uint *)malloc((long)puVar20 +
                                 (-(long)param_2 - (ulong)CARRY1((byte)uVar26,(byte)uVar26)) + 0xd);
LAB_0010954b:
      iVar7 = 0;
LAB_00109556:
      do {
        iVar42 = iVar7 + 1;
        strcpy((char *)local_350,(char *)param_2);
        lVar12 = FUN_00111230(local_350);
        puVar20 = local_350;
        if (lVar12 == 0) {
          do {
            puVar18 = puVar20;
            uVar27 = *puVar18 + 0xfefefeff & ~*puVar18;
            uVar26 = uVar27 & 0x80808080;
            puVar20 = puVar18 + 1;
          } while (uVar26 == 0);
          bVar46 = (uVar27 & 0x8080) == 0;
          if (bVar46) {
            uVar26 = uVar26 >> 0x10;
          }
          if (bVar46) {
            puVar20 = (uint *)((long)puVar18 + 6);
          }
          puVar24 = (undefined4 *)((long)puVar20 + (-3 - (ulong)CARRY1((byte)uVar26,(byte)uVar26)));
          if (iVar7 == 0) {
            *puVar24 = 0x706d742e;
            *(undefined *)(puVar24 + 1) = 0;
            iVar42 = 1;
          }
          else {
            sprintf(puVar24,1,0xffffffffffffffff);
          }
        }
        else {
          if (iVar7 == 0) {
            puVar24 = (undefined4 *)FUN_00111230(local_350);
            *puVar24 = 0x706d742e;
            *(undefined *)(puVar24 + 1) = 0;
          }
          else {
            uVar13 = FUN_00111230(local_350);
            sprintf(uVar13,1,0xffffffffffffffff);
          }
          pcVar14 = (char *)FUN_00111230(param_2);
          strcat((char *)local_350,pcVar14);
        }
        pFVar15 = fopen((char *)local_350,"rb");
        iVar7 = iVar42;
        if (pFVar15 != (FILE *)0x0) {
          sVar16 = fread(&local_29d,1,1,pFVar15);
          fclose(pFVar15);
          if ((int)sVar16 == 1) goto LAB_00109556;
        }
        if (param_3 == (uint *)0x0) break;
        puVar17 = (undefined2 *)stpcpy((char *)local_338,(char *)local_350);
        *puVar17 = 99;
        pFVar15 = fopen((char *)local_338,"rb");
        if (pFVar15 == (FILE *)0x0) break;
        sVar16 = fread(&local_29d,1,1,pFVar15);
        fclose(pFVar15);
      } while ((int)sVar16 == 1);
      gettimeofday(&local_288,(__timezone_ptr_t)&local_290);
      uVar26 = 1;
      puVar20 = local_350;
      if (*(char *)param_2 != '-') goto LAB_001097e3;
LAB_00109ad5:
      _local_268 = CONCAT88(stdout,local_268);
    }
    else {
      pFVar15 = fopen((char *)param_2,"rb");
      _local_268 = CONCAT88(pFVar15,local_268);
      if (pFVar15 != (FILE *)0x0) {
        sVar16 = fread(&local_29d,1,1,pFVar15);
        FUN_001118a0(uStack608);
        if (sVar16 != 1) goto LAB_0010973a;
        puVar20 = param_2;
        if (DAT_003190d0 == 0) {
          do {
            puVar18 = puVar20;
            uVar27 = *puVar18 + 0xfefefeff & ~*puVar18;
            uVar26 = uVar27 & 0x80808080;
            puVar20 = puVar18 + 1;
          } while (uVar26 == 0);
          bVar46 = (uVar27 & 0x8080) == 0;
          if (bVar46) {
            uVar26 = uVar26 >> 0x10;
          }
          if (bVar46) {
            puVar20 = (uint *)((long)puVar18 + 6);
          }
          if (0x1e < (long)puVar20 +
                     ((-3 - (ulong)CARRY1((byte)uVar26,(byte)uVar26)) - (long)param_2)) {
            FUN_001113e0(param_2);
          }
          __fprintf_chk(stderr,1,"overwrite %s (yes/no/all)? ");
          fflush(stderr);
          if (DAT_003190b0 != 0) {
            FUN_00111940("overwrite?");
          }
          cVar5 = FUN_00111410();
          if (cVar5 == 'a') {
            DAT_003190d0 = 1;
            puVar20 = param_2;
            if (param_3 == (uint *)0x0) goto LAB_0010a5bb;
            goto LAB_001094b5;
          }
          if (cVar5 == 'n') goto LAB_00109aac;
          bVar46 = true;
          puVar20 = param_2;
          if (param_3 == (uint *)0x0) goto LAB_0010a5bb;
          goto LAB_00109742;
        }
        if (param_3 != (uint *)0x0) goto LAB_001094b5;
LAB_0010a5bb:
        do {
          puVar18 = puVar20;
          uVar27 = *puVar18 + 0xfefefeff & ~*puVar18;
          uVar26 = uVar27 & 0x80808080;
          puVar20 = puVar18 + 1;
        } while (uVar26 == 0);
        bVar46 = (uVar27 & 0x8080) == 0;
        if (bVar46) {
          uVar26 = uVar26 >> 0x10;
        }
        if (bVar46) {
          puVar20 = (uint *)((long)puVar18 + 6);
        }
        local_350 = (uint *)malloc((long)puVar20 +
                                   (-(long)param_2 - (ulong)CARRY1((byte)uVar26,(byte)uVar26)) + 0xd
                                  );
        local_338 = (uint *)0x0;
        goto LAB_0010954b;
      }
LAB_0010973a:
      if (param_3 != (uint *)0x0) {
LAB_00109742:
        puVar18 = param_2;
        if (DAT_003190d0 == 0) {
          pFVar15 = fopen((char *)param_3,"rb");
          _local_248 = CONCAT88(pFVar15,local_248);
          if (pFVar15 != (FILE *)0x0) {
            sVar16 = fread(&local_29d,1,1,pFVar15);
            FUN_001118a0(lStack576);
            puVar20 = param_3;
            if (sVar16 == 1) goto LAB_0010afa9;
          }
          goto LAB_00109790;
        }
        do {
          uVar26 = *puVar18;
          puVar18 = puVar18 + 1;
          uVar26 = uVar26 + 0xfefefeff & ~uVar26 & 0x80808080;
        } while (uVar26 == 0);
        goto LAB_001094cd;
      }
LAB_00109798:
      gettimeofday(&local_288,(__timezone_ptr_t)&local_290);
      if (*(char *)param_2 == '-') {
        uVar26 = 0;
        local_338 = (uint *)0x0;
        local_350 = (uint *)0x0;
        goto LAB_00109ad5;
      }
      uVar26 = 0;
      local_338 = (uint *)0x0;
      local_350 = (uint *)0x0;
      puVar20 = param_2;
LAB_001097e3:
      pFVar15 = fopen((char *)puVar20,"w+b");
      _local_268 = CONCAT88(pFVar15,local_268);
      if (pFVar15 == (FILE *)0x0) {
        FUN_00111570("can\'t create file %s!",puVar20);
        goto LAB_00109aac;
      }
    }
    local_2d0 = (__timezone_ptr_t)&local_290;
    if (DAT_003190c0 == 0) {
      if (*(char *)param_2 == '-') {
        if ((*(char *)param_1 != '-') && (sVar16 = strlen((char *)param_1), 0x1e < sVar16)) {
          FUN_001113e0(param_1);
        }
        __fprintf_chk(stderr,1,"packing %s to stdout,");
      }
      else {
        puVar20 = param_2;
        if (param_3 == (uint *)0x0) {
          do {
            puVar18 = puVar20;
            uVar6 = *puVar18 + 0xfefefeff & ~*puVar18;
            uVar27 = uVar6 & 0x80808080;
            puVar20 = puVar18 + 1;
          } while (uVar27 == 0);
          bVar46 = (uVar6 & 0x8080) == 0;
          if (bVar46) {
            uVar27 = uVar27 >> 0x10;
          }
          if (bVar46) {
            puVar20 = (uint *)((long)puVar18 + 6);
          }
          if (0x1e < (long)puVar20 +
                     ((-3 - (ulong)CARRY1((byte)uVar27,(byte)uVar27)) - (long)param_2)) {
            FUN_001113e0(param_2);
          }
          __fprintf_chk(stderr,1,"creating %s,");
        }
        else {
          FUN_00111230(0);
          do {
            puVar18 = puVar20;
            uVar6 = *puVar18 + 0xfefefeff & ~*puVar18;
            uVar27 = uVar6 & 0x80808080;
            puVar20 = puVar18 + 1;
          } while (uVar27 == 0);
          bVar46 = (uVar6 & 0x8080) == 0;
          if (bVar46) {
            uVar27 = uVar27 >> 0x10;
          }
          if (bVar46) {
            puVar20 = (uint *)((long)puVar18 + 6);
          }
          if (0x1e < (long)puVar20 +
                     ((-3 - (ulong)CARRY1((byte)uVar27,(byte)uVar27)) - (long)param_2)) {
            FUN_001113e0(param_2);
          }
          __fprintf_chk(stderr,1,"creating %s (+%s),");
        }
      }
      fflush(stderr);
    }
    if (((local_218 & 0x1000) != 0) &&
       (((local_218 & 0x30) == 0 ||
        (WavpackSetFileInformation(uVar11,&DAT_00112bb1,3), (local_218 & 0x1000) != 0)))) {
      if (DAT_0031909c == 0) {
        local_2d4 = 1;
      }
      else {
        uVar27 = DAT_0031909c;
        do {
          uVar6 = 0x100;
          if (uVar27 < 0x100) {
            uVar6 = uVar27;
          }
          iVar7 = FUN_00111710(local_368,&local_148,uVar6,0);
          if ((iVar7 == 0) || (local_29c != uVar6)) {
            FUN_00111570("can\'t read file %s!",param_1);
            goto LAB_0010990d;
          }
          uVar27 = uVar27 - local_29c;
        } while (uVar27 != 0);
        local_2d4 = 1;
      }
LAB_00109af4:
      if (((local_218 & 8) == 0) ||
         (bVar4 = WavpackGetChannelLayout(uVar11), iVar7 = iStack524, iStack524 < (int)(uint)bVar4))
      {
        __dest = (byte *)0x0;
      }
      else {
        __dest = (byte *)malloc((long)iStack524);
        if (iVar7 != 0) {
          lVar12 = 0;
          do {
            __dest[lVar12] = (byte)lVar12;
            lVar12 = lVar12 + 1;
          } while ((ulong)(iVar7 - 1) + 1 != lVar12);
        }
        WavpackGetChannelLayout(uVar11);
      }
      iVar42 = iStack524;
      iVar7 = DAT_00319094;
      if ((DAT_00319094 != 0) || ((local_218 & 0x400) != 0)) {
        if ((iStack524 < DAT_00319094) || ((DAT_00319094 < iStack524 && ((local_218 & 0x400) == 0)))
           ) {
          FUN_00111570("file does not have %d channel(s)!",DAT_00319094);
          goto LAB_0010990d;
        }
        if (DAT_00319094 != 0) {
          __dest = (byte *)malloc((long)iStack524);
          if (0 < iVar42) {
            lVar12 = 0;
            do {
              __dest[lVar12] = (byte)lVar12;
              lVar12 = lVar12 + 1;
            } while ((ulong)(iVar42 - 1) + 1 != lVar12);
          }
          memcpy(__dest,&DAT_00319080,(long)iVar7);
          if (0 < iVar7) {
            uVar27 = 0;
            do {
              iVar42 = 0;
              pbVar19 = __dest;
              do {
                pbVar41 = __dest;
                if (*pbVar19 == uVar27) {
                  uVar27 = uVar27 + 1;
                  if (iVar7 != iVar42) goto LAB_00109ba0;
                  break;
                }
                iVar42 = iVar42 + 1;
                pbVar19 = pbVar19 + 1;
              } while (iVar7 != iVar42);
              do {
                if ((int)uVar27 < (int)(uint)*pbVar41) {
                  *pbVar41 = *pbVar41 - 1;
                }

LAB_00109ba0:
                pbVar41 = pbVar41 + 1;
              } while (__dest + (ulong)(iVar7 - 1) + 1 != pbVar41);

            } while ((int)uVar27 < iVar7);
          }
        }
      }
      if (param_3 != (uint *)0x0) {
        if (uVar26 == 0) {
          pFVar15 = fopen((char *)param_3,"w+b");
          _local_248 = CONCAT88(pFVar15,local_248);
          if (pFVar15 == (FILE *)0x0) {
            FUN_00111570("can\'t create correction file!");
            FUN_001118a0(local_368);
            FUN_001118a0(uStack608);
            local_350 = param_2;
            goto LAB_0010b921;
          }
        }
        else {
          pFVar15 = fopen((char *)local_338,"w+b");
          _local_248 = CONCAT88(pFVar15,local_248);
          if (pFVar15 == (FILE *)0x0) {
            FUN_00111570("can\'t create correction file!");
            FUN_001118a0(local_368);
            FUN_001118a0(uStack608);
LAB_0010b921:
            uVar26 = 1;
            FUN_00111910(local_350);
            WavpackCloseFile(uVar11);
            goto LAB_0010994a;
          }
        }
      }
      uVar6 = local_218;
      uVar27 = local_218 & 0x30;
      if (uVar27 == 0) {
        if (((uStack532 & 0x8000000) == 0) && (DAT_003190bc == 0)) {
          bVar46 = false;
          local_300 = (uchar *)0x0;
        }
        else {
          local_300 = local_168;
          bVar46 = true;
        }
        lVar12 = 0x10000;
        while (iVar7 = WavpackGetNumChannels(uVar11), 0x200000 < (ulong)(iVar7 * lVar12 * 4)) {
          lVar12 = lVar12 >> 1;
        }
        if (local_300 != (uchar *)0x0) {
          MD5_Init(&local_1c8);
        }
        WavpackPackInit(uVar11);
        iVar7 = WavpackGetBytesPerSample(uVar11);
        iVar42 = WavpackGetNumChannels();
        uVar8 = iVar7 * iVar42;
        uVar28 = uVar8 * (int)lVar12;
        data = (int *)malloc((ulong)uVar28);
        iVar7 = WavpackGetNumChannels(uVar11);
        __ptr_00 = (float *)malloc(lVar12 * 4 * (long)iVar7);
        local_310 = (uchar *)WavpackGetNumSamples64(uVar11);
        if (DAT_003190a8 == 0) {
          uVar10 = 0;
          local_308 = 1.0;
          local_2f8 = 1.0;
          uVar34 = DAT_003190a8;
        }
        else {
          iVar7 = WavpackGetBytesPerSample(uVar11);
          if (iVar7 * 8 - DAT_003190a8 == 0 || iVar7 * 8 < (int)DAT_003190a8) {
            uVar10 = 0;
            uVar34 = 0;
            local_308 = 1.0;
            local_2f8 = 1.0;
          }
          else {
            cVar5 = WavpackGetBytesPerSample(uVar11);
            iVar7 = 1 << (cVar5 * '\b' - (char)DAT_003190a8 & 0x1fU);
            uVar34 = -iVar7;
            uVar21 = WavpackGetMode(uVar11);
            if ((uVar21 & 8) == 0) {
              local_308 = 1.0;
              local_2f8 = 1.0;
              uVar10 = (int)uVar34 >> 1 ^ uVar34;
              bVar46 = (bool)(bVar46 & iVar7 == 0);
            }
            else {
              iVar42 = WavpackGetFloatNormExp();
              uVar10 = DAT_003190a8;
              local_2f8 = exp2((double)((DAT_003190a8 + 0x7e) - iVar42));
              local_308 = exp2((double)((iVar42 + -0x7e) - uVar10));
              uVar10 = (int)uVar34 >> 1 ^ uVar34;
              bVar46 = (bool)(bVar46 & iVar7 == 0);
            }
          }
        }
        local_2e8 = -1.0;
        dVar50 = local_2e8;
LAB_0010a134:
        local_2e8 = dVar50;
        local_278.tv_sec = 0;
        uVar33 = uVar28;
        if (((long)local_310 <= lVar12) && ((uVar6 >> 0xb & 1) == 0)) {
          uVar33 = uVar8 * (int)local_310;
        }
        local_310 = (uchar *)((long)local_310 - (ulong)uVar33 / (ulong)uVar8);
        FUN_00111710(local_368,data,uVar33,0);
        uVar21 = (ulong)(uint)local_278.tv_sec;
        iVar7 = (int)(uVar21 / uVar8);
        if (__dest == (byte *)0x0) {
          if (bVar46) {
            MD5_Update(&local_1c8,data,(long)(int)(uVar8 * iVar7));
          }
        }
        else {
          if ((uVar6 & 8) == 0) {
            WavpackGetBytesPerSample(uVar11);
            uVar9 = WavpackGetNumChannels(uVar11);
            FUN_00107eb0(data,__dest,uVar9,0,0);
            if (bVar46) goto LAB_0010aa65;
          }
          else {
            if (bVar46) {
LAB_0010aa65:
              MD5_Update(&local_1c8,data,(long)(int)(uVar8 * iVar7));
              if ((uVar6 & 8) == 0) goto LAB_0010a1db;
            }
            WavpackGetBytesPerSample(uVar11);
            uVar9 = WavpackGetNumChannels(uVar11);
            FUN_00107eb0(data,__dest,uVar9,0,0);
          }
        }
LAB_0010a1db:
        if (iVar7 == 0) {
          free(__ptr_00);
          free(data);
          iVar7 = WavpackFlushSamples(uVar11);
          local_310 = local_300;
          if (iVar7 != 0) goto joined_r0x0010b4d2;
          goto LAB_0010c21d;
        }
        iVar42 = WavpackGetBytesPerSample(uVar11);
        iVar39 = WavpackGetNumChannels();
        iVar39 = iVar39 * iVar7;
        if ((uVar6 & 1) == 0) {
          if ((uVar6 & 4) == 0) {
            if (iVar42 == 1) {
              if ((uVar6 & 2) == 0) {
LAB_0010b304:
                if (iVar39 != 0) {
                  lVar32 = 0;
                  do {
                    __ptr_00[lVar32] = (float)(*(byte *)((long)data + lVar32) - 0x80);
                    lVar32 = lVar32 + 1;
                  } while ((ulong)(iVar39 - 1) + 1 != lVar32);
                }
              }
              else {
                if (iVar39 != 0) {
                  lVar32 = 0;
                  do {
                    __ptr_00[lVar32] = (float)(int)*(char *)((long)data + lVar32);
                    lVar32 = lVar32 + 1;
                  } while ((ulong)(iVar39 - 1) + 1 != lVar32);
                }
              }
            }
            else {
              if (iVar42 == 3) {
                if (iVar39 != 0) {
                  piVar37 = data;
                  pfVar25 = __ptr_00;
                  do {
                    iVar3 = *piVar37;
                    piVar37 = piVar37 + 1;
                    *pfVar25 = (float)(int)iVar3;
                    pfVar25 = pfVar25 + 1;
                  } while (piVar37 != data + (ulong)(iVar39 - 1) + 1);
                }
              }
              else {
                if (iVar42 == 4) {
                  if (iVar39 != 0) {
                    lVar32 = 0;
                    do {
                      *(undefined4 *)((long)__ptr_00 + lVar32) =
                           *(undefined4 *)((long)data + lVar32);
                      lVar32 = lVar32 + 4;
                    } while ((ulong)(iVar39 - 1) * 4 + 4 != lVar32);
                  }
                }
                else {
                  if ((iVar42 == 2) && (iVar39 != 0)) {
                    lVar32 = 0;
                    do {
                      *(int *)((long)__ptr_00 + lVar32 * 2) =
                           (int)CONCAT11(*(undefined *)((long)data + lVar32 + 1),
                                         *(undefined *)((long)data + lVar32));
                      lVar32 = lVar32 + 2;
                    } while ((ulong)(iVar39 - 1) * 2 + 2 != lVar32);
                  }
                }
              }
            }
          }
          else {
            if (iVar42 == 2) {
              if (iVar39 != 0) {
                lVar32 = 0;
                do {
                  *(uint *)((long)__ptr_00 + lVar32 * 2) = *(ushort *)((long)data + lVar32) - 0x8000
                  ;
                  lVar32 = lVar32 + 2;
                } while ((ulong)(iVar39 - 1) * 2 + 2 != lVar32);
              }
            }
            else {
              if (iVar42 < 3) {
                if (iVar42 == 1) goto LAB_0010b304;
              }
              else {
                if (iVar42 == 3) {
                  if (iVar39 != 0) {
                    piVar37 = data;
                    pfVar25 = __ptr_00;
                    do {
                      piVar36 = piVar37 + 1;
                      *pfVar25 = (float)(((uint)*(byte *)((long)piVar37 + 1) << 8 |
                                          (uint)*(byte *)((long)piVar37 + 2) << 0x10 |
                                         (uint)*(byte *)piVar37) - 0x800000);
                      piVar37 = piVar36;
                      pfVar25 = pfVar25 + 1;
                    } while (piVar36 != data + (ulong)(iVar39 - 1) + 1);
                  }
                }
                else {
                  if ((iVar42 == 4) && (iVar39 != 0)) {
                    lVar32 = 0;
                    do {
                      *(int *)((long)__ptr_00 + lVar32) =
                           *(int *)((long)data + lVar32) + -0x80000000;
                      lVar32 = lVar32 + 4;
                    } while ((ulong)(iVar39 - 1) * 4 + 4 != lVar32);
                  }
                }
              }
            }
          }
        }
        else {
          if ((uVar6 & 4) == 0) {
            if (iVar42 == 1) {
              if ((uVar6 & 2) == 0) {
LAB_0010a225:
                if (iVar39 != 0) {
                  lVar32 = 0;
                  do {
                    __ptr_00[lVar32] = (float)(*(byte *)((long)data + lVar32) - 0x80);
                    lVar32 = lVar32 + 1;
                  } while (lVar32 != (ulong)(iVar39 - 1) + 1);
                }
              }
              else {
                if (iVar39 != 0) {
                  lVar32 = 0;
                  do {
                    __ptr_00[lVar32] = (float)(int)*(char *)((long)data + lVar32);
                    lVar32 = lVar32 + 1;
                  } while ((ulong)(iVar39 - 1) + 1 != lVar32);
                }
              }
            }
            else {
              if (iVar42 == 3) {
                if (iVar39 != 0) {
                  piVar37 = data;
                  pfVar25 = __ptr_00;
                  do {
                    puVar1 = (ushort *)((long)piVar37 + 1);
                    bVar4 = *(byte *)piVar37;
                    piVar37 = piVar37 + 1;
                    *pfVar25 = (float)(int)CONCAT12(bVar4,*puVar1 << 8 | *puVar1 >> 8);
                    pfVar25 = pfVar25 + 1;
                  } while (piVar37 != data + (ulong)(iVar39 - 1) + 1);
                }
              }
              else {
                if (iVar42 == 4) {
                  if (iVar39 != 0) {
                    lVar32 = 0;
                    do {
                      uVar33 = *(uint *)((long)data + lVar32);
                      *(uint *)((long)__ptr_00 + lVar32) =
                           uVar33 >> 0x18 | (uVar33 & 0xff0000) >> 8 | (uVar33 & 0xff00) << 8 |
                           uVar33 << 0x18;
                      lVar32 = lVar32 + 4;
                    } while ((ulong)(iVar39 - 1) * 4 + 4 != lVar32);
                  }
                }
                else {
                  if ((iVar42 == 2) && (iVar39 != 0)) {
                    lVar32 = 0;
                    do {
                      *(int *)((long)__ptr_00 + lVar32 * 2) =
                           (int)CONCAT11(*(undefined *)((long)data + lVar32),
                                         *(undefined *)((long)data + lVar32 + 1));
                      lVar32 = lVar32 + 2;
                    } while ((ulong)(iVar39 - 1) * 2 + 2 != lVar32);
                  }
                }
              }
            }
          }
          else {
            if (iVar42 == 2) {
              if (iVar39 != 0) {
                lVar32 = 0;
                do {
                  *(uint *)((long)__ptr_00 + lVar32 * 2) =
                       (ushort)(*(ushort *)((long)data + lVar32) << 8 |
                               *(ushort *)((long)data + lVar32) >> 8) - 0x8000;
                  lVar32 = lVar32 + 2;
                } while ((ulong)(iVar39 - 1) * 2 + 2 != lVar32);
              }
            }
            else {
              if (iVar42 < 3) {
                if (iVar42 == 1) goto LAB_0010a225;
              }
              else {
                if (iVar42 == 3) {
                  if (iVar39 != 0) {
                    piVar37 = data;
                    pfVar25 = __ptr_00;
                    do {
                      piVar36 = piVar37 + 1;
                      *pfVar25 = (float)(((uint)*(byte *)((long)piVar37 + 1) << 8 |
                                          (uint)*(byte *)piVar37 << 0x10 |
                                         (uint)*(byte *)((long)piVar37 + 2)) - 0x800000);
                      piVar37 = piVar36;
                      pfVar25 = pfVar25 + 1;
                    } while (data + (ulong)(iVar39 - 1) + 1 != piVar36);
                  }
                }
                else {
                  if ((iVar42 == 4) && (iVar39 != 0)) {
                    lVar32 = 0;
                    do {
                      uVar33 = *(uint *)((long)data + lVar32);
                      *(uint *)((long)__ptr_00 + lVar32) =
                           (uVar33 >> 0x18 | (uVar33 & 0xff0000) >> 8 | (uVar33 & 0xff00) << 8 |
                           uVar33 << 0x18) + 0x80000000;
                      lVar32 = lVar32 + 4;
                    } while ((ulong)(iVar39 - 1) * 4 + 4 != lVar32);
                  }
                }
              }
            }
          }
        }
        if (uVar34 != 0) {
          iVar42 = WavpackGetNumChannels(uVar11);
          iVar42 = iVar42 * iVar7;
          uVar44 = WavpackGetMode(uVar11);
          if ((uVar44 & 8) == 0) {
            if (DAT_003190a4 == 0) {
              uVar44 = (ulong)(iVar42 - 1);
              if (iVar42 != 0) {
LAB_0010abcc:
                pfVar25 = __ptr_00;
                do {
                  *pfVar25 = (float)((uint)*pfVar25 & uVar34);
                  pfVar25 = pfVar25 + 1;
                } while (__ptr_00 + uVar44 + 1 != pfVar25);
              }
            }
            else {
              cVar5 = WavpackGetBytesPerSample(uVar11);
              if (iVar42 != 0) {
                uVar44 = (ulong)(iVar42 - 1);
                pfVar25 = __ptr_00;
                do {
                  fVar29 = (float)(uVar10 + (int)*pfVar25);
                  if (((int)*pfVar25 < 0) || (0 < (int)fVar29 << (('\x04' - cVar5) * '\b' & 0x1fU)))
                  {
                    *pfVar25 = fVar29;
                  }
                  pfVar25 = pfVar25 + 1;
                } while (pfVar25 != __ptr_00 + uVar44 + 1);
                goto LAB_0010abcc;
              }
            }
          }
          else {
            if (iVar42 != 0) {
              pfVar25 = __ptr_00;
              do {
                dVar50 = (double)*pfVar25 * local_2f8 + 0.5;
                if ((double)((ulong)dVar50 & 0x7fffffffffffffff) < 4503599627370496.0) {
                  dVar50 = (double)((ulong)((double)(long)dVar50 -
                                           (double)(-(ulong)(dVar50 < (double)(long)dVar50) &
                                                   0x3ff0000000000000)) |
                                   (ulong)dVar50 & 0x8000000000000000);
                }
                pfVar23 = pfVar25 + 1;
                *pfVar25 = (float)(dVar50 * local_308);
                pfVar25 = pfVar23;
              } while (__ptr_00 + (ulong)(iVar42 - 1) + 1 != pfVar23);
            }
          }
          if (local_300 != (uchar *)0x0) {
            WavpackGetNumChannels(uVar11);
            FUN_001085b0(data,__ptr_00,uVar6,0,0);
            iVar7 = WavpackGetBytesPerSample(uVar11);
            MD5_Update(&local_1c8,data,(ulong)(uint)(iVar7 * iVar42));
          }
        }
        iVar7 = WavpackPackSamples(uVar11,__ptr_00,uVar21 / uVar8);
        if (iVar7 == 0) {
          uVar27 = 2;
          WavpackGetErrorMessage(uVar11);
          FUN_00111570("%s");
          free(__ptr_00);
          free(data);
          goto LAB_00109ed9;
        }
        iVar7 = FUN_00111700();
        if (iVar7 == 0) {
          WavpackGetProgress(uVar11);
          dVar50 = local_2e8;
          if (extraout_XMM0_Qa_00 != -1.0) {
            WavpackGetProgress(uVar11);
            dVar49 = DAT_00319070 * extraout_XMM0_Qa_01 + 0.5;
            if ((double)((ulong)dVar49 & 0x7fffffffffffffff) < 4503599627370496.0) {
              dVar49 = (double)((ulong)((double)(long)dVar49 -
                                       (double)(-(ulong)(dVar49 < (double)(long)dVar49) &
                                               0x3ff0000000000000)) |
                               (ulong)dVar49 & 0x8000000000000000);
            }
            if (dVar49 != local_2e8) {
              WavpackGetProgress(uVar11);
              dVar50 = extraout_XMM0_Qa_02 * DAT_00319070 + 0.5;
              if ((double)((ulong)dVar50 & 0x7fffffffffffffff) < 4503599627370496.0) {
                dVar50 = (double)((ulong)((double)(long)dVar50 -
                                         (double)-(ulong)(dVar50 < (double)(long)dVar50)) |
                                 (ulong)dVar50 & 0x8000000000000000);
              }
              if (DAT_003190b0 != 0) {
                FUN_00108a80( DAT_003190b0 );
              }
              if (DAT_003190c0 == 0) {
                puVar30 = &DAT_00116bd1;
                if (local_2e8 != -1.0) {
                  puVar30 = &DAT_00112a24;
                }
                __fprintf_chk(stderr,1,"%s%3d%% done...",puVar30);
                fflush(stderr);
              }
            }
          }
          goto LAB_0010a134;
        }
        uVar27 = 1;
        fputc(10,stderr);
        fflush(stderr);
        free(__ptr_00);
        free(data);
      }
      else {
        if (((uStack532 & 0x8000000) != 0) || (local_310 = (uchar *)0x0, DAT_003190bc != 0)) {
          MD5_Init(&local_1c8);
          local_310 = local_168;
        }
        WavpackPackInit(uVar11);
        uVar27 = WavpackGetNumChannels(uVar11);
        uVar8 = uVar27 << 0xc;
        pbVar19 = (byte *)malloc((long)(int)uVar8);
        puVar20 = (uint *)malloc((long)(int)uVar27 << 0xe);
        uVar21 = WavpackGetNumSamples64(uVar11);
        if (uVar21 != 0) {
          local_300 = (uchar *)0xbff0000000000000;
          do {
            local_278.tv_sec = 0;
            if (((long)uVar21 < 0x1001) && ((uVar6 & 0x40) == 0)) {
              FUN_00111710(local_368,pbVar19,uVar27 * (int)uVar21,0);
LAB_0010a6a1:
              uVar44 = SEXT48((int)((uint)local_278.tv_sec / uVar27));
              uVar21 = uVar21 - uVar44;
            }
            else {
              FUN_00111710(local_368,pbVar19,uVar8,0);
              if ((uVar6 & 0x40) == 0) goto LAB_0010a6a1;
              if (uVar8 == (uint)local_278.tv_sec) {
                if ((long)uVar21 < 0x1000) {
                  uVar44 = uVar21 & 0xffffffff;
                  uVar21 = uVar21 - (long)(int)uVar21;
                }
                else {
                  uVar21 = uVar21 - 0x1000;
                  uVar44 = 0x1000;
                }
              }
              else {
                uVar21 = 0;
                uVar44 = 0;
                FUN_00111570("incomplete DSD block!");
              }
            }
            iVar7 = (int)uVar44;
            if ((__dest != (byte *)0x0) && ((uVar6 & 8) == 0)) {
              if ((uVar6 & 0x40) == 0) {
                FUN_00107eb0(pbVar19,__dest,uVar27,0,0);
              }
              else {
                FUN_00107eb0(pbVar19,__dest,uVar27,0,0);
              }
            }
            if (local_310 != (uchar *)0x0) {
              MD5_Update(&local_1c8,pbVar19,(ulong)(uint)local_278.tv_sec);
            }
            if (iVar7 == 0) break;
            if ((uVar6 & 0x40) == 0) {
              if (uVar27 * iVar7 != 0) {
                lVar12 = 0;
                do {
                  puVar20[lVar12] = (uint)pbVar19[lVar12];
                  lVar12 = lVar12 + 1;
                } while (lVar12 != (ulong)(uVar27 * iVar7 - 1) + 1);
              }
            }
            else {
              iVar39 = 0;
              iVar42 = 0;
              puVar18 = puVar20;
              pbVar41 = pbVar19;
              do {
                if (uVar27 != 0) {
                  pbVar22 = pbVar41;
                  do {
                    while( true ) {
                      uVar28 = (uint)*pbVar22;
                      if (iVar42 < iVar7) break;
                      iVar39 = (iVar39 + 1) - (uint)(*pbVar22 == 0);
                      pbVar22 = pbVar22 + 0x1000;
                      if (pbVar22 == pbVar41 + (ulong)(uVar27 - 1) * 0x1000 + 0x1000)
                      goto LAB_00109e28;
                    }
                    if ((uVar6 & 0x10) != 0) {
                      uVar28 = (uint)(byte)(&DAT_00115c20)[(int)uVar28];
                    }
                    pbVar22 = pbVar22 + 0x1000;
                    *puVar18 = uVar28;
                    puVar18 = puVar18 + 1;
                  } while (pbVar22 != pbVar41 + (ulong)(uVar27 - 1) * 0x1000 + 0x1000);
                }
LAB_00109e28:
                iVar42 = iVar42 + 1;
                pbVar41 = pbVar41 + 1;
              } while (iVar42 != 0x1000);
              if (iVar39 != 0) {
                FUN_00111570("blocks not padded with NULLs, MD5 will not match!");
              }
            }
            iVar7 = WavpackPackSamples(uVar11,puVar20,uVar44 & 0xffffffff);
            if (iVar7 == 0) {
              uVar27 = 2;
              WavpackGetErrorMessage(uVar11);
              FUN_00111570("%s");
              free(puVar20);
              free(pbVar19);
              goto LAB_00109ed9;
            }
            iVar7 = FUN_00111700();
            if (iVar7 != 0) {
              uVar27 = 1;
              fputc(10,stderr);
              fflush(stderr);
              free(puVar20);
              free(pbVar19);
              goto LAB_00109ed9;
            }
            WavpackGetProgress(uVar11);
            if (extraout_XMM0_Qa != -1.0) {
              WavpackGetProgress(uVar11);
              dVar50 = DAT_00319070 * extraout_XMM0_Qa_03 + 0.5;
              if ((double)((ulong)dVar50 & 0x7fffffffffffffff) < 4503599627370496.0) {
                dVar50 = (double)((ulong)((double)(long)dVar50 -
                                         (double)(-(ulong)(dVar50 < (double)(long)dVar50) &
                                                 0x3ff0000000000000)) |
                                 (ulong)dVar50 & 0x8000000000000000);
              }
              if (dVar50 != (double)*local_300) {
                WavpackGetProgress();


                if ((double)((ulong)local_300 & 0x7fffffffffffffff) < 4503599627370496.0) {


                }
                if (DAT_003190b0 != 0) {
                  FUN_00108a80( DAT_003190b0 );
                }
                if (DAT_003190c0 == 0) {
                  __fprintf_chk(stderr,1,"%s%3d%% done...");
                  fflush(stderr);
                }
              }
            }
          } while (uVar21 != 0);
        }
        free(puVar20);
        free(pbVar19);
        iVar7 = WavpackFlushSamples(uVar11);
        if (iVar7 == 0) {
LAB_0010c21d:
          uVar27 = 2;
          WavpackGetErrorMessage(uVar11);
          FUN_00111570("%s");
        }
        else {
          uVar27 = 0;
joined_r0x0010b4d2:
          if (local_310 != (uchar *)0x0) {
            MD5_Final(local_310,&local_1c8);
          }
        }
      }
LAB_00109ed9:
      if (__dest != (byte *)0x0) {
        free(__dest);
      }
      local_360 = param_3;
      if (uVar27 != 0) {
        uVar6 = 0;
        FUN_001118a0(local_368);
        goto LAB_0010ac35;
      }
      if ((uStack532 & 0x8000000) != 0) {
        WavpackStoreMD5Sum(uVar11);
      }
      uVar6 = local_218 & 0x1800;
      if (uVar6 == 0) {
        if (local_2d4 != 1) {
          lVar12 = WavpackGetNumSamples64(uVar11);
          iVar7 = WavpackGetNumChannels(uVar11);
          iVar42 = WavpackGetBytesPerSample(uVar11);
          lVar12 = ((long)iVar42 * lVar12 * iVar7) % (long)local_2d4;
          if (lVar12 != 0) {
            local_2d4 = local_2d4 - (int)lVar12;
            while (local_2d4 = local_2d4 + -1, local_2d4 != -1) {
              while ((iVar7 = FUN_00111710(local_368,&local_278,1,&local_29c), iVar7 == 0 ||
                     (local_29c != 1))) {
                local_2d4 = local_2d4 + -1;
                FUN_00111570("warning: input file missing required padding byte!");
                if (local_2d4 == -1) goto LAB_00109f37;
              }
              if ((char)local_278.tv_sec != '\0') {
                FUN_00111570("warning: input file has non-zero padding byte!");
              }
            }
          }
        }
LAB_00109f37:
        iVar42 = 0;
        iVar7 = 0x10000;
        __ptr = malloc(0x10000);
        while ((iVar39 = FUN_00111710(local_368,(long)iVar42 + (long)__ptr,iVar7 - iVar42,0),
               iVar39 != 0 && (local_29c != 0))) {
          iVar42 = iVar42 + local_29c;
          if (iVar7 == iVar42) {
            iVar7 = iVar7 + 0x10000;
            __ptr = realloc(__ptr,(long)iVar7);
          }
        }
        if (iVar42 == 0) {
LAB_0010b6a0:
          free(__ptr);
          FUN_001118a0(local_368);
          goto LAB_0010b1bb;
        }
        if (((local_218 & 0x200) == 0) &&
           (iVar7 = WavpackAddWrapper(uVar11,__ptr,iVar42), iVar7 == 0)) {
          uVar6 = 0;
          uVar27 = 2;
          WavpackGetErrorMessage(uVar11);
          FUN_00111570("%s");
          free(__ptr);
          FUN_001118a0(local_368);
        }
        else {
          if ((DAT_003190a0 == 0) || (iVar42 < 0xb)) goto LAB_0010b6a0;
          uVar27 = FUN_00112820(0,__ptr,iVar42,0,0);
          if ((DAT_003190ac == 0) && (0x100000 < (int)(uint)local_278.tv_sec)) {
            uVar6 = 0;
            uVar27 = 1;
            FUN_00111570("imported tag items exceed 1 MB, use --allow-huge-tags to override");
            free(__ptr);
            FUN_001118a0(local_368);
          }
          else {
            if ((int)(uint)local_278.tv_sec < 0x1000001) {
              if (0 < (int)uVar27) {
                uVar27 = FUN_00112820(uVar11,__ptr,iVar42,0,0);
              }
              if (-1 < (int)uVar27) {
                if (uVar27 == 0) {
                  free(__ptr);
                  FUN_001118a0(local_368);
                }
                else {
                  free(__ptr);
                  FUN_001118a0(local_368);
                  uVar6 = uVar27;
                }
                goto LAB_0010b1bb;
              }
              FUN_00111570("ID3v2 import: %s");
            }
            else {
              FUN_00111570("imported tag items exceed 16 MB");
            }
            uVar27 = 1;
            free(__ptr);
            FUN_001118a0(local_368);
          }
        }
        goto LAB_0010ac35;
      }
      uVar6 = 0;
      FUN_001118a0(local_368);
LAB_0010b1bb:
      iVar7 = WavpackFlushSamples(uVar11);
      if (iVar7 == 0) {
LAB_0010b22c:
        uVar27 = 2;
        WavpackGetErrorMessage(uVar11);
        FUN_00111570("%s");
LAB_0010ac35:
        iVar7 = FUN_001118a0(0);
        if (iVar7 == 0) {
          FUN_00111570(0);
        }
LAB_0010ac4a:
        if ((param_3 == (uint *)0x0) || (iVar7 = FUN_001118a0(0), iVar7 != 0)) {
          if (uVar27 == 0) {
LAB_0010ac6f:
            if (DAT_003190bc == 0) {
              if (uVar26 != 0) {
LAB_0010b58c:
                iVar7 = rename((char *)local_350,(char *)param_2);
                if (iVar7 != 0) {
                  FUN_00111570("can not rename temp file %s to %s!",local_350,param_2);
                  if (param_3 != (uint *)0x0) {
                    iVar7 = rename((char *)local_338,(char *)param_3);
                    if (iVar7 == 0) {
                      free(local_350);
                      free(local_338);
                      goto LAB_0010993d;
                    }
LAB_0010c41f:
                    FUN_00111570("can not rename temp file %s to %s!",local_338,param_3);
                    free(local_350);
                    local_350 = local_338;
                  }
                  free(local_350);
                  goto LAB_0010993d;
                }
                if (param_3 == (uint *)0x0) {
                  free(local_350);
                }
                else {
                  iVar7 = rename((char *)local_338,(char *)param_3);
                  if (iVar7 != 0) goto LAB_0010c41f;
                  free(local_350);
                  free(local_338);
                }
              }
            }
            else {
              iVar7 = WavpackLossyBlocks(uVar11);
              puVar35 = local_168;
              if (iVar7 != 0) {
                puVar35 = (uchar *)0x0;
              }
              if (uVar26 != 0) {
                uVar26 = FUN_00108b10(local_350,puVar35);
                if (uVar26 != 0) goto LAB_0010b468;
                goto LAB_0010b58c;
              }
              uVar27 = FUN_00108b10(param_2,puVar35);
              if (uVar27 != 0) goto LAB_0010b768;
            }
            if ((DAT_003190c4 != 0) &&
               ((iVar7 = FUN_00111150(param_1,param_2), iVar7 == 0 ||
                ((param_3 != (uint *)0x0 && (iVar7 = FUN_00111150(param_1,param_3), iVar7 == 0))))))
            {
              FUN_00111570(0);
            }
            if (DAT_003190b8 != 0) {
              iVar7 = FUN_00111910(param_1);
              if (DAT_003190c0 == 0) {
                pcVar14 = "can\'t delete";
                if (iVar7 != 0) {
                  pcVar14 = "deleted";
                }
              }
              else {
                if (iVar7 != 0) goto LAB_0010aca5;
                pcVar14 = "can\'t delete";
              }
              FUN_00111570("%s source file %s",pcVar14,param_1);
            }
LAB_0010aca5:
            gettimeofday(&local_278,local_2d0);
            if (((uStack532 & 0x800000) != 0) &&
               (WavpackGetEncodedNoise(uVar11,0), 0.0 < extraout_XMM0_Qa_07)) {
              iVar7 = WavpackGetBitsPerSample(uVar11);
              iVar42 = iVar7 + -1;
              dVar49 = 0.5;
              dVar50 = 0.5;
              if (iVar7 != 0) {
                do {
                  iVar42 = iVar42 + -1;
                  dVar49 = dVar49 + dVar49;
                  dVar50 = dVar49;
                } while (iVar42 != -1);
              }
              dVar50 = dVar50 * (dVar50 - 1.0) * 0.5;
              WavpackGetEncodedNoise(uVar11,&local_298);
              log10(local_298 / dVar50);
              lVar12 = WavpackGetNumSamples64(uVar11);
              log10((extraout_XMM0_Qa_08 / (double)lVar12) / dVar50);
              FUN_00111570("ave noise = %.2f dB, peak noise = %.2f dB");
            }
            if (DAT_003190c0 == 0) {
              local_158[0] = 0x0;
              if (uVar6 != 0) {
                FUN_00111570(0,"successfully imported %d items from ID3v2 tag",uVar6);
              }
              if ((uStack532 & 0x8000000) != 0) {
                local_118 = 0x3030303030303030;
                local_110 = 0;
                local_148 = 0x6769726f;
                uStack324 = 0x6c616e69;
                uStack320 = 0x35646d20;
                uStack316 = 0x67697320;
                local_138 = 0x7574616e;
                uStack308 = 0x203a6572;
                uStack304 = 0x30303030;
                uStack300 = 0x30303030;
                local_128 = 0x30303030;
                uStack292 = 0x30303030;
                uStack288 = 0x30303030;
                uStack284 = 0x30303030;
                puVar24 = &uStack304;
                do {
                  puVar31 = (undefined4 *)((long)puVar24 + 2);
                  sprintf(puVar24,1,0xffffffffffffffff);
                  puVar24 = puVar31;
                } while (puVar31 != (undefined4 *)&local_110);
                FUN_00111570(&local_148);
              }
              puVar20 = param_2;
              if (*(char *)param_2 == '-') {
                if (*(char *)param_1 == '-') {
                  pcVar14 = "packed";
                  pcVar45 = "";
                  local_370 = "stdin";
                }
                else {
                  uVar21 = 0xffffffffffffffff;
                  puVar20 = param_1;
                  do {
                    if (uVar21 == 0) break;
                    uVar21 = uVar21 - 1;
                    cVar5 = *(char *)puVar20;
                    puVar20 = (uint *)((long)puVar20 + (ulong)bVar48 * -2 + 1);
                  } while (cVar5 != '\0');
                  if (~uVar21 - 1 < 0x1f) {
                    pcVar14 = "packed";
                    pcVar45 = "";
                    local_370 = (char *)param_1;
                  }
                  else {
                    pcVar14 = "packed";
                    pcVar45 = "";
                    local_370 = (char *)FUN_001113e0(param_1);
                  }
                }
              }
              else {
                do {
                  puVar18 = puVar20;
                  uVar27 = *puVar18 + 0xfefefeff & ~*puVar18;
                  uVar26 = uVar27 & 0x80808080;
                  puVar20 = puVar18 + 1;
                } while (uVar26 == 0);
                bVar46 = (uVar27 & 0x8080) == 0;
                if (bVar46) {
                  uVar26 = uVar26 >> 0x10;
                }
                if (bVar46) {
                  puVar20 = (uint *)((long)puVar18 + 6);
                }
                local_370 = (char *)param_2;
                if (0x1e < (long)puVar20 +
                           ((-3 - (ulong)CARRY1((byte)uVar26,(byte)uVar26)) - (long)param_2)) {
                  local_370 = (char *)FUN_001113e0(param_2);
                }
                pcVar45 = "";
                pcVar14 = "created";
                if (local_248 != 0) {
                  pcVar45 = " (+.wvc)";
                }
                if (DAT_003190bc != 0) {
                  pcVar14 = "created (and verified)";
                }
              }
              iVar7 = WavpackLossyBlocks(uVar11);
              if (iVar7 == 0) {
                WavpackGetRatio(uVar11);
                pcVar40 = "lossless";
                if (extraout_XMM0_Qa_06 != 0.0) {
                  WavpackGetRatio(uVar11);
                  sprintf(local_158,1,0x10,", %.2f%%");
                  pcVar40 = "lossless";
                }
              }
              else {
                WavpackGetAverageBitrate(uVar11,1);
                pcVar40 = "lossy";
                if (extraout_XMM0_Qa_05 != 0.0) {
                  uVar9 = 0;
                  WavpackGetAverageBitrate(uVar11,1);
                  sprintf(local_158,1,0x10,", %d kbps",
                                CONCAT44(uVar9,(int)(extraout_XMM0_Qa_09 / 1000.0)));
                  pcVar40 = "lossy";
                }
              }
              FUN_00111570("%s %s%s in %.2f secs (%s%s)",pcVar14,local_370,pcVar45,pcVar40,local_158
                          );
            }
            uVar26 = 0;
            WavpackCloseFile(uVar11);
            goto LAB_0010994a;
          }
LAB_0010b45a:
          bVar46 = uVar26 == 0;
          uVar26 = uVar27;
          if (bVar46) {
LAB_0010b768:
            FUN_00111910(param_2);
            uVar26 = uVar27;
            if (param_3 != (uint *)0x0) goto LAB_0010b741;
          }
          else {
LAB_0010b468:
            FUN_00111910(local_350);
            if (param_3 != (uint *)0x0) {
              local_360 = local_338;
              uVar27 = uVar26;
              goto LAB_0010b741;
            }
          }
        }
        else {
          FUN_00111570("can\'t close correction file!");
          if (uVar27 == 0) {
LAB_0010b53a:
            uVar27 = uVar26;
            if (uVar26 == 0) goto LAB_0010b763;
LAB_0010b72d:
            FUN_00111910(local_350);
            local_360 = local_338;
          }
          else {
LAB_0010b721:
            if (uVar26 != 0) goto LAB_0010b72d;
            FUN_00111910(param_2);
          }
LAB_0010b741:
          FUN_00111910(local_360);
          uVar26 = uVar27;
        }
      }
      else {
        if ((DAT_0031906c | uVar6) != 0) {
          if ((int)DAT_0031906c < 1) {
LAB_0010b264:
            iVar7 = WavpackWriteTag(uVar11);
            if (iVar7 != 0) goto LAB_0010b270;
          }
          else {
            lVar12 = 0;
            iVar7 = 1;
            do {
              while( true ) {
                puVar38 = (undefined8 *)(lVar12 * 0x20 + DAT_00319060);
                if (*(int *)(puVar38 + 3) != 0) break;
                if ((int)DAT_0031906c <= (int)lVar12 + 1) {
LAB_0010b260:
                  if (iVar7 != 0) goto LAB_0010b264;
                  goto LAB_0010b22c;
                }
                lVar12 = lVar12 + 1;
              }
              if (*(int *)((long)puVar38 + 0x1c) == 0) {
                iVar7 = WavpackAppendTagItem(uVar11,*puVar38,puVar38[1]);
              }
              else {
                iVar7 = WavpackAppendBinaryTagItem();
              }
              if ((int)DAT_0031906c <= (int)lVar12 + 1) goto LAB_0010b260;
              lVar12 = lVar12 + 1;
            } while (iVar7 != 0);
          }
          goto LAB_0010b22c;
        }
LAB_0010b270:
        lVar12 = WavpackGetNumSamples64(uVar11);
        lVar32 = WavpackGetSampleIndex64();
        if (lVar12 != lVar32) {
          if ((local_218 & 0x800) == 0) {
            uVar27 = 1;
            FUN_00111570("couldn\'t read all samples, file may be corrupt!!");
            goto LAB_0010ac35;
          }
          pcVar14 = (char *)malloc((ulong)local_268);
          if (pcVar14 == (char *)0x0) {
            uVar27 = 1;
            FUN_00111570("couldn\'t update WavPack header with actual length!!");
            goto LAB_0010ac35;
          }
          FUN_00111870(uStack608,0);
          if (iVar7 != 0) {
LAB_0010b2c9:
            FUN_00111570("couldn\'t update WavPack header with actual length!!");
            uVar27 = 1;
            free(pcVar14);
            goto LAB_0010ac35;
          }
          iVar7 = FUN_00111710(uStack608,pcVar14,local_268,0);
          if (((iVar7 == 0) || (local_268 != local_29c)) ||
             (iVar7 = strncmp(pcVar14,"wvpk",4), iVar7 != 0)) goto LAB_0010b2c9;
          WavpackUpdateNumSamples(uVar11);
          FUN_00111870(uStack608,0);
          if (iVar7 != 0) goto LAB_0010b2c9;
          iVar7 = FUN_00111780(uStack608,pcVar14,local_268,0);
          if ((iVar7 == 0) || (local_268 != local_29c)) goto LAB_0010b2c9;
          free(pcVar14);
          if (lStack576 == 0) goto LAB_0010bac5;
          pcVar14 = (char *)malloc((ulong)local_248);
          if (pcVar14 != (char *)0x0) {
            FUN_00111870(lStack576,0);
            if (iVar7 == 0) {
              iVar7 = FUN_00111710(lStack576,pcVar14,local_248,0);
              if (((iVar7 == 0) || (local_248 != local_29c)) ||
                 (iVar7 = strncmp(pcVar14,"wvpk",4), iVar7 != 0)) goto LAB_0010bc7a;
              WavpackUpdateNumSamples(uVar11);
              FUN_00111870(lStack576,0);
              if (uVar27 != 0) goto LAB_0010bc7a;
              iVar7 = FUN_00111780(lStack576,pcVar14,local_248,0);
              if ((iVar7 == 0) || (local_248 != local_29c)) goto LAB_0010bc7a;
            }
            else {
LAB_0010bc7a:
              uVar27 = 1;
              FUN_00111570("couldn\'t update WavPack header with actual length!!");
            }
            free(pcVar14);
            iVar7 = FUN_001118a0(0);
            if (iVar7 == 0) goto LAB_0010bcaa;
            goto LAB_0010ac4a;
          }
          FUN_00111570("couldn\'t update WavPack header with actual length!!");
          iVar7 = FUN_001118a0(uStack608);
          if (iVar7 == 0) goto LAB_0010bcaa;
          if (param_3 != (uint *)0x0) {
            iVar7 = FUN_001118a0(lStack576);
            if (iVar7 == 0) {
              uVar27 = 1;
              FUN_00111570("can\'t close correction file!");
              goto LAB_0010b721;
            }
            uVar27 = 1;
            goto LAB_0010b45a;
          }
          if (uVar26 != 0) goto LAB_0010c185;
LAB_0010b763:
          uVar27 = 1;
          goto LAB_0010b768;
        }
LAB_0010bac5:
        iVar7 = FUN_001118a0(0);
        if (iVar7 != 0) {
          if ((param_3 == (uint *)0x0) || (iVar7 = FUN_001118a0(0), iVar7 != 0)) goto LAB_0010ac6f;
LAB_0010bafb:
          FUN_00111570("can\'t close correction file!");
          goto LAB_0010b53a;
        }
LAB_0010bcaa:
        FUN_00111570("can\'t close WavPack file!");
        if (param_3 != (uint *)0x0) {
          iVar7 = FUN_001118a0(lStack576);
          if (iVar7 == 0) goto LAB_0010bafb;
          if (uVar26 != 0) goto LAB_0010b468;
          uVar27 = 1;
          FUN_00111910(param_2);
          goto LAB_0010b741;
        }
        if (uVar26 == 0) {
          uVar26 = 1;
          FUN_00111910(param_2);
        }
        else {
LAB_0010c185:
          FUN_00111910(local_350);
        }
      }
      WavpackCloseFile(uVar11);
      goto LAB_0010994a;
    }
    iVar7 = FUN_00111710(local_368,&local_148,4,&local_29c);
    if ((iVar7 == 0) || (local_29c != 4)) {
      pcVar14 = "can\'t read file %s!";
LAB_00109906:
      FUN_00111570(pcVar14,param_1);
    }
    else {
      pcVar14 = "RIFF";
      iVar7 = 0;
      puVar43 = &DAT_003188e0;
      while (iVar42 = strncmp((char *)&local_148,pcVar14,4), iVar42 != 0) {
        iVar7 = iVar7 + 1;
        if (iVar7 == 6) {
          pcVar14 = "%s is not a recognized file type!";
          goto LAB_00109906;
        }
        pcVar14 = *(char **)(puVar43 + 0x30);
        puVar43 = puVar43 + 0x28;
      }
      lVar32 = (long)iVar7;
      uVar2 = (&DAT_003188e0)[lVar32 * 0x28];
      lVar12 = FUN_00111230(param_1);
      if (lVar12 == 0) {
        puVar30 = (&PTR_DAT_003188f0)[lVar32 * 5];
      }
      else {
        lVar12 = FUN_00111230(param_1);
        puVar30 = (undefined *)(lVar12 + 1);
      }
      WavpackSetFileInformation(uVar11,puVar30,uVar2);
      iVar7 = (*(void*(*)())(&PTR_FUN_003188f8)[lVar32 * 5])(local_368,param_1,&local_148);
      if (iVar7 == 0) {
        local_2d4 = (&DAT_00318900)[lVar32 * 10];
        goto LAB_00109af4;
      }
    }
LAB_0010990d:
    FUN_001118a0(local_368);
    FUN_001118a0(uStack608);
    if (uVar26 != 0) {
      param_2 = local_350;
    }
    FUN_00111910(param_2);
  }
  else {
    lVar12 = FUN_001117f0(local_368);
    if (lVar12 == 0) {
      if (DAT_00319098 == 0) {
        local_218 = local_218 | 0x800;
        lVar32 = -1;
        goto LAB_00109a37;
      }
      pcVar14 = "can\'t skip trailer in raw PCM read from stdin!";
LAB_0010b337:
      FUN_00111570(pcVar14);
    }
    else {
      pcVar14 = "no raw PCM data to encode!";
      lVar12 = lVar12 - (int)(DAT_00319098 + DAT_0031909c);
      lVar32 = lVar12 / (long)(iStack540 * iStack524);
      uVar21 = lVar12 % (long)(iStack540 * iStack524);
      if (lVar32 < 1) goto LAB_0010b337;
      if (uVar21 != 0) {
        FUN_00111570("warning: raw PCM infile length does not divide evenly, %d bytes will be discarded"
                     ,uVar21 & 0xffffffff);
      }
LAB_00109a37:
      if ((local_1f8 == 0) && ((local_218 & 0x400) == 0)) {
        if (iStack524 < 3) {
          local_1f8 = 5 - iStack524;
        }
        else {
          if (iStack524 < 0x13) {
            local_1f8 = (1 << ((byte)iStack524 & 0x1f)) + -1;
          }
          else {
            local_1f8 = 0x3ffff;
          }
        }
      }
      iVar7 = WavpackSetConfiguration64(uVar11,&local_228,lVar32);
      if (iVar7 != 0) goto LAB_00109488;
      uVar13 = WavpackGetErrorMessage(uVar11);
      FUN_00111570("%s",uVar13);
    }
LAB_00109aac:
    FUN_001118a0(local_368);
  }
LAB_0010993d:
  uVar26 = 1;
  WavpackCloseFile(uVar11);
LAB_0010994a:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar26;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



FILE * FUN_0010c560(char *param_1)

{
  char *__s;
  int iVar1;
  size_t sVar2;
  char *__filename;
  FILE *pFVar3;
  ulong uVar4;
  long in_FS_OFFSET;
  glob_t local_128;
  stat local_d8;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  glob(param_1,0,0x0,&local_128);
  if (local_128.gl_pathc == 0) {
    pFVar3 = (FILE *)0x0;
    globfree(&local_128);
  }
  else {
    __filename = (char *)0x0;
    uVar4 = 0;
    do {
      iVar1 = __xstat(1,local_128.gl_pathv[uVar4],&local_d8);
      if ((iVar1 != -1) && ((local_d8.st_mode & 0xf000) != 0x4000)) {
        if (__filename != (char *)0x0) {
          pFVar3 = (FILE *)0x0;
          free(__filename);
          globfree(&local_128);
          goto LAB_0010c64c;
        }
        __s = local_128.gl_pathv[uVar4];
        sVar2 = strlen(__s);
        __filename = (char *)malloc(sVar2 + 10);
        memcpy(__filename,__s,sVar2 + 1);
      }
      uVar4 = uVar4 + 1;
    } while (uVar4 < local_128.gl_pathc);
    globfree(&local_128);
    if (__filename == (char *)0x0) {
      pFVar3 = (FILE *)0x0;
    }
    else {
      pFVar3 = fopen(__filename,"rb");
      free(__filename);
    }
  }
LAB_0010c64c:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return pFVar3;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



// WARNING: Could not reconcile some variable overlaps

int FUN_0010c6b0(FILE *param_1,undefined8 param_2,undefined4 *param_3,undefined8 param_4,
                long param_5)

{
  char cVar1;
  ushort uVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  undefined8 uVar6;
  void *__ptr;
  long lVar7;
  long lVar8;
  uint uVar9;
  ulong extraout_RDX;
  ulong extraout_RDX_00;
  ulong extraout_RDX_01;
  ulong extraout_RDX_02;
  ulong uVar10;
  ulong extraout_RDX_03;
  undefined4 *puVar11;
  byte *pbVar12;
  byte *pbVar13;
  long in_FS_OFFSET;
  bool bVar14;
  bool bVar15;
  undefined uVar16;
  bool bVar17;
  bool bVar18;
  bool bVar19;
  undefined uVar20;
  byte bVar21;
  uint local_d0;
  uint local_cc;
  uint local_ac;
  undefined local_a8 [16];
  long local_98;
  uint local_90;
  byte local_88;
  char local_87;
  char local_86;
  uint local_84;
  undefined4 local_80;
  undefined local_7c [4];
  byte local_78 [4];
  undefined local_74 [12];
  undefined local_68 [4];
  undefined4 uStack100;
  ushort uStack92;
  ushort uStack90;
  undefined local_58 [4];
  int iStack84;
  ushort uStack80;
  undefined8 local_48;
  long local_40;
  
  bVar21 = 0;
  lVar7 = 4;
  local_48 = 0;
  local_98 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  bVar14 = false;
  bVar18 = true;
  puVar11 = param_3;
  pbVar12 = &DAT_00112f48;
  do {
    if (lVar7 == 0) break;
    lVar7 = lVar7 + -1;
    bVar14 = *(byte *)puVar11 < *pbVar12;
    bVar18 = *(byte *)puVar11 == *pbVar12;
    puVar11 = (undefined4 *)((long)puVar11 + 1);
    pbVar12 = pbVar12 + 1;
  } while (bVar18);
  local_90 = 0;
  _local_68 = 0x0;
  _local_58 = 0x0;
  local_a8[0] = 0x0;
  lVar7 = FUN_001117f0(0);
  if ((((!bVar14 && !bVar18) == bVar14) || (lVar7 < 0x100000000)) ||
     ((*(byte *)(param_5 + 0x11) & 8) != 0)) {
    local_80 = *param_3;
    iVar3 = FUN_00111710(param_1,local_7c,8,&local_ac);
    uVar10 = extraout_RDX;
    if (iVar3 != 0) {
      bVar15 = local_ac < 8;
      bVar19 = local_ac == 8;
      if (bVar19) {
        lVar8 = 4;
        pbVar12 = local_78;
        pbVar13 = &DAT_00115e0c;
        do {
          if (lVar8 == 0) break;
          lVar8 = lVar8 + -1;
          bVar15 = *pbVar12 < *pbVar13;
          bVar19 = *pbVar12 == *pbVar13;
          pbVar12 = pbVar12 + (ulong)bVar21 * -2 + 1;
          pbVar13 = pbVar13 + (ulong)bVar21 * -2 + 1;
        } while (bVar19);
        cVar1 = (!bVar15 && !bVar19) - bVar15;
        local_d0 = SEXT14(cVar1);
        if (cVar1 == '\0') {
          if (((*(byte *)(param_5 + 0x11) & 2) != 0) ||
             (iVar3 = WavpackAddWrapper(param_4,&local_80,0xc), iVar3 != 0)) {
            local_cc = 0;
LAB_0010c824:
            do {
              iVar3 = FUN_00111710(param_1,&local_88,8,&local_ac);
              uVar10 = extraout_RDX_00;
              if ((iVar3 == 0) || (local_ac != 8)) goto LAB_0010c78c;
              uVar20 = (*(byte *)(param_5 + 0x11) & 2) == 0;
              if ((bool)uVar20) {
                iVar3 = WavpackAddWrapper(param_4,&local_88,8);
                uVar20 = iVar3 == 0;
                if ((bool)uVar20) break;
              }
              uVar16 = 0;
              WavpackLittleEndianToNative(&local_88,&DAT_00115e2e);
              lVar8 = 4;
              pbVar12 = &local_88;
              pbVar13 = &DAT_00115e31;
              do {
                if (lVar8 == 0) break;
                lVar8 = lVar8 + -1;
                uVar16 = *pbVar12 < *pbVar13;
                uVar20 = *pbVar12 == *pbVar13;
                pbVar12 = pbVar12 + (ulong)bVar21 * -2 + 1;
                pbVar13 = pbVar13 + (ulong)bVar21 * -2 + 1;
              } while ((bool)uVar20);
              bVar15 = false;
              bVar19 = (!(bool)uVar16 && !(bool)uVar20) == (bool)uVar16;
              uVar10 = extraout_RDX_01;
              if (!bVar19) {
                lVar8 = 4;
                pbVar12 = &local_88;
                pbVar13 = &DAT_00115e3b;
                do {
                  if (lVar8 == 0) break;
                  lVar8 = lVar8 + -1;
                  bVar15 = *pbVar12 < *pbVar13;
                  bVar19 = *pbVar12 == *pbVar13;
                  pbVar12 = pbVar12 + (ulong)bVar21 * -2 + 1;
                  pbVar13 = pbVar13 + (ulong)bVar21 * -2 + 1;
                } while (bVar19);
                bVar17 = false;
                bVar15 = (!bVar15 && !bVar19) == bVar15;
                if (!bVar15) {
                  lVar8 = 4;
                  pbVar12 = &local_88;
                  pbVar13 = &DAT_00115e60;
                  do {
                    if (lVar8 == 0) break;
                    lVar8 = lVar8 + -1;
                    bVar17 = *pbVar12 < *pbVar13;
                    bVar15 = *pbVar12 == *pbVar13;
                    pbVar12 = pbVar12 + (ulong)bVar21 * -2 + 1;
                    pbVar13 = pbVar13 + (ulong)bVar21 * -2 + 1;
                  } while (bVar15);
                  iVar3 = (int)(char)((!bVar17 && !bVar15) - bVar17);
                  if (iVar3 == 0) {
                    uVar10 = (ulong)local_cc;
                    uVar4 = (uint)local_68;
                    if (local_cc == 0) {
                      if ((local_68 == 0) || ((!bVar14 && !bVar18) == bVar14))
                      goto LAB_0010c78c;
LAB_0010cf71:
                      local_a8[0] = (ulong)local_84;
                    }
                    else {
                      if (local_84 != 0xffffffff) {
                        if (local_68 != 0) goto LAB_0010cf71;
                        goto LAB_0010c78c;
                      }
                      if (local_68 == 0) goto LAB_0010c78c;
                    }
                    uVar9 = *(uint *)(param_5 + 0x10) & 0x800;
                    if (lVar7 == 0) {
                      if (uVar9 == 0) goto LAB_0010cfa0;
LAB_0010d082:
                      uVar4 = (uint)local_68;
                      lVar7 = -1;
                    }
                    else {
                      if (uVar9 == 0) {
                        if (0x1000000 < (long)(lVar7 - local_a8[0])) {
                          iVar3 = 1;
                          FUN_00111570(
                                      "this .WAV file has over 16 MB of extra RIFF data, probably is corrupt!"
                                      );
                          goto LAB_0010c7a4;
                        }
LAB_0010cfa0:
                        lVar7 = (long)local_a8 / (long)(ulong)uStack92;
                        uVar10 = (long)local_a8 % (long)(ulong)uStack92;
                        if ((local_cc != 0) && (local_98 != lVar7)) goto LAB_0010c78c;
                        if (lVar7 == 0) {
                          iVar3 = 1;
                          FUN_00111570("this .WAV file has no audio samples, probably is corrupt!",0
                                       ,uVar10);
                          goto LAB_0010c7a4;
                        }
                        if (0xfffffffeff < lVar7) {
                          iVar3 = 1;
                          FUN_00111570("%s has too many samples for WavPack!",param_2);
                          goto LAB_0010c7a4;
                        }
                      }
                      else {
                        lVar8 = ftell(param_1);
                        if (lVar8 == -1) {
                          goto LAB_0010d082;
                        }
                        lVar8 = ftell(param_1);
                        lVar7 = (lVar7 - lVar8) / (long)(ulong)uStack92;
                        uVar4 = (uint)local_68;
                      }
                    }
                    *(uint *)(param_5 + 0x1c) = uVar4;
                    *(uint *)(param_5 + 0xc) = uStack92 / uVar4;
                    *(undefined4 *)(param_5 + 0x2c) = uStack100;
                    iVar5 = WavpackSetConfiguration64(param_4,param_5,lVar7,0);
                    if (iVar5 == 0) {
                      iVar3 = 1;
                      uVar6 = WavpackGetErrorMessage(param_4);
                      FUN_00111570("%s: %s",param_2,uVar6);
                    }
                    goto LAB_0010c7a4;
                  }
                  uVar4 = local_84 + 1 & 0xfffffffe;
                  if (0x400000 < uVar4) goto LAB_0010c78c;
                  __ptr = malloc((long)(int)uVar4);
                  if (DAT_003190d8 != 0) {
                    FUN_00111570("extra unknown chunk \"%c%c%c%c\" of %d bytes",(int)(char)local_88,
                                 (int)local_87,(int)local_86);
                  }
                  iVar3 = FUN_00111710(param_1,__ptr,uVar4,&local_ac);
                  if (((iVar3 == 0) || (uVar4 != local_ac)) ||
                     (((*(byte *)(param_5 + 0x11) & 2) == 0 &&
                      (iVar3 = WavpackAddWrapper(param_4,__ptr,uVar4), iVar3 == 0)))) {
                    uVar6 = WavpackGetErrorMessage(param_4);
                    FUN_00111570("%s",uVar6);
                    iVar3 = 1;
                    free(__ptr);
                    goto LAB_0010c7a4;
                  }
                  free(__ptr);
                  goto LAB_0010c824;
                }
                if ((((local_d0 != 0) || (uVar10 = (ulong)local_84, 0x18 < local_84 - 0x10)) ||
                    (iVar3 = FUN_00111710(param_1,local_68,0,0), uVar10 = extraout_RDX_03, iVar3 == 0))
                   || (uVar10 = (ulong)local_84, local_84 != local_ac)) goto LAB_0010c78c;
                if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
                   (iVar3 = WavpackAddWrapper(param_4,local_68), iVar3 == 0)) break;
                WavpackLittleEndianToNative();
                if (DAT_003190d8 == 0) {
LAB_0010ca98:
                  if ((0x10 < local_84) && (local_58 == 2)) {
                    *(uint *)(param_5 + 0x10) = *(uint *)(param_5 + 0x10) | 0x100;
                  }
                }
                else {
                  FUN_00111570("format tag size = %d");
                  FUN_00111570("FormatTag = %x, NumChannels = %d, BitsPerSample = %d",local_68
                               ,local_68);
                  FUN_00111570("BlockAlign = %d, SampleRate = %d, BytesPerSecond = %d",uStack92,
                               uStack100);
                  if (0x10 < local_84) {
                    FUN_00111570("cbSize = %d, ValidBitsPerSample = %d",local_58,
                                 local_58);
                    if (0x14 < local_84) {
                      FUN_00111570("ChannelMask = %x, SubFormat = %d",iStack84,uStack80);
                    }
                    goto LAB_0010ca98;
                  }
                }
                if ((local_68 == 0xfffe) && (local_84 == 0x28)) {
                  local_68[0] = uStack80;
LAB_0010cd95:
                  if (local_58 == 0) goto LAB_0010cada;
                }
                else {
                  if (local_84 == 0x28) goto LAB_0010cd95;
LAB_0010cada:
                  local_58[0] = uStack90;
                }
                *(uint *)(param_5 + 8) = (uint)local_58;
                if ((local_68[0] & 0xfffd) == 1) {
                  local_d0 = (local_68 == 3 && local_58 != 0x20) ^ 1;
                }
                if ((ushort)(local_68 - 1) < 0x100) {
                  uVar2 = (ushort)((uint)uStack92 / (uint)local_68);
                  if (((((uint)((int)(local_58 + 7) >> 3) <=
                         (uint)uStack92 / (uint)local_68) && (uVar2 < 5)) &&
                      (uStack92 % local_68[0] == 0)) &&
                     ((local_58 - 1 < 0x20 && ((local_d0 & 1) != 0)))) {
                    if (local_84 < 0x28) {
                      if ((*(int *)(param_5 + 0x30) == 0) && ((*(byte *)(param_5 + 0x11) & 4) == 0))
                      {
                        if (local_68 < 3) {
                          *(uint *)(param_5 + 0x30) = 5 - (uint)local_68;
                        }
                        else {
                          if (local_68 < 0x13) {
                            *(int *)(param_5 + 0x30) =
                                 (1 << (SUB161(_local_68 >> 0x10,0) & 0x1f)) + -1;
                          }
                          else {
                            *(undefined4 *)(param_5 + 0x30) = 0x3ffff;
                          }
                        }
                      }
                    }
                    else {
                      if (iStack84 != 0) {
                        if ((*(int *)(param_5 + 0x30) != 0) ||
                           ((*(byte *)(param_5 + 0x11) & 4) != 0)) {
                          iVar3 = 1;
                          FUN_00111570("this WAV file already has channel order information!");
                          goto LAB_0010c7a4;
                        }
                        *(int *)(param_5 + 0x30) = iStack84;
                      }
                    }
                    iVar3 = DAT_003190d8;
                    if (local_68 == 3) {
                      bVar15 = DAT_003190d8 != 0;
                      *(undefined4 *)(param_5 + 0x20) = 0x7f;
                      local_d0 = 1;
                      if (bVar15) {
LAB_0010ce99:
                        FUN_00111570("data format: normalized 32-bit floating point");
                        local_d0 = 1;
                      }
                      goto LAB_0010c824;
                    }
                    if (((*(byte *)(param_5 + 0x11) & 1) == 0) || (uVar2 != 4)) {
LAB_0010ce15:
                      local_d0 = 1;
                      if (DAT_003190d8 == 0) goto LAB_0010c824;
                      iVar3 = *(int *)(param_5 + 0x20);
                      if (iVar3 == 0x7f) goto LAB_0010ce99;
                      if (iVar3 == 0) {
                        FUN_00111570("data format: %d-bit integers stored in %d byte(s)",
                                     local_58,uVar2);
                        goto LAB_0010c824;
                      }
                    }
                    else {
                      if (uStack90 == 0x18) {
                        *(undefined4 *)(param_5 + 0x20) = 0x96;
                      }
                      else {
                        if (uStack90 != 0x20) goto LAB_0010ce15;
                        *(undefined4 *)(param_5 + 0x20) = 0x8e;
                      }
                      if (iVar3 == 0) {
                        local_d0 = 1;
                        goto LAB_0010c824;
                      }
                      iVar3 = *(int *)(param_5 + 0x20);
                    }
                    FUN_00111570("data format: 32-bit floating point (Audition %d:%d float type 1)",
                                 iVar3 + -0x7e,0x96 - iVar3);
                    local_d0 = 1;
                    goto LAB_0010c824;
                  }
                }
                iVar3 = 1;
                FUN_00111570("%s is an unsupported .WAV format!",param_2);
                goto LAB_0010c7a4;
              }
              if (local_84 < 0x1c) goto LAB_0010c78c;
              iVar3 = FUN_00111710(param_1,local_a8,0x1c,&local_ac);
              uVar10 = extraout_RDX_02;
              if ((iVar3 == 0) || (local_ac != 0x1c)) goto LAB_0010c78c;
              if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
                 (iVar3 = WavpackAddWrapper(param_4,local_a8,0x1c), iVar3 == 0)) break;
              WavpackLittleEndianToNative(local_a8,&DAT_00115e36);
              if (DAT_003190d8 != 0) {
                FUN_00111570("DS64: riffSize = %lld, dataSize = %lld, sampleCount = %lld, table_length = %d"
                             ,local_a8,local_a8,local_98);
              }
              uVar10 = (ulong)local_90 * 0xc;
              if (uVar10 != (ulong)local_84 - 0x1c) goto LAB_0010c78c;
              uVar4 = local_90 - 1;
              bVar15 = local_90 != 0;
              local_90 = uVar4;
              if (bVar15) {
                do {
                  iVar3 = FUN_00111710(param_1,local_74,0xc,&local_ac);
                  if (((iVar3 == 0) || (local_ac != 0xc)) ||
                     (((*(byte *)(param_5 + 0x11) & 2) == 0 &&
                      (iVar3 = WavpackAddWrapper(param_4,local_74,0xc), iVar3 == 0))))
                  goto LAB_0010c9a0;
                  uVar4 = local_90 - 1;
                  bVar15 = local_90 != 0;
                  local_90 = uVar4;
                } while (bVar15);
              }
              local_cc = 1;
            } while( true );
          }
LAB_0010c9a0:
          iVar3 = 1;
          uVar6 = WavpackGetErrorMessage(param_4);
          FUN_00111570("%s",uVar6);
          goto LAB_0010c7a4;
        }
      }
    }
LAB_0010c78c:
    iVar3 = 1;
    FUN_00111570("%s is not a valid .WAV file!",param_2,uVar10);
  }
  else {
    iVar3 = 1;
    FUN_00111570("can\'t handle .WAV files larger than 4 GB (non-standard)!");
  }
LAB_0010c7a4:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return iVar3;
}



// WARNING: Could not reconcile some variable overlaps

undefined8 FUN_0010d130(undefined8 param_1,undefined8 param_2,long param_3)

{
  bool bVar1;
  short sVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  ulong uVar8;
  undefined8 uVar9;
  long lVar10;
  long lVar11;
  ushort uVar12;
  long lVar13;
  long in_FS_OFFSET;
  int local_dc;
  long local_d8;
  long local_d0;
  long local_c8;
  undefined4 local_c0;
  undefined4 local_bc;
  undefined4 local_b8;
  undefined4 local_b4;
  undefined4 local_b0;
  undefined4 local_ac;
  int local_a8;
  undefined4 local_a4;
  undefined4 local_a0;
  undefined4 local_9c;
  undefined4 local_98;
  undefined4 local_94;
  undefined local_90 [16];
  undefined8 local_80;
  undefined4 local_78;
  ushort local_68;
  short local_66;
  int local_64;
  int local_60;
  short local_5c;
  short local_5a;
  undefined local_58 [16];
  undefined8 local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar3 = WavpackGetNumChannels(param_2);
  iVar4 = WavpackGetChannelMask(param_2);
  iVar5 = WavpackGetSampleRate(param_2);
  iVar6 = WavpackGetBytesPerSample(param_2);
  sVar2 = WavpackGetBitsPerSample(param_2);
  iVar7 = WavpackGetFloatNormExp(param_2);
  uVar12 = 1;
  if (iVar7 != 0) {
    iVar7 = WavpackGetFloatNormExp(param_2);
    uVar12 = 3;
    if (iVar7 != 0x7f) {
      FUN_00111570("can\'t create valid RIFF wav header for non-normalized floating data!");
      uVar9 = 0;
      goto LAB_0010d42d;
    }
  }
  if (param_3 == -1) {
    param_3 = (long)(int)(0x7ffff000 / (long)(iVar3 * iVar6));
  }
  lVar11 = iVar6 * param_3 * (long)iVar3;
  if (lVar11 < 0xff000001) {
    bVar1 = true;
    iVar7 = DAT_003190d8;
    if (DAT_003190d8 != 0) {
      iVar7 = 0;
      FUN_00111570("total_data_bytes = %lld, so riff",lVar11);
    }
  }
  else {
    if (DAT_003190d8 == 0) {
      bVar1 = false;
      iVar7 = 1;
    }
    else {
      iVar7 = 1;
      FUN_00111570("total_data_bytes = %lld, so rf64",lVar11);
      bVar1 = false;
    }
  }
  local_66 = (short)iVar3;
  local_5c = (short)iVar6 * local_66;
  local_60 = iVar5 * iVar3 * iVar6;
  local_58[0] = 0x0;
  local_48 = 0;
  if ((iVar3 < 3) && (5 - iVar3 == iVar4)) {
    iVar3 = 0x10;
    lVar10 = 0x10;
    local_68 = uVar12;
    local_5a = sVar2;
  }
  else {
    local_68 = 0xfffe;
    local_58[0] = CONCAT114(0x10,ZEXT214(uVar12) << 0x40);
    iVar3 = 0x28;
    lVar10 = 0x28;
    local_48 = 0x719b3800aa000080;
    local_58[0] = CONCAT44(iVar4,CONCAT22(sVar2,0x16));
    local_58[0] = ZEXT1516(CONCAT78(SUB157(local_58[0] >> 0x40,0),local_58));
    local_5a = (short)iVar6 * 8;
  }
  uVar8 = lVar11 + 1U & 0xfffffffffffffffe;
  if (iVar7 == 0) {
    local_a4 = 0x46464952;
    lVar13 = uVar8 + 0x14;
  }
  else {
    lVar13 = uVar8 + 0x38;
    local_a4 = 0x34364652;
  }
  local_9c = 0x45564157;
  lVar13 = lVar13 + lVar10;
  local_a8 = iVar3;
  local_64 = iVar5;
  if (bVar1) {
    lVar13 = lVar13 + 0x24;
    local_ac = 0x20746d66;
    local_b4 = 0x61746164;
    local_90[0] = 0x0;
    local_80 = 0;
    local_78 = 0;
    local_98 = 0x6b6e756a;
    local_94 = 0x1c;
    WavpackNativeToLittleEndian(0,&local_98,&DAT_00115e2e);
    if (iVar7 != 0) goto LAB_0010d49e;
LAB_0010d39b:
    local_a0 = (undefined4)lVar13;
    local_b0 = (undefined4)lVar11;
  }
  else {
    local_ac = 0x20746d66;
    local_b4 = 0x61746164;
    if (iVar7 == 0) goto LAB_0010d39b;
LAB_0010d49e:
    local_bc = 0x34367364;
    local_b8 = 0x1c;
    local_c0 = 0;
    local_a0 = 0xffffffff;
    local_b0 = 0xffffffff;
    local_d8 = lVar13;
    local_d0 = lVar11;
    local_c8 = param_3;
    WavpackNativeToLittleEndian(&local_bc,&DAT_00115e2e);
    WavpackNativeToLittleEndian(&local_d8,&DAT_00115e36);
  }
  WavpackNativeToLittleEndian(&local_a4,&DAT_00115e2e);
  WavpackNativeToLittleEndian(&local_ac,&DAT_00115e2e);
  WavpackNativeToLittleEndian(&local_68,"SSLLSSSSLS");
  WavpackNativeToLittleEndian(&local_b4,&DAT_00115e2e);
  iVar4 = FUN_00111780(param_1,&local_a4,0xc,&local_dc);
  if ((((((iVar4 == 0) || (local_dc != 0xc)) ||
        ((iVar7 != 0 &&
         ((((iVar4 = FUN_00111780(param_1,&local_bc,8,&local_dc), iVar4 == 0 || (local_dc != 8)) ||
           (iVar4 = FUN_00111780(param_1,&local_d8,0x1c,&local_dc), iVar4 == 0)) ||
          (local_dc != 0x1c)))))) ||
       ((bVar1 && ((iVar4 = FUN_00111780(param_1,&local_98,0x24,&local_dc), iVar4 == 0 ||
                   (local_dc != 0x24)))))) ||
      (((iVar4 = FUN_00111780(param_1,&local_ac,8,&local_dc), iVar4 == 0 ||
        ((local_dc != 8 || (iVar4 = FUN_00111780(param_1,&local_68,iVar3,&local_dc), iVar4 == 0))))
       || (local_dc != iVar3)))) ||
     ((iVar3 = FUN_00111780(param_1,&local_b4,8,&local_dc), iVar3 == 0 || (uVar9 = 1, local_dc != 8)
      ))) {
    FUN_00111570("can\'t write .WAV data, disk probably full!");
    uVar9 = 0;
  }
LAB_0010d42d:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return uVar9;
}



undefined8
FUN_0010d700(FILE *param_1,undefined8 param_2,undefined4 *param_3,undefined8 param_4,long param_5)

{
  ulong uVar1;
  ushort uVar2;
  ulong uVar3;
  ushort uVar4;
  int iVar5;
  long lVar6;
  undefined8 uVar7;
  void *__ptr;
  long lVar8;
  undefined8 uVar9;
  ushort uVar10;
  uint uVar11;
  long in_FS_OFFSET;
  bool bVar12;
  uint local_bc;
  char local_b8;
  char cStack183;
  char cStack182;
  char cStack181;
  undefined4 uStack180;
  ulong local_b0;
  ulong local_a8;
  undefined4 local_98;
  undefined4 uStack148;
  ulong local_90;
  long local_88;
  ulong local_80;
  ulong local_78;
  ushort local_68;
  ushort local_66;
  undefined4 local_64;
  ushort local_5c;
  ushort local_5a;
  short local_58;
  ushort local_56;
  int local_54;
  ushort local_50;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar6 = FUN_001117f0(local_40);
  local_98 = *param_3;
  iVar5 = FUN_00111710(param_1,&uStack148,0x24,&local_bc);
  uVar1 = local_a8;
  if ((((iVar5 != 0) && (local_bc == 0x24)) &&
      ((local_90 ^ 0xc104db28d6a5 | CONCAT44(uStack148,local_98) ^ 0x11cf912e66666972) == 0)) &&
     ((local_78 ^ 0x8adb8e4fc000d18c | local_80 ^ 0x11d3acf365766177) == 0)) {
    if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
       (iVar5 = WavpackAddWrapper(param_4,&local_98,0x28), iVar5 == 0)) {
LAB_0010d80a:
      uVar9 = 1;
      uVar7 = WavpackGetErrorMessage(param_4);
      FUN_00111570("%s",uVar7);
      goto LAB_0010d782;
    }
    WavpackLittleEndianToNative(&local_98,&DAT_00116290);
    if (((lVar6 == 0) || (((*(byte *)(param_5 + 0x11) & 8) != 0 || (local_88 + 1U < 2)))) ||
       (uVar1 = local_a8, local_88 == lVar6)) {
      bVar12 = false;
      do {
        while( true ) {
          iVar5 = FUN_00111710(param_1,&local_b8,0x18,&local_bc);
          uVar1 = local_a8;
          if ((iVar5 == 0) || (local_bc != 0x18)) goto LAB_0010d76c;
          if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
             (iVar5 = WavpackAddWrapper(param_4,&local_b8,0x18), iVar5 == 0)) goto LAB_0010d80a;
          WavpackLittleEndianToNative(&local_b8,&DAT_00116290);
          uVar1 = local_a8 - 0x18;
          uVar3 = CONCAT44(uStack180,
                           CONCAT13(cStack181,CONCAT12(cStack182,CONCAT11(cStack183,local_b8))));
          if ((local_b0 ^ 0x8adb8e4fc000d18c | uVar3 ^ 0x11d3acf320746d66) != 0) break;
          if ((((bVar12) ||
               (local_a8 = local_a8 - 0x11 & 0xfffffffffffffff8, uVar1 = local_a8,
               0x18 < local_a8 - 0x10)) ||
              (iVar5 = FUN_00111710(param_1,&local_68,0,0), uVar1 = local_a8, iVar5 == 0)) ||
             (local_bc != local_a8)) goto LAB_0010d76c;
          if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
             (iVar5 = WavpackAddWrapper(param_4,&local_68,(ulong)local_bc), iVar5 == 0))
          goto LAB_0010d80a;
          WavpackLittleEndianToNative();
          if (DAT_003190d8 == 0) {
LAB_0010d98e:
            if ((0x10 < (long)local_a8) && (local_58 == 2)) {
              *(uint *)(param_5 + 0x10) = *(uint *)(param_5 + 0x10) | 0x100;
            }
          }
          else {
            FUN_00111570("format tag size = %d");
            FUN_00111570("FormatTag = %x, NumChannels = %d, BitsPerSample = %d",local_68,local_66);
            FUN_00111570("BlockAlign = %d, SampleRate = %d, BytesPerSecond = %d",local_5c,local_64);
            if (0x10 < (long)local_a8) {
              FUN_00111570("cbSize = %d, ValidBitsPerSample = %d",local_58,local_56);
              if (0x14 < (long)local_a8) {
                FUN_00111570("ChannelMask = %x, SubFormat = %d",local_54,local_50);
              }
              goto LAB_0010d98e;
            }
          }
          if ((((local_a8 != 0x28) || (uVar10 = local_50, local_68 != 0xfffe)) &&
              (uVar10 = local_68, local_a8 != 0x28)) || (uVar2 = local_56, local_56 == 0)) {
            uVar2 = local_5a;
          }
          *(uint *)(param_5 + 8) = (uint)uVar2;
          if ((uVar10 & 0xfffd) == 1) {
            bVar12 = uVar10 != 3 || uVar2 == 0x20;
          }
          if (0xff < (ushort)(local_66 - 1)) {
LAB_0010ddc8:
            uVar9 = 1;
            FUN_00111570("%s is an unsupported .W64 format!",param_2);
            goto LAB_0010d782;
          }
          uVar4 = (ushort)((uint)local_5c / (uint)local_66);
          if ((((uint)local_5c / (uint)local_66 < (uint)((int)(uVar2 + 7) >> 3)) || (4 < uVar4)) ||
             ((local_5c % local_66 != 0 || ((0x1f < uVar2 - 1 || (!bVar12)))))) goto LAB_0010ddc8;
          if ((long)local_a8 < 0x28) {
            if ((*(int *)(param_5 + 0x30) == 0) && ((*(byte *)(param_5 + 0x11) & 4) == 0)) {
              if (local_66 < 3) {
                *(uint *)(param_5 + 0x30) = 5 - (uint)local_66;
              }
              else {
                if (local_66 < 0x13) {
                  *(int *)(param_5 + 0x30) = (1 << ((byte)local_66 & 0x1f)) + -1;
                }
                else {
                  *(undefined4 *)(param_5 + 0x30) = 0x3ffff;
                }
              }
            }
          }
          else {
            if (local_54 != 0) {
              if ((*(int *)(param_5 + 0x30) != 0) || ((*(byte *)(param_5 + 0x11) & 4) != 0)) {
                uVar9 = 1;
                FUN_00111570("this W64 file already has channel order information!");
                goto LAB_0010d782;
              }
              *(int *)(param_5 + 0x30) = local_54;
            }
          }
          iVar5 = DAT_003190d8;
          if (uVar10 == 3) {
            bVar12 = DAT_003190d8 == 0;
            *(undefined4 *)(param_5 + 0x20) = 0x7f;
            if (bVar12) goto LAB_0010dae2;
LAB_0010de91:
            FUN_00111570("data format: normalized 32-bit floating point");
            bVar12 = true;
          }
          else {
            if (((*(byte *)(param_5 + 0x11) & 1) == 0) || (uVar4 != 4)) {
LAB_0010dac1:
              if (DAT_003190d8 != 0) {
                if (*(int *)(param_5 + 0x20) == 0x7f) goto LAB_0010de91;
                goto LAB_0010dad1;
              }
            }
            else {
              if (local_5a == 0x18) {
                *(undefined4 *)(param_5 + 0x20) = 0x96;
              }
              else {
                if (local_5a != 0x20) goto LAB_0010dac1;
                *(undefined4 *)(param_5 + 0x20) = 0x8e;
              }
              if (iVar5 != 0) {
LAB_0010dad1:
                FUN_00111570("data format: %d-bit integers stored in %d byte(s)",uVar2,uVar4);
              }
            }
LAB_0010dae2:
            bVar12 = true;
          }
        }
        local_a8 = uVar1;
        if ((local_b0 ^ 0x8adb8e4fc000d18c | uVar3 ^ 0x11d3acf361746164) == 0) {
          uVar11 = (uint)local_66;
          uVar9 = 0;
          if (local_66 != 0) {
            if (((*(uint *)(param_5 + 0x10) & 0x800) == 0) && (0 < (long)uVar1)) {
              if ((lVar6 != 0) && (0x1000000 < (long)(lVar6 - uVar1))) {
                uVar9 = 1;
                FUN_00111570(
                            "this .W64 file has over 16 MB of extra RIFF data, probably is corrupt!"
                            );
                goto LAB_0010d782;
              }
              lVar8 = (long)uVar1 / (long)(ulong)local_5c;
              if (lVar8 == 0) {
                uVar9 = 1;
                FUN_00111570("this .W64 file has no audio samples, probably is corrupt!",0,
                             (long)uVar1 % (long)(ulong)local_5c);
                goto LAB_0010d782;
              }
              if (0xfffffffeff < lVar8) {
                uVar9 = 1;
                FUN_00111570("%s has too many samples for WavPack!",param_2);
                goto LAB_0010d782;
              }
            }
            else {
              lVar8 = -1;
              *(uint *)(param_5 + 0x10) = *(uint *)(param_5 + 0x10) | 0x800;
              if (lVar6 != 0) {
                lVar8 = ftell(param_1);
                if (lVar8 != -1) {
                  lVar8 = ftell(param_1);
                  lVar8 = (lVar6 - lVar8) / (long)(ulong)local_5c;
                }
                uVar11 = (uint)local_66;
              }
            }
            *(uint *)(param_5 + 0x1c) = uVar11;
            *(uint *)(param_5 + 0xc) = local_5c / uVar11;
            *(undefined4 *)(param_5 + 0x2c) = local_64;
            iVar5 = WavpackSetConfiguration64(param_4,param_5,lVar8,0);
            if (iVar5 == 0) {
              uVar9 = 1;
              uVar7 = WavpackGetErrorMessage(param_4);
              FUN_00111570("%s: %s",param_2,uVar7);
            }
            goto LAB_0010d782;
          }
          break;
        }
        uVar11 = (int)uVar1 + 7U & 0xfffffff8;
        if (0x400000 < uVar11) break;
        __ptr = malloc((long)(int)uVar11);
        if (DAT_003190d8 != 0) {
          FUN_00111570("extra unknown chunk \"%c%c%c%c\" of %d bytes",(int)local_b8,(int)cStack183,
                       (int)cStack182,(int)cStack181,uVar1);
        }
        iVar5 = FUN_00111710(param_1,__ptr,uVar11,&local_bc);
        if (((iVar5 == 0) || (uVar11 != local_bc)) ||
           (((*(byte *)(param_5 + 0x11) & 2) == 0 &&
            (iVar5 = WavpackAddWrapper(param_4,__ptr,uVar11), iVar5 == 0)))) {
          uVar9 = 1;
          uVar7 = WavpackGetErrorMessage(param_4);
          FUN_00111570("%s",uVar7);
          free(__ptr);
          goto LAB_0010d782;
        }
        free(__ptr);
      } while( true );
    }
  }
LAB_0010d76c:
  local_a8 = uVar1;
  uVar9 = 1;
  FUN_00111570("%s is not a valid .W64 file!",param_2);
LAB_0010d782:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return uVar9;
}



// WARNING: Could not reconcile some variable overlaps

undefined8 FUN_0010dfc0(undefined8 param_1,undefined8 param_2,long param_3)

{
  short sVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  undefined8 uVar7;
  long lVar8;
  undefined2 uVar9;
  long lVar10;
  long in_FS_OFFSET;
  int local_dc;
  undefined8 local_d8;
  undefined8 uStack208;
  long local_c8;
  undefined4 local_b8;
  undefined4 uStack180;
  undefined4 uStack176;
  undefined4 uStack172;
  undefined8 local_a8;
  undefined4 local_98;
  undefined4 uStack148;
  undefined4 uStack144;
  undefined4 uStack140;
  long local_88;
  undefined4 local_80;
  undefined4 uStack124;
  undefined4 uStack120;
  undefined4 uStack116;
  undefined2 local_68;
  short local_66;
  int local_64;
  int local_60;
  short local_5c;
  short local_5a;
  undefined local_58 [16];
  undefined8 local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar2 = WavpackGetNumChannels(param_2);
  iVar3 = WavpackGetChannelMask(param_2);
  iVar4 = WavpackGetSampleRate(param_2);
  iVar5 = WavpackGetBytesPerSample(param_2);
  sVar1 = WavpackGetBitsPerSample(param_2);
  iVar6 = WavpackGetFloatNormExp();
  uVar9 = 1;
  if (iVar6 != 0) {
    iVar6 = WavpackGetFloatNormExp();
    uVar9 = 3;
    if (iVar6 != 0x7f) {
      FUN_00111570("can\'t create valid Wave64 header for non-normalized floating data!");
      uVar7 = 0;
      goto LAB_0010e224;
    }
  }
  if (param_3 == -1) {
    param_3 = (long)(int)(0x7ffff000 / (long)(iVar2 * iVar5));
  }
  local_66 = (short)iVar2;
  local_58[0] = 0x0;
  local_48 = 0;
  lVar8 = param_3 * iVar5 * (long)iVar2;
  local_60 = iVar4 * iVar2 * iVar5;
  local_5c = (short)iVar5 * local_66;
  if ((iVar2 < 3) && (5 - iVar2 == iVar3)) {
    local_a8 = 0x28;
    lVar10 = 0x10;
    iVar2 = 0x10;
    local_68 = uVar9;
    local_5a = sVar1;
  }
  else {
    local_68 = 0xfffe;
    local_a8 = 0x40;
    local_58[0] = CONCAT44(iVar3,CONCAT22(sVar1,0x16));
    lVar10 = 0x28;
    local_58[0] = ZEXT1516(CONCAT114(0x10,ZEXT1014(CONCAT28(uVar9,local_58))));
    iVar2 = 0x28;
    local_48 = 0x719b3800aa000080;
    local_5a = (short)iVar5 * 8;
  }
  local_c8 = lVar8 + 0x18;
  local_98 = 0x66666972;
  uStack148 = 0x11cf912e;
  uStack144 = 0xdb28d6a5;
  uStack140 = 0xc104;
  local_88 = lVar10 + 0x58 + (lVar8 + 7U & 0xfffffffffffffff8);
  local_80 = 0x65766177;
  uStack124 = 0x11d3acf3;
  uStack120 = 0xc000d18c;
  uStack116 = 0x8adb8e4f;
  local_b8 = 0x20746d66;
  uStack180 = 0x11d3acf3;
  uStack176 = 0xc000d18c;
  uStack172 = 0x8adb8e4f;
  local_d8 = 0x11d3acf361746164;
  uStack208 = 0x8adb8e4fc000d18c;
  local_64 = iVar4;
  WavpackNativeToLittleEndian(0x11d3acf361746164,&local_98,&DAT_00116290);
  WavpackNativeToLittleEndian(&local_b8,&DAT_00116290);
  WavpackNativeToLittleEndian(&local_68,"SSLLSSSSLS");
  WavpackNativeToLittleEndian(&local_d8,&DAT_00116290);
  iVar3 = FUN_00111780(param_1,&local_98,0x28,&local_dc);
  if ((iVar3 != 0) && (local_dc == 0x28)) {
    iVar3 = FUN_00111780(param_1,&local_b8,0x18,&local_dc);
    if ((iVar3 != 0) && (local_dc == 0x18)) {
      iVar3 = FUN_00111780(param_1,&local_68,iVar2,&local_dc);
      if ((iVar3 != 0) && (iVar2 == local_dc)) {
        iVar2 = FUN_00111780(param_1,&local_d8,0x18,&local_dc);
        if ((iVar2 != 0) && (local_dc == 0x18)) {
          uVar7 = 1;
          goto LAB_0010e224;
        }
      }
    }
  }
  FUN_00111570("can\'t write .W64 data, disk probably full!");
  uVar7 = 0;
LAB_0010e224:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar7;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



int FUN_0010e340(FILE *param_1,undefined8 param_2,undefined4 *param_3,undefined8 param_4,
                long param_5)

{
  uint uVar1;
  double dVar2;
  int iVar3;
  int iVar4;
  long lVar5;
  uint *puVar6;
  ulong uVar7;
  void *__ptr;
  undefined8 uVar8;
  long lVar9;
  long lVar10;
  char *pcVar11;
  uint uVar12;
  undefined4 uVar13;
  char *pcVar14;
  ulong extraout_RDX;
  uint *puVar15;
  uint *puVar16;
  byte *pbVar17;
  byte *pbVar18;
  char cVar19;
  uint uVar20;
  size_t sVar21;
  long in_FS_OFFSET;
  undefined uVar22;
  bool bVar23;
  bool bVar24;
  undefined uVar25;
  bool bVar26;
  bool bVar27;
  byte bVar28;
  uint local_e4;
  char *local_d8;
  char *local_d0;
  uint local_b0;
  uint local_94;
  undefined local_90 [4];
  undefined4 local_8c;
  short local_88 [2];
  byte local_84;
  char local_83;
  char local_82;
  ulong local_80;
  double local_78;
  uint local_70;
  uint local_6c;
  uint local_68;
  int local_64;
  uint local_60;
  int local_5c;
  ulong local_49;
  undefined local_41;
  long local_40;
  
  bVar28 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar5 = FUN_001117f0(local_40);
  local_8c = *param_3;
  iVar3 = FUN_00111710(param_1,local_88,4,&local_94);
  if ((iVar3 == 0) || (local_94 != 4)) {
LAB_0010e3b0:
    iVar3 = 1;
    FUN_00111570("%s is not a valid .CAF file!",param_2);
  }
  else {
    if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
       (iVar3 = WavpackAddWrapper(param_4,&local_8c,8), iVar3 == 0)) {
LAB_0010eaa8:
      iVar3 = 1;
      uVar8 = WavpackGetErrorMessage(param_4);
      FUN_00111570("%s",uVar8);
    }
    else {
      WavpackBigEndianToNative(&local_8c,&DAT_0011646c);
      if (local_88[0] == 1) {
        local_d8 = (char *)0x0;
        local_d0 = (char *)0x0;
        local_b0 = 0;
        bVar27 = false;
LAB_0010e481:
        do {
          iVar3 = FUN_00111710(param_1,&local_84,0xc,&local_94);
          if ((iVar3 == 0) || (local_94 != 0xc)) goto LAB_0010e3b0;
          uVar25 = (*(byte *)(param_5 + 0x11) & 2) == 0;
          if ((bool)uVar25) {
            iVar3 = WavpackAddWrapper(param_4,&local_84,0xc);
            uVar25 = iVar3 == 0;
            if ((bool)uVar25) goto LAB_0010eaa8;
          }
          uVar22 = 0;
          WavpackBigEndianToNative(&local_84,&DAT_00116470);
          uVar7 = local_80;
          lVar10 = 4;
          pbVar17 = &local_84;
          pbVar18 = &DAT_00116473;
          do {
            if (lVar10 == 0) break;
            lVar10 = lVar10 + -1;
            uVar22 = *pbVar17 < *pbVar18;
            uVar25 = *pbVar17 == *pbVar18;
            pbVar17 = pbVar17 + (ulong)bVar28 * -2 + 1;
            pbVar18 = pbVar18 + (ulong)bVar28 * -2 + 1;
          } while ((bool)uVar25);
          bVar23 = false;
          bVar26 = (!(bool)uVar22 && !(bool)uVar25) == (bool)uVar22;
          if (!bVar26) {
            lVar10 = 4;
            pbVar17 = &local_84;
            pbVar18 = &DAT_00116485;
            do {
              if (lVar10 == 0) break;
              lVar10 = lVar10 + -1;
              bVar23 = *pbVar17 < *pbVar18;
              bVar26 = *pbVar17 == *pbVar18;
              pbVar17 = pbVar17 + (ulong)bVar28 * -2 + 1;
              pbVar18 = pbVar18 + (ulong)bVar28 * -2 + 1;
            } while (bVar26);
            bVar24 = false;
            bVar23 = (!bVar23 && !bVar26) == bVar23;
            if (bVar23) {
              if (0x3f4 < local_80 - 0xc) {
                iVar3 = 1;
                FUN_00111570("this .CAF file has an invalid \'chan\' chunk!");
                goto LAB_0010e3c7;
              }
              if (DAT_003190d8 != 0) {
                FUN_00111570("\'chan\' chunk is %d bytes",local_80 & 0xffffffff);
              }
              sVar21 = local_80;
              puVar6 = (uint *)malloc(local_80);
              iVar3 = FUN_00111710(param_1,puVar6,sVar21 & 0xffffffff,0);
              uVar7 = extraout_RDX;
              if ((iVar3 == 0) || (uVar7 = (ulong)local_94, uVar7 != local_80)) {
                iVar3 = 1;
                FUN_00111570("%s is not a valid .CAF file!",param_2,uVar7);
                free(puVar6);
                goto LAB_0010e3c7;
              }
              if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
                 (iVar3 = WavpackAddWrapper(param_4,puVar6), iVar3 == 0)) {
                iVar3 = 1;
                uVar8 = WavpackGetErrorMessage(param_4);
                FUN_00111570("%s",uVar8);
                free(puVar6);
                goto LAB_0010e3c7;
              }
              WavpackBigEndianToNative(puVar6);
              if ((*(int *)(param_5 + 0x30) != 0) ||
                 (uVar12 = *(uint *)(param_5 + 0x10), (uVar12 & 0x400) != 0)) {
                pcVar14 = "this CAF file already has channel order information!";
LAB_0010ef2b:
                iVar3 = 1;
                FUN_00111570(pcVar14);
                free(puVar6);
                goto LAB_0010e3c7;
              }
              uVar1 = *puVar6;
              if (uVar1 == 0) {
                local_e4 = puVar6[2];
                sVar21 = SEXT48((int)local_e4);
                if ((local_80 != sVar21 * 0x14 + 0xc) || (*(uint *)(param_5 + 0x1c) != local_e4)) {
                  pcVar14 = "channel descriptions in \'chan\' chunk are the wrong size!";
                  goto LAB_0010ef2b;
                }
                if (0xff < (int)local_e4) {
                  FUN_00111570("%d channel descriptions is more than we can handle...ignoring!");
                  goto LAB_0010ea8d;
                }
                puVar15 = puVar6 + 3;
                local_d8 = (char *)malloc(sVar21);
                memset(local_d8,-1,sVar21);
                local_d0 = (char *)malloc((long)(int)(local_e4 + 1));
                if (0 < (int)local_e4) {
                  puVar16 = puVar6 + 3;
                  uVar12 = 0;
                  do {
                    uVar12 = uVar12 + 1;
                    WavpackBigEndianToNative(puVar16,&DAT_0011647a);
                    if (DAT_003190d8 != 0) {
                      FUN_00111570("chan %d --> %d",uVar12,*puVar16);
                    }
                    puVar16 = puVar16 + 5;
                  } while (local_e4 != uVar12);
                }
                cVar19 = '\0';
                uVar12 = 1;
                do {
                  if (0 < (int)local_e4) {
                    puVar16 = puVar6 + 8;
                    pcVar14 = local_d8;
                    lVar10 = 1;
                    if (puVar6[3] != uVar12) {
                      do {
                        lVar9 = lVar10;
                        if (lVar9 == (ulong)(local_e4 - 1) + 1) goto LAB_0010ed02;
                        uVar1 = *puVar16;
                        puVar16 = puVar16 + 5;
                        lVar10 = lVar9 + 1;
                      } while (uVar1 != uVar12);
                      pcVar14 = local_d8 + lVar9;
                    }
                    *(uint *)(param_5 + 0x30) =
                         *(uint *)(param_5 + 0x30) | 1 << ((char)uVar12 - 1U & 0x1f);
                    *pcVar14 = cVar19;
                    cVar19 = cVar19 + '\x01';
                  }
LAB_0010ed02:
                  uVar12 = uVar12 + 1;
                } while (uVar12 != 0x13);
                iVar3 = 0;
                uVar12 = 0;
                if ((int)local_e4 < 1) {
LAB_0010edf3:
                  if (uVar12 != local_e4) goto LAB_0010edfc;
                  free(local_d8);
                  local_d8 = (char *)0x0;
                }
                else {
                  iVar3 = 0;
                  pcVar14 = local_d8;
                  do {
                    if (*pcVar14 == -1) {
                      uVar12 = *puVar15;
                      lVar10 = (long)iVar3;
                      iVar3 = iVar3 + 1;
                      pcVar11 = local_d0 + lVar10;
                      if ((uVar12 - 1 < 0xfffffffe) && (uVar12 != 100)) {
                        if (((uVar12 - 0x21 < 0xc) || (uVar12 - 200 < 8)) || (uVar12 - 0x12d < 5)) {
                          if (300 < uVar12) {
                            uVar12 = uVar12 - 0x50;
                          }
                          *pcVar11 = (char)uVar12;
                        }
                        else {
                          FUN_00111570(0);
                          *pcVar11 = -1;
                        }
                      }
                      else {
                        *pcVar11 = -1;
                      }
                      *pcVar14 = cVar19;
                      cVar19 = cVar19 + '\x01';
                    }
                    pcVar14 = pcVar14 + 1;
                    puVar15 = puVar15 + 5;
                  } while (local_d8 + (ulong)(local_e4 - 1) + 1 != pcVar14);
                  if (*local_d8 == '\0') {
                    uVar12 = 0;
                    do {
                      uVar12 = uVar12 + 1;
                      if ((int)local_e4 <= (int)uVar12) break;
                    } while ((byte)local_d8[(int)uVar12] == uVar12);
                    goto LAB_0010edf3;
                  }
LAB_0010edfc:
                  *(uint *)(param_5 + 0x10) = *(uint *)(param_5 + 0x10) | 8;
                  local_b0 = local_e4;
                }
                if (iVar3 == 0) {
                  free(local_d0);
                  local_d0 = (char *)0x0;
                }
                else {
                  local_d0[iVar3] = '\0';
                }
                if (((DAT_003190d8 != 0) &&
                    (FUN_00111570("layout_tag = 0x%08x, so generated bitmap of 0x%08x from %d descriptions, %d non-MS"
                                  ,*puVar6,*(undefined4 *)(param_5 + 0x30)), local_d8 != (char *)0x0
                    )) && ((int)local_e4 < 9)) {
                  local_41 = 0;
                  local_49 = 0x3837363534333231;
                  if ((int)local_e4 < 1) {
                    local_e4 = 0;
                  }
                  else {
                    lVar10 = 0;
                    do {
                      *(char *)((long)&local_49 + lVar10) = local_d8[lVar10] + '1';
                      lVar10 = lVar10 + 1;
                    } while (lVar10 != (ulong)(local_e4 - 1) + 1);
                  }
                  *(undefined *)((long)&local_49 + (long)(int)local_e4) = 0;
                  FUN_00111570("reordering string = \"%s\"\n",&local_49);
                }
              }
              else {
                if (uVar1 == 0x10000) {
                  bVar27 = DAT_003190d8 != 0;
                  *(uint *)(param_5 + 0x30) = puVar6[1];
                  if (bVar27) {
                    FUN_00111570("layout_tag = 0x%08x, so using supplied bitmap of 0x%08x",0x10000);
                  }
                }
                else {
                  puVar15 = &DAT_003182f0;
                  uVar20 = 0x650002;
                  iVar3 = 1;
                  if (uVar1 == 0x640001) {
                    *(undefined4 *)(param_5 + 0x30) = 4;
                    local_b0 = 0x640001;
                    uVar13 = 4;
                  }
                  else {
                    while (uVar1 != uVar20) {
                      iVar3 = iVar3 + 1;
                      if (iVar3 == 0x2f) {
                        if (DAT_003190d8 != 0) {
                          FUN_00111570(
                                      "layout_tag 0x%08x not found in table...all channels unassigned"
                                      );
                        }
                        goto LAB_0010ea8d;
                      }
                      uVar20 = *puVar15;
                      puVar15 = puVar15 + 6;
                    }
                    lVar10 = (long)iVar3 * 0x18;
                    pcVar14 = *(char **)(lVar10 + 0x3182c8);
                    uVar13 = *(undefined4 *)(lVar10 + 0x3182c4);
                    pcVar11 = *(char **)(lVar10 + 0x3182d0);
                    *(undefined4 *)(param_5 + 0x30) = uVar13;
                    if (pcVar14 != (char *)0x0) {
                      local_d8 = strdup(pcVar14);
                      *(uint *)(param_5 + 0x10) = uVar12 | 8;
                    }
                    local_b0 = uVar20;
                    if (pcVar11 != (char *)0x0) {
                      local_d0 = strdup(pcVar11);
                    }
                  }
                  if (DAT_003190d8 != 0) {
                    pcVar14 = "yes";
                    if (local_d8 == (char *)0x0) {
                      pcVar14 = "no";
                    }
                    FUN_00111570("layout_tag 0x%08x found in table, bitmap = 0x%08x, reorder = %s, identities = %s"
                                 ,local_b0,uVar13,pcVar14);
                  }
                }
              }
LAB_0010ea8d:
              free(puVar6);
              bVar27 = true;
            }
            else {
              lVar10 = 4;
              pbVar17 = &local_84;
              pbVar18 = &DAT_00115e60;
              do {
                if (lVar10 == 0) break;
                lVar10 = lVar10 + -1;
                bVar24 = *pbVar17 < *pbVar18;
                bVar23 = *pbVar17 == *pbVar18;
                pbVar17 = pbVar17 + (ulong)bVar28 * -2 + 1;
                pbVar18 = pbVar18 + (ulong)bVar28 * -2 + 1;
              } while (bVar23);
              iVar3 = (int)(char)((!bVar24 && !bVar23) - bVar24);
              if (iVar3 == 0) {
                iVar4 = FUN_00111710(param_1,local_90,4,0);
                if ((iVar4 == 0) || (local_94 != 4)) {
                  FUN_00111570("%s is not a valid .CAF file!",param_2);
                }
                else {
                  uVar12 = *(uint *)(param_5 + 0x10);
                  if ((uVar12 & 0x200) == 0) {
                    iVar4 = WavpackAddWrapper(param_4,local_90,4);
                    if (iVar4 == 0) {
                      uVar8 = WavpackGetErrorMessage(param_4);
                      FUN_00111570("%s",uVar8);
                      goto LAB_0010f00c;
                    }
                    uVar12 = *(uint *)(param_5 + 0x10);
                  }
                  if (((uVar12 & 0x800) == 0) && (local_80 != 0xffffffffffffffff)) {
                    if ((lVar5 == 0) || ((long)(lVar5 - local_80) < 0x1000001)) {
                      lVar5 = (long)(local_80 - 4) / (long)(ulong)local_68;
                      if ((long)(local_80 - 4) % (long)(ulong)local_68 == 0) {
                        if (lVar5 == 0) {
                          FUN_00111570("this .CAF file has no audio samples, probably is corrupt!");
                        }
                        else {
                          if (lVar5 < 0xffffffff00) goto LAB_0010f11a;
                          FUN_00111570("%s has too many samples for WavPack!",param_2);
                        }
                      }
                      else {
                        FUN_00111570(".CAF file %s has an invalid data chunk size, probably is corrupt!"
                                     ,param_2);
                      }
                    }
                    else {
                      FUN_00111570(".CAF file %s has over 16 MB of extra CAFF data, probably is corrupt!"
                                   ,param_2);
                    }
                  }
                  else {
                    *(uint *)(param_5 + 0x10) = uVar12 | 0x800;
                    if ((lVar5 == 0) || (lVar10 = ftell(param_1), lVar10 == -1)) {
                      lVar5 = -1;
                    }
                    else {
                      lVar10 = ftell(param_1);
                      lVar5 = (lVar5 - lVar10) / (long)(ulong)local_68;
                    }
LAB_0010f11a:
                    if ((((!bVar27) && (*(int *)(param_5 + 0x30) == 0)) &&
                        (*(int *)(param_5 + 0x1c) < 3)) && ((*(byte *)(param_5 + 0x11) & 4) == 0)) {
                      *(int *)(param_5 + 0x30) = 5 - *(int *)(param_5 + 0x1c);
                    }
                    iVar4 = WavpackSetConfiguration64(param_4,param_5,lVar5,local_d0);
                    if (iVar4 == 0) goto LAB_0010eaa8;
                    if (local_d0 != (char *)0x0) {
                      free(local_d0);
                    }
                    if ((local_b0 == 0) && (local_d8 == (char *)0x0)) goto LAB_0010e3c7;
                    iVar4 = WavpackSetChannelLayout(param_4,local_b0,local_d8);
                    if (iVar4 != 0) {
                      if (local_d8 != (char *)0x0) {
                        free(local_d8);
                      }
                      goto LAB_0010e3c7;
                    }
                    FUN_00111570("problem with setting channel layout (should not happen)");
                  }
                }
LAB_0010f00c:
                iVar3 = 1;
                goto LAB_0010e3c7;
              }
              if (0x100000 < local_80) goto LAB_0010e3b0;
              __ptr = malloc(local_80);
              if (DAT_003190d8 != 0) {
                FUN_00111570("extra unknown chunk \"%c%c%c%c\" of %d bytes",(int)(char)local_84,
                             (int)local_83,(int)local_82);
              }
              iVar3 = FUN_00111710(param_1,__ptr,uVar7 & 0xffffffff,&local_94);
              if (((iVar3 == 0) || (local_94 != (uint)uVar7)) ||
                 (((*(byte *)(param_5 + 0x11) & 2) == 0 &&
                  (iVar3 = WavpackAddWrapper(param_4,__ptr,uVar7 & 0xffffffff), iVar3 == 0)))) {
                uVar8 = WavpackGetErrorMessage(param_4);
                FUN_00111570("%s",uVar8);
                iVar3 = 1;
                free(__ptr);
                goto LAB_0010e3c7;
              }
              free(__ptr);
            }
            goto LAB_0010e481;
          }
          if (((local_80 != 0x20) ||
              (iVar3 = FUN_00111710(param_1,&local_78,0x20,&local_94), iVar3 == 0)) ||
             (local_94 != local_80)) goto LAB_0010e3b0;
          if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
             (iVar3 = WavpackAddWrapper(param_4,&local_78,(ulong)local_94), iVar3 == 0))
          goto LAB_0010eaa8;
          WavpackBigEndianToNative(&local_78,&DAT_00116478);
          uVar25 = 0;
          uVar22 = DAT_003190d8 == 0;
          if (!(bool)uVar22) {
            local_49 = local_49 & 0xffffff0000000000 | (ulong)local_70;
            FUN_00111570("format = %s, flags = %x, sampling rate = %g",&local_49,local_6c);
            FUN_00111570("packet = %d bytes and %d frames",local_68,local_64);
            uVar25 = 0;
            uVar22 = 1;
            FUN_00111570("channels per frame = %d, bits per channel = %d",local_60,local_5c);
          }
          lVar10 = 4;
          puVar6 = &local_70;
          pbVar17 = &DAT_00116480;
          do {
            if (lVar10 == 0) break;
            lVar10 = lVar10 + -1;
            uVar25 = *(byte *)puVar6 < *pbVar17;
            uVar22 = *(byte *)puVar6 == *pbVar17;
            puVar6 = (uint *)((long)puVar6 + (ulong)bVar28 * -2 + 1);
            pbVar17 = pbVar17 + (ulong)bVar28 * -2 + 1;
          } while ((bool)uVar22);
          iVar3 = (int)(char)((!(bool)uVar25 && !(bool)uVar22) - uVar25);
          if (((iVar3 != 0) || ((local_6c & 0xfffffffc) != 0)) ||
             ((local_78 < 1.0 || (16777215.0 < local_78)))) {
LAB_0010ea50:
            iVar3 = 1;
            FUN_00111570("%s is an unsupported .CAF format!",param_2);
            goto LAB_0010e3c7;
          }
          dVar2 = local_78;
          if ((double)((ulong)local_78 & 0x7fffffffffffffff) < 4503599627370496.0) {
            dVar2 = (double)((ulong)((double)(long)local_78 -
                                    (double)-(ulong)(local_78 < (double)(long)local_78)) |
                            (ulong)local_78 & 0x8000000000000000);
          }
          if (((((local_78 != dVar2) || (0xff < local_60 - 1)) || (0x1f < local_5c - 1U)) ||
              ((local_5c != 0x20 && ((char)(local_6c & 1) != '\0')))) || (local_64 != 1))
          goto LAB_0010ea50;
          uVar12 = (uint)((ulong)local_68 / (ulong)local_60);
          if (((uVar12 < local_5c + 7U >> 3) || (4 < uVar12)) || (local_68 % local_60 != 0))
          goto LAB_0010ea50;
          if ((local_6c & 1) != 0) {
            iVar3 = 0x7f;
          }
          *(uint *)(param_5 + 0xc) = uVar12;
          *(int *)(param_5 + 0x20) = iVar3;
          *(int *)(param_5 + 8) = local_5c;
          *(uint *)(param_5 + 0x1c) = local_60;
          *(int *)(param_5 + 0x2c) = (int)local_78;
          if (((local_6c & 2) == 0) && (uVar12 != 1)) {
            *(uint *)(param_5 + 0x10) = *(uint *)(param_5 + 0x10) | 1;
          }
          if (uVar12 == 1) {
            *(uint *)(param_5 + 0x10) = *(uint *)(param_5 + 0x10) | 2;
          }
          if (DAT_003190d8 != 0) {
            uVar12 = *(uint *)(param_5 + 0x10) & 1;
            if (iVar3 == 0x7f) {
              pcVar14 = "little";
              if (uVar12 != 0) {
                pcVar14 = "big";
              }
              FUN_00111570("data format: 32-bit %s-endian floating point",pcVar14);
            }
            else {
              pcVar14 = "little";
              if (uVar12 != 0) {
                pcVar14 = "big";
              }
              FUN_00111570("data format: %d-bit %s-endian integers stored in %d byte(s)",local_5c,
                           pcVar14,(ulong)local_68 / (ulong)local_60);
            }
          }
        } while( true );
      }
      iVar3 = 1;
      FUN_00111570("%s: can\'t handle version %d .CAF files!",param_2);
    }
  }
LAB_0010e3c7:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return iVar3;
}



undefined8 FUN_0010f2c0(undefined8 param_1,undefined8 param_2,long param_3,uint param_4)

{
  char cVar1;
  byte bVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  undefined4 uVar7;
  int iVar8;
  uint uVar9;
  int iVar10;
  uint uVar11;
  char *__ptr;
  char *pcVar12;
  undefined8 uVar13;
  void *__ptr_00;
  long lVar14;
  uint *puVar15;
  long lVar16;
  long in_FS_OFFSET;
  bool bVar17;
  byte bVar18;
  undefined4 local_bc;
  int local_b8;
  ulong local_b4;
  int local_ac;
  undefined4 local_a8;
  undefined4 local_a4;
  undefined4 local_a0;
  undefined8 local_9c;
  undefined4 local_94;
  long local_90;
  uint local_88;
  long local_84;
  double local_68;
  undefined4 local_60;
  uint local_5c;
  int local_58;
  undefined4 local_54;
  int local_50;
  undefined4 local_4c;
  long local_40;
  
  bVar18 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar3 = WavpackGetNumChannels(param_2);
  uVar4 = WavpackGetChannelMask(param_2);
  iVar5 = WavpackGetSampleRate(param_2);
  iVar6 = WavpackGetBytesPerSample(param_2);
  uVar7 = WavpackGetBitsPerSample(param_2);
  iVar8 = WavpackGetFloatNormExp(param_2);
  uVar9 = WavpackGetChannelLayout(param_2,0);
  __ptr = (char *)malloc((long)(iVar3 + 1));
  bVar17 = iVar8 != 0;
  if ((iVar8 != 0x7f) && (bVar17)) {
    FUN_00111570("can\'t create valid CAFF header for non-normalized floating data!");
    free(__ptr);
    uVar13 = 0;
    goto LAB_0010f37f;
  }
  WavpackGetChannelIdentities(param_2,__ptr);
  if (iVar3 < 1) {
    iVar8 = 0;
  }
  else {
    iVar8 = 0;
    pcVar12 = __ptr;
    do {
      cVar1 = *pcVar12;
      pcVar12 = pcVar12 + 1;
      iVar8 = iVar8 + (uint)(cVar1 != -1);
    } while (__ptr + (ulong)(iVar3 - 1) + 1 != pcVar12);
  }
  local_a8 = 0x66666163;
  local_a4 = 1;
  WavpackNativeToBigEndian(&local_a8,&DAT_0011646c);
  iVar10 = FUN_00111780(param_1,&local_a8,8,&local_b8);
  if ((iVar10 != 0) && (local_b8 == 8)) {
    local_a0 = 0x63736564;
    local_9c = 0x20;
    WavpackNativeToBigEndian(&local_a0,&DAT_00116470);
    iVar10 = FUN_00111780(param_1,&local_a0,0xc,&local_b8);
    if ((iVar10 != 0) && (local_b8 == 0xc)) {
      local_60 = 0x6d63706c;
      local_54 = 1;
      local_68 = (double)iVar5;
      local_5c = (uint)bVar17;
      if ((param_4 & 1) == 0) {
        local_5c = bVar17 | 2;
      }
      local_58 = iVar6 * iVar3;
      local_50 = iVar3;
      local_4c = uVar7;
      WavpackNativeToBigEndian(&local_68,&DAT_00116478);
      iVar5 = FUN_00111780(param_1,&local_68,0x20,0);
      if ((iVar5 != 0) && (local_b8 == 0x20)) {
        if (uVar9 == 0) {
          if (iVar3 < 3) {
            if (5U - iVar3 != uVar4) goto LAB_0010f635;
          }
          else {
            if (iVar8 != 0) goto LAB_0010f635;
          }
LAB_0010f56b:
          local_88 = 0x61746164;
          local_84 = param_3;
          if (param_3 != -1) {
            local_84 = iVar6 * param_3 * (long)iVar3 + 4;
          }
          WavpackNativeToBigEndian(&local_88,&DAT_00116470);
          iVar3 = FUN_00111780(param_1,&local_88,0xc,&local_b8);
          if ((iVar3 != 0) && (local_b8 == 0xc)) {
            local_bc = 0;
            WavpackNativeToBigEndian(&local_bc,&DAT_00115e2f);
            iVar3 = FUN_00111780(param_1,&local_bc,4,&local_b8);
            if ((iVar3 != 0) && (local_b8 == 4)) {
              free(__ptr);
              uVar13 = 1;
              goto LAB_0010f37f;
            }
          }
        }
        else {
LAB_0010f635:
          iVar8 = 0x20;
          uVar11 = 1;
          iVar5 = 0;
          do {
            iVar5 = (iVar5 + 1) - (uint)((uVar4 & uVar11) == 0);
            uVar11 = uVar11 * 2;
            iVar8 = iVar8 + -1;
          } while (iVar8 != 0);
          if ((uVar9 & 0xff0000) != 0) {
LAB_0010f810:
            local_94 = 0x6e616863;
            local_90 = 0xc;
            WavpackNativeToBigEndian(&local_94,&DAT_00116470);
            iVar5 = FUN_00111780(param_1,&local_94,0xc,&local_b8);
            if ((iVar5 != 0) && (local_b8 == 0xc)) {
              if (uVar9 == 0) {
                if (DAT_003190d8 != 0) {
                  FUN_00111570("writing \"chan\" chunk with UseChannelBitmap tag, bitmap = 0x%08x",
                               uVar4);
                }
                local_b4 = CONCAT44(uVar4,0x10000);
              }
              else {
                if (DAT_003190d8 != 0) {
                  FUN_00111570("writing \"chan\" chunk with layout tag 0x%08x",uVar9);
                }
                local_b4 = (ulong)uVar9;
              }
              local_ac = 0;
              WavpackNativeToBigEndian(&local_b4,&DAT_0011647c);
              iVar5 = FUN_00111780(param_1,&local_b4,0xc,&local_b8);
              if (iVar5 != 0) {
                if (local_b8 != 0xc) {
                  uVar13 = 0;
                  goto LAB_0010f37f;
                }
                goto LAB_0010f56b;
              }
            }
            goto LAB_0010f440;
          }
          if (iVar5 == iVar3) {
            if ((param_4 & 8) == 0) goto LAB_0010f810;
            pcVar12 = "yes";
            if (DAT_003190d8 != 0) goto LAB_0010f693;
LAB_0010f8ff:
            __ptr_00 = (void *)0x0;
            if ((int)(uVar9 & 0xff) <= iVar3) {
              __ptr_00 = malloc((long)iVar3);
              if (iVar3 != 0) {
                lVar16 = 0;
                do {
                  *(char *)((long)__ptr_00 + lVar16) = (char)lVar16;
                  lVar16 = lVar16 + 1;
                } while (lVar16 != (ulong)(iVar3 - 1) + 1);
              }
              WavpackGetChannelLayout(param_2,__ptr_00);
            }
          }
          else {
            if (DAT_003190d8 != 0) {
              pcVar12 = "no";
              if ((param_4 & 8) != 0) {
                pcVar12 = "yes";
              }
LAB_0010f693:
              FUN_00111570("writing \"chan\" chunk with UseChannelDescriptions tag, bitmap = 0x%08x, reordered = %s"
                           ,uVar4,pcVar12);
            }
            __ptr_00 = (void *)0x0;
            if ((param_4 & 8) != 0) goto LAB_0010f8ff;
          }
          local_94 = 0x6e616863;
          local_90 = (long)iVar3 * 0x14 + 0xc;
          WavpackNativeToBigEndian(&local_94,&DAT_00116470);
          iVar5 = FUN_00111780(param_1,&local_94,0xc,&local_b8);
          if ((iVar5 != 0) && (local_b8 == 0xc)) {
            local_b4 = 0;
            local_ac = iVar3;
            WavpackNativeToBigEndian(&local_b4,&DAT_0011647c);
            iVar5 = FUN_00111780(param_1,&local_b4,0xc,&local_b8);
            if ((iVar5 != 0) && (local_b8 == 0xc)) {
              lVar16 = 0;
              while ((int)lVar16 < iVar3) {
                if (__ptr_00 == (void *)0x0) {
                  bVar2 = __ptr[lVar16];
                }
                else {
                  bVar2 = __ptr[*(byte *)((long)__ptr_00 + lVar16)];
                }
                lVar14 = 5;
                puVar15 = &local_88;
                while (lVar14 != 0) {
                  lVar14 = lVar14 + -1;
                  *puVar15 = 0;
                  puVar15 = puVar15 + (ulong)bVar18 * -2 + 1;
                }
                if ((((byte)(bVar2 - 1) < 0x12) || ((byte)(bVar2 - 0x21) < 0xc)) ||
                   ((byte)(bVar2 + 0x38) < 8)) {
                  local_88 = (uint)bVar2;
                }
                else {
                  if ((byte)(bVar2 + 0x23) < 5) {
                    local_88 = bVar2 + 0x50;
                  }
                }
                if (DAT_003190d8 != 0) {
                  FUN_00111570("chan %d --> %d",(int)lVar16 + 1,local_88);
                }
                WavpackNativeToBigEndian(&local_88,&DAT_0011647a);
                iVar5 = FUN_00111780(param_1,&local_88,0x14,&local_b8);
                if ((iVar5 == 0) || (local_b8 != 0x14)) goto LAB_0010f440;
                lVar16 = lVar16 + 1;
              }
              if (__ptr_00 != (void *)0x0) {
                free(__ptr_00);
              }
              goto LAB_0010f56b;
            }
          }
        }
      }
    }
  }
LAB_0010f440:
  uVar13 = 0;
LAB_0010f37f:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return uVar13;
}



int FUN_0010f9e0(undefined8 param_1,undefined8 param_2,undefined4 *param_3,undefined8 param_4,
                long param_5)

{
  ushort uVar1;
  int iVar2;
  int iVar3;
  long lVar4;
  byte *pbVar5;
  void *__ptr;
  byte *pbVar6;
  byte *pbVar7;
  undefined8 uVar8;
  long lVar9;
  uint uVar10;
  undefined8 *puVar11;
  byte *pbVar12;
  char *pcVar13;
  byte *pbVar14;
  byte *pbVar15;
  size_t __size;
  undefined8 *puVar16;
  undefined8 *puVar17;
  ushort uVar18;
  long in_FS_OFFSET;
  bool bVar19;
  undefined uVar20;
  bool bVar21;
  bool bVar22;
  undefined uVar23;
  bool bVar24;
  byte bVar25;
  ushort local_6e;
  uint local_6c;
  uint local_68;
  byte local_64;
  char cStack99;
  char cStack98;
  undefined uStack97;
  int iStack96;
  undefined4 uStack92;
  undefined4 local_58;
  long local_54;
  byte local_4c [12];
  long local_40;
  
  bVar25 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar4 = FUN_001117f0(local_40);
  local_58 = *param_3;
  iVar2 = FUN_00111710(param_1,&local_54,0xc,&local_6c);
  if (iVar2 != 0) {
    bVar19 = local_6c < 0xc;
    bVar22 = local_6c == 0xc;
    if (bVar22) {
      lVar9 = 4;
      pbVar5 = local_4c;
      pbVar6 = &DAT_00112f64;
      do {
        if (lVar9 == 0) break;
        lVar9 = lVar9 + -1;
        bVar19 = *pbVar5 < *pbVar6;
        bVar22 = *pbVar5 == *pbVar6;
        pbVar5 = pbVar5 + (ulong)bVar25 * -2 + 1;
        pbVar6 = pbVar6 + (ulong)bVar25 * -2 + 1;
      } while (bVar22);
      if ((!bVar19 && !bVar22) == bVar19) {
        if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
           (iVar2 = WavpackAddWrapper(param_4,&local_58,0x10), iVar2 == 0)) {
LAB_00110298:
          iVar2 = 1;
          uVar8 = WavpackGetErrorMessage(param_4);
          FUN_00111570("%s",uVar8);
          goto LAB_0010fa62;
        }
        WavpackBigEndianToNative(&local_58,&DAT_00116b5d);
        if ((lVar4 != 0) &&
           ((((*(byte *)(param_5 + 0x11) & 8) == 0 && (1 < local_54 + 1U)) &&
            (local_54 + 0xc != lVar4)))) {
          iVar2 = 1;
          FUN_00111570("%s is not a valid .DFF file (by total size)!",param_2);
          goto LAB_0010fa62;
        }
        if (DAT_003190d8 != 0) {
          FUN_00111570("file header indicated length = %lld",local_54);
        }
        while ((iVar2 = FUN_00111710(param_1,&local_64,0xc,&local_6c), iVar2 != 0 &&
               (local_6c == 0xc))) {
          if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
             (iVar2 = WavpackAddWrapper(param_4,&local_64,0xc), iVar2 == 0)) goto LAB_00110298;
          WavpackBigEndianToNative(&local_64,&DAT_00116470);
          uVar20 = 0;
          uVar23 = DAT_003190d8 == 0;
          if (!(bool)uVar23) {
            uVar20 = 0;
            uVar23 = 1;
            FUN_00111570("chunk header indicated length = %lld",CONCAT44(uStack92,iStack96));
          }
          lVar4 = 4;
          __size = CONCAT44(uStack92,iStack96);
          pbVar5 = &local_64;
          pbVar6 = &DAT_00116b61;
          do {
            if (lVar4 == 0) break;
            lVar4 = lVar4 + -1;
            uVar20 = *pbVar5 < *pbVar6;
            uVar23 = *pbVar5 == *pbVar6;
            pbVar5 = pbVar5 + (ulong)bVar25 * -2 + 1;
            pbVar6 = pbVar6 + (ulong)bVar25 * -2 + 1;
          } while ((bool)uVar23);
          bVar19 = false;
          bVar22 = (!(bool)uVar20 && !(bool)uVar23) == (bool)uVar20;
          if (bVar22) {
            if (__size != 4) {
LAB_001102c0:
              FUN_00111570("%s is not a valid .DFF file!",param_2);
              goto LAB_0010ff60;
            }
            iVar2 = FUN_00111710(param_1,&local_68,4,&local_6c);
            if ((iVar2 == 0) || (local_6c != 4)) goto LAB_001102c0;
            if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
               (iVar2 = WavpackAddWrapper(param_4,&local_68,4), iVar2 == 0)) {
              uVar8 = WavpackGetErrorMessage(param_4);
              FUN_00111570("%s",uVar8);
              goto LAB_0010ff60;
            }
            WavpackBigEndianToNative(&local_68,&DAT_00115e2f);
            if (DAT_003190d8 != 0) {
              FUN_00111570("dsdiff file version = 0x%08x",local_68);
            }
          }
          else {
            lVar4 = 4;
            pbVar5 = &local_64;
            pbVar6 = &DAT_00116b83;
            do {
              if (lVar4 == 0) break;
              lVar4 = lVar4 + -1;
              bVar19 = *pbVar5 < *pbVar6;
              bVar22 = *pbVar5 == *pbVar6;
              pbVar5 = pbVar5 + (ulong)bVar25 * -2 + 1;
              pbVar6 = pbVar6 + (ulong)bVar25 * -2 + 1;
            } while (bVar22);
            bVar21 = false;
            bVar19 = (!bVar19 && !bVar22) == bVar19;
            if (bVar19) {
              if (0x3fc < __size - 4) break;
              if (DAT_003190d8 != 0) {
                FUN_00111570("got PROP chunk of %d bytes total",iStack96);
                __size = CONCAT44(uStack92,iStack96);
              }
              pbVar5 = (byte *)malloc(__size);
              iVar2 = FUN_00111710(param_1,pbVar5,__size & 0xffffffff,&local_6c);
              if ((iVar2 == 0) || ((ulong)local_6c != CONCAT44(uStack92,iStack96))) {
                pcVar13 = "%s is not a valid .DFF file!";
LAB_0011018b:
                iVar2 = 1;
                FUN_00111570(pcVar13,param_2);
                free(pbVar5);
                goto LAB_0010fa62;
              }
              bVar19 = (*(byte *)(param_5 + 0x11) & 2) == 0;
              if (bVar19) {
                iVar2 = WavpackAddWrapper(param_4,pbVar5);
                bVar19 = iVar2 == 0;
                if (bVar19) {
                  param_2 = WavpackGetErrorMessage(param_4);
                  pcVar13 = "%s";
                  goto LAB_0011018b;
                }
              }
              bVar22 = false;
              lVar4 = 4;
              pbVar6 = pbVar5;
              pbVar14 = &DAT_00116b88;
              do {
                if (lVar4 == 0) break;
                lVar4 = lVar4 + -1;
                bVar22 = *pbVar6 < *pbVar14;
                bVar19 = *pbVar6 == *pbVar14;
                pbVar6 = pbVar6 + (ulong)bVar25 * -2 + 1;
                pbVar14 = pbVar14 + (ulong)bVar25 * -2 + 1;
              } while (bVar19);
              if ((!bVar22 && !bVar19) == bVar22) {
                uVar18 = 0;
                puVar17 = (undefined8 *)(pbVar5 + 4);
                pbVar6 = pbVar5 + CONCAT44(uStack92,iStack96);
LAB_0010fde4:
                puVar16 = puVar17;
                if ((byte *)0xb < pbVar6 + -(long)puVar17) {
                  do {
                    uVar8 = *puVar16;
                    pbVar14 = (byte *)((long)puVar16 + 0xc);
                    local_64 = (byte)uVar8;
                    cStack99 = (char)((ulong)uVar8 >> 8);
                    cStack98 = (char)((ulong)uVar8 >> 0x10);
                    uStack97 = (undefined)((ulong)uVar8 >> 0x18);
                    iStack96 = (int)((ulong)uVar8 >> 0x20);
                    uStack92 = *(undefined4 *)(puVar16 + 1);
                    WavpackBigEndianToNative(&local_64,&DAT_00116470);
                    pbVar15 = (byte *)CONCAT44(uStack92,iStack96);
                    if ((long)pbVar15 < 1) goto LAB_00110240;
                    pbVar7 = pbVar6 + -(long)pbVar14;
                    bVar19 = pbVar15 < pbVar7;
                    bVar22 = pbVar15 == pbVar7;
                    if (!bVar22 && (long)pbVar7 <= (long)pbVar15) goto LAB_00110240;
                    lVar4 = 4;
                    pbVar7 = &local_64;
                    pbVar12 = &DAT_00116b8d;
                    do {
                      if (lVar4 == 0) break;
                      lVar4 = lVar4 + -1;
                      bVar19 = *pbVar7 < *pbVar12;
                      bVar22 = *pbVar7 == *pbVar12;
                      pbVar7 = pbVar7 + (ulong)bVar25 * -2 + 1;
                      pbVar12 = pbVar12 + (ulong)bVar25 * -2 + 1;
                    } while (bVar22);
                    bVar21 = false;
                    bVar19 = (!bVar19 && !bVar22) == bVar19;
                    if (bVar19) {
                      bVar21 = pbVar15 < (byte *)0x4;
                      bVar19 = pbVar15 == (byte *)0x4;
                      if (bVar19) {
                        local_68 = *(uint *)((long)puVar16 + 0xc);
                        WavpackBigEndianToNative(&local_68);
                        puVar17 = (undefined8 *)(pbVar14 + CONCAT44(uStack92,iStack96));
                        if (DAT_003190d8 != 0) {
                          FUN_00111570("got sample rate of %u Hz");
                        }
                        goto LAB_0010fde4;
                      }
                    }
                    lVar4 = 4;
                    pbVar7 = &local_64;
                    pbVar12 = &DAT_00116bab;
                    do {
                      if (lVar4 == 0) break;
                      lVar4 = lVar4 + -1;
                      bVar21 = *pbVar7 < *pbVar12;
                      bVar19 = *pbVar7 == *pbVar12;
                      pbVar7 = pbVar7 + (ulong)bVar25 * -2 + 1;
                      pbVar12 = pbVar12 + (ulong)bVar25 * -2 + 1;
                    } while (bVar19);
                    bVar22 = pbVar15 == (byte *)0x0;
                    bVar24 = pbVar15 == (byte *)0x1;
                    if (1 < (long)pbVar15) {
                      bVar22 = false;
                      bVar24 = (!bVar21 && !bVar19) == bVar21;
                      if (bVar24) goto LAB_0010ffa0;
                    }
                    lVar4 = 4;
                    pbVar7 = &local_64;
                    pbVar12 = &DAT_00116c11;
                    do {
                      if (lVar4 == 0) break;
                      lVar4 = lVar4 + -1;
                      bVar22 = *pbVar7 < *pbVar12;
                      bVar24 = *pbVar7 == *pbVar12;
                      pbVar7 = pbVar7 + (ulong)bVar25 * -2 + 1;
                      pbVar12 = pbVar12 + (ulong)bVar25 * -2 + 1;
                    } while (bVar24);
                    if ((long)pbVar15 < 4) {
LAB_0010fea9:
                      if (DAT_003190d8 != 0) {
                        FUN_00111570("got PROP/SND chunk type \"%c%c%c%c\" of %d bytes",
                                     (int)(char)local_64,(int)cStack99,(int)cStack98);
                        pbVar15 = (byte *)CONCAT44(uStack92,iStack96);
                      }
                    }
                    else {
                      bVar19 = false;
                      bVar22 = (!bVar22 && !bVar24) == bVar22;
                      if (!bVar22) goto LAB_0010fea9;
                      lVar4 = 4;
                      pbVar7 = pbVar14;
                      pbVar12 = &DAT_00112f64;
                      do {
                        if (lVar4 == 0) break;
                        lVar4 = lVar4 + -1;
                        bVar19 = *pbVar7 < *pbVar12;
                        bVar22 = *pbVar7 == *pbVar12;
                        pbVar7 = pbVar7 + (ulong)bVar25 * -2 + 1;
                        pbVar12 = pbVar12 + (ulong)bVar25 * -2 + 1;
                      } while (bVar22);
                      if ((!bVar19 && !bVar22) != bVar19) {
                        FUN_00111570("DSDIFF files must be uncompressed, not \"%c%c%c%c\"!",
                                     (int)(char)*(byte *)((long)puVar16 + 0xc),
                                     (int)(char)*(byte *)((long)puVar16 + 0xd),
                                     (int)(char)*(byte *)((long)puVar16 + 0xe),
                                     (int)(char)*(byte *)((long)puVar16 + 0xf));
                        free(pbVar5);
                        goto LAB_0010ff60;
                      }
                    }
                    puVar16 = (undefined8 *)(pbVar14 + (long)pbVar15);
                    if (pbVar6 + -(long)puVar16 < (byte *)0xc) break;
                  } while( true );
                }
                if (uVar18 != 0) {
                  if ((*(int *)(param_5 + 0x30) == 0) &&
                     (uVar10 = *(uint *)(param_5 + 0x10), (uVar10 & 0x400) == 0)) {
                    *(uint *)(param_5 + 0x30) = (uint)uVar18;
                    goto LAB_0010fedd;
                  }
                  FUN_00111570("this DSDIFF file already has channel order information!");
                  free(pbVar5);
                  goto LAB_0010ff60;
                }
                uVar10 = *(uint *)(param_5 + 0x10);
LAB_0010fedd:
                *(undefined8 *)(param_5 + 8) = 0x100000008;
                *(uint *)(param_5 + 0x10) = uVar10 | 0x20;
                *(uint *)(param_5 + 0x1c) = (uint)local_6e;
                *(uint *)(param_5 + 0x2c) = local_68 >> 3;
                goto LAB_0010fcc8;
              }
              if (DAT_003190d8 != 0) {
                FUN_00111570("got unknown PROP chunk type \"%c%c%c%c\" of %d bytes",
                             (int)(char)*pbVar5,(int)(char)pbVar5[1],(int)(char)pbVar5[2]);
              }
LAB_0010fcc8:
              free(pbVar5);
            }
            else {
              lVar4 = 4;
              pbVar5 = &local_64;
              pbVar6 = &DAT_00112f64;
              do {
                if (lVar4 == 0) break;
                lVar4 = lVar4 + -1;
                bVar21 = *pbVar5 < *pbVar6;
                bVar19 = *pbVar5 == *pbVar6;
                pbVar5 = pbVar5 + (ulong)bVar25 * -2 + 1;
                pbVar6 = pbVar6 + (ulong)bVar25 * -2 + 1;
              } while (bVar19);
              iVar2 = (int)(char)((!bVar21 && !bVar19) - bVar21);
              if (iVar2 == 0) {
                lVar4 = (long)__size / (long)*(int *)(param_5 + 0x1c);
                if (DAT_003190d8 != 0) {
                  FUN_00111570("setting configuration with %lld samples",lVar4);
                }
                iVar3 = WavpackSetConfiguration64(param_4,param_5,lVar4,0);
                if (iVar3 == 0) {
                  uVar8 = WavpackGetErrorMessage(param_4);
                  FUN_00111570("%s: %s",param_2,uVar8);
LAB_0010ff60:
                  iVar2 = 1;
                }
                goto LAB_0010fa62;
              }
              uVar10 = iStack96 + 1U & 0xfffffffe;
              if (0x400000 < uVar10) break;
              __ptr = malloc((long)(int)uVar10);
              if (DAT_003190d8 != 0) {
                FUN_00111570("extra unknown chunk \"%c%c%c%c\" of %d bytes",(int)(char)local_64,
                             (int)cStack99,(int)cStack98);
              }
              iVar2 = FUN_00111710(param_1,__ptr,uVar10,&local_6c);
              if (((iVar2 == 0) || (uVar10 != local_6c)) ||
                 (((*(byte *)(param_5 + 0x11) & 2) == 0 &&
                  (iVar2 = WavpackAddWrapper(param_4,__ptr,uVar10), iVar2 == 0)))) {
                iVar2 = 1;
                uVar8 = WavpackGetErrorMessage(param_4);
                FUN_00111570("%s",uVar8);
                free(__ptr);
                goto LAB_0010fa62;
              }
              free(__ptr);
            }
          }
        }
      }
    }
  }
  iVar2 = 1;
  FUN_00111570("%s is not a valid .DFF file!",param_2);
LAB_0010fa62:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return iVar2;
LAB_0010ffa0:
  local_6e = *(ushort *)((long)puVar16 + 0xc);
  puVar17 = (undefined8 *)((long)puVar16 + 0xe);
  WavpackBigEndianToNative(&local_6e);
  iVar2 = iStack96 + 1;
  if (-1 < iStack96 + -2) {
    iVar2 = iStack96 + -2;
  }
  if ((local_6e == 0) || (uVar1 = (ushort)(iVar2 >> 2), local_6e < uVar1)) {
LAB_00110240:
    FUN_00111570("%s is not a valid .DFF file!",param_2);
    free(pbVar5);
    goto LAB_0010ff60;
  }
  bVar19 = false;
  bVar22 = uVar1 == 0;
  iVar2 = DAT_003190d8;
  if (!bVar22) {
    puVar16 = (undefined8 *)((long)puVar16 + (ulong)(ushort)(uVar1 - 1) * 4 + 0x12);
    do {
      lVar4 = 4;
      puVar11 = puVar17;
      pbVar14 = &DAT_00116bb0;
      do {
        if (lVar4 == 0) break;
        lVar4 = lVar4 + -1;
        bVar19 = *(byte *)puVar11 < *pbVar14;
        bVar22 = *(byte *)puVar11 == *pbVar14;
        puVar11 = (undefined8 *)((long)puVar11 + (ulong)bVar25 * -2 + 1);
        pbVar14 = pbVar14 + (ulong)bVar25 * -2 + 1;
      } while (bVar22);
      bVar21 = false;
      bVar19 = (!bVar19 && !bVar22) == bVar19;
      if (bVar19) {
LAB_001100d0:
        uVar18 = uVar18 | 1;
      }
      else {
        lVar4 = 4;
        puVar11 = puVar17;
        pbVar14 = &DAT_00116bb5;
        do {
          if (lVar4 == 0) break;
          lVar4 = lVar4 + -1;
          bVar21 = *(byte *)puVar11 < *pbVar14;
          bVar19 = *(byte *)puVar11 == *pbVar14;
          puVar11 = (undefined8 *)((long)puVar11 + (ulong)bVar25 * -2 + 1);
          pbVar14 = pbVar14 + (ulong)bVar25 * -2 + 1;
        } while (bVar19);
        bVar22 = false;
        bVar19 = (!bVar21 && !bVar19) == bVar21;
        if (bVar19) goto LAB_001100d0;
        lVar4 = 4;
        puVar11 = puVar17;
        pbVar14 = &DAT_00116bba;
        do {
          if (lVar4 == 0) break;
          lVar4 = lVar4 + -1;
          bVar22 = *(byte *)puVar11 < *pbVar14;
          bVar19 = *(byte *)puVar11 == *pbVar14;
          puVar11 = (undefined8 *)((long)puVar11 + (ulong)bVar25 * -2 + 1);
          pbVar14 = pbVar14 + (ulong)bVar25 * -2 + 1;
        } while (bVar19);
        bVar21 = false;
        bVar19 = (!bVar22 && !bVar19) == bVar22;
        if (bVar19) {
LAB_0011008c:
          uVar18 = uVar18 | 2;
        }
        else {
          lVar4 = 4;
          puVar11 = puVar17;
          pbVar14 = &DAT_00116bbf;
          do {
            if (lVar4 == 0) break;
            lVar4 = lVar4 + -1;
            bVar21 = *(byte *)puVar11 < *pbVar14;
            bVar19 = *(byte *)puVar11 == *pbVar14;
            puVar11 = (undefined8 *)((long)puVar11 + (ulong)bVar25 * -2 + 1);
            pbVar14 = pbVar14 + (ulong)bVar25 * -2 + 1;
          } while (bVar19);
          bVar22 = false;
          bVar19 = (!bVar21 && !bVar19) == bVar21;
          if (bVar19) goto LAB_0011008c;
          lVar4 = 4;
          puVar11 = puVar17;
          pbVar14 = &DAT_00116bc4;
          do {
            if (lVar4 == 0) break;
            lVar4 = lVar4 + -1;
            bVar22 = *(byte *)puVar11 < *pbVar14;
            bVar19 = *(byte *)puVar11 == *pbVar14;
            puVar11 = (undefined8 *)((long)puVar11 + (ulong)bVar25 * -2 + 1);
            pbVar14 = pbVar14 + (ulong)bVar25 * -2 + 1;
          } while (bVar19);
          bVar21 = false;
          bVar19 = (!bVar22 && !bVar19) == bVar22;
          if (bVar19) {
            uVar18 = uVar18 | 0x10;
          }
          else {
            lVar4 = 4;
            puVar11 = puVar17;
            pbVar14 = &DAT_00116bc9;
            do {
              if (lVar4 == 0) break;
              lVar4 = lVar4 + -1;
              bVar21 = *(byte *)puVar11 < *pbVar14;
              bVar19 = *(byte *)puVar11 == *pbVar14;
              puVar11 = (undefined8 *)((long)puVar11 + (ulong)bVar25 * -2 + 1);
              pbVar14 = pbVar14 + (ulong)bVar25 * -2 + 1;
            } while (bVar19);
            bVar22 = false;
            bVar19 = (!bVar21 && !bVar19) == bVar21;
            if (bVar19) {
              uVar18 = uVar18 | 0x20;
            }
            else {
              lVar4 = 4;
              puVar11 = puVar17;
              pbVar14 = &DAT_00116bce;
              do {
                if (lVar4 == 0) break;
                lVar4 = lVar4 + -1;
                bVar22 = *(byte *)puVar11 < *pbVar14;
                bVar19 = *(byte *)puVar11 == *pbVar14;
                puVar11 = (undefined8 *)((long)puVar11 + (ulong)bVar25 * -2 + 1);
                pbVar14 = pbVar14 + (ulong)bVar25 * -2 + 1;
              } while (bVar19);
              bVar21 = false;
              bVar19 = (!bVar22 && !bVar19) == bVar22;
              if (bVar19) {
                uVar18 = uVar18 | 4;
              }
              else {
                lVar4 = 4;
                puVar11 = puVar17;
                pbVar14 = &DAT_00116bd3;
                do {
                  if (lVar4 == 0) break;
                  lVar4 = lVar4 + -1;
                  bVar21 = *(byte *)puVar11 < *pbVar14;
                  bVar19 = *(byte *)puVar11 == *pbVar14;
                  puVar11 = (undefined8 *)((long)puVar11 + (ulong)bVar25 * -2 + 1);
                  pbVar14 = pbVar14 + (ulong)bVar25 * -2 + 1;
                } while (bVar19);
                if ((!bVar21 && !bVar19) == bVar21) {
                  uVar18 = uVar18 | 8;
                }
                else {
                  if (iVar2 != 0) {
                    FUN_00111570("undefined channel ID %c%c%c%c",(int)(char)*(byte *)puVar17,
                                 (int)(char)*(byte *)((long)puVar17 + 1),
                                 (int)(char)*(byte *)((long)puVar17 + 2));
                    iVar2 = DAT_003190d8;
                  }
                }
              }
            }
          }
        }
      }
      puVar17 = (undefined8 *)((long)puVar17 + 4);
      bVar19 = puVar16 < puVar17;
      bVar22 = puVar16 == puVar17;
    } while (!bVar22);
  }
  if (iVar2 != 0) {
    FUN_00111570("%d channels, mask = 0x%08x",local_6e,uVar18);
  }
  goto LAB_0010fde4;
}



undefined8 FUN_001104c0(undefined8 param_1,undefined8 param_2,long param_3,undefined4 param_4)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  undefined4 *__ptr;
  undefined8 uVar7;
  undefined4 *puVar8;
  undefined4 *puVar9;
  undefined4 *puVar10;
  ulong uVar11;
  size_t __size;
  long in_FS_OFFSET;
  int local_b8;
  undefined4 local_b2;
  long local_ae;
  undefined4 local_a6;
  long local_a2;
  undefined2 local_9a;
  undefined4 local_98;
  long local_94;
  undefined4 local_8c;
  undefined4 local_88;
  long local_84;
  undefined4 local_7c;
  undefined4 local_78;
  undefined8 local_74;
  undefined4 local_6c;
  undefined4 local_68;
  undefined8 local_64;
  int local_5c;
  undefined4 local_58;
  undefined8 local_54;
  undefined4 local_4c;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  uVar2 = WavpackGetChannelMask(param_2);
  iVar3 = WavpackGetNumChannels(param_2);
  if (DAT_003190d8 != 0) {
    FUN_00111570("WriteDsdiffHeader (), total samples = %lld, qmode = 0x%02x\n",param_3,param_4);
  }
  iVar4 = iVar3 * 4;
  __size = SEXT48(iVar4);
  __ptr = (undefined4 *)malloc(__size);
  if (__ptr == (undefined4 *)0x0) {
    FUN_00111570("can\'t allocate memory!");
    uVar7 = 0;
  }
  else {
    if (0 < iVar3) {
      puVar10 = (undefined4 *)&DAT_00116bba;
      puVar9 = (undefined4 *)&DAT_00116bb0;
      if (2 < iVar3) {
        puVar10 = (undefined4 *)&DAT_00116bbf;
        puVar9 = (undefined4 *)&DAT_00116bb5;
      }
      uVar11 = 0;
      uVar5 = 1;
      puVar8 = __ptr;
LAB_00110584:
      if (uVar5 == 0) goto LAB_001107ce;
      do {
        if ((uVar2 & uVar5) == 0) {
          do {
            uVar6 = uVar5;
            uVar5 = uVar6 * 2;
            if (uVar5 == 0) {
              uVar6 = 0;
              goto LAB_001105b3;
            }
          } while ((uVar2 & uVar5) == 0);
          uVar1 = uVar6 << 2;
          uVar6 = uVar5;
LAB_001107ab:
          uVar5 = uVar1;
          if ((uVar6 & 2) == 0) {
            if ((uVar6 & 4) == 0) {
              if ((uVar6 & 8) == 0) goto LAB_001105b3;
              *puVar8 = 0x2045464c;
            }
            else {
              *puVar8 = 0x20202043;
            }
          }
          else {
            *puVar8 = *puVar10;
          }
        }
        else {
          uVar1 = uVar5 * 2;
          uVar6 = uVar5;
          if ((uVar5 & 1) == 0) goto LAB_001107ab;
          *puVar8 = *puVar9;
          uVar5 = uVar5 * 2;
        }
        while( true ) {
          puVar8 = puVar8 + 1;
          if (puVar8 == __ptr + (ulong)(iVar3 - 1) + 1) goto LAB_001105d0;
          if (uVar5 != 0) break;
LAB_001107ce:
          uVar6 = uVar5;
          uVar5 = 0;
LAB_001107d0:
          if ((uVar6 & 0x20) == 0) {
            *(undefined *)puVar8 = 0x43;
            *(char *)((long)puVar8 + 1) = (char)(uVar11 / 100) + '0';
            *(char *)((long)puVar8 + 2) =
                 (char)((ulong)(uint)((int)uVar11 + (int)(uVar11 / 100) * -100) / 10) + '0';
            *(char *)((long)puVar8 + 3) = (char)uVar11 + (char)(uVar11 / 10) * -10 + '0';
            uVar11 = (ulong)((int)uVar11 + 1);
          }
          else {
            *puVar8 = 0x20205352;
          }
        }
      } while( true );
    }
LAB_001105d0:
    local_ae = param_3 * iVar3;
    local_98 = 0x384d5246;
    local_8c = 0x20445344;
    local_88 = 0x504f5250;
    local_7c = 0x20444e53;
    local_78 = 0x52455646;
    local_74 = 4;
    local_6c = 0x1050000;
    local_68 = 0x20205346;
    local_64 = 4;
    local_94 = __size + 0x6e + (local_ae + 1U & 0xfffffffffffffffe);
    local_84 = __size + 0x42;
    local_a2 = __size + 2;
    local_5c = WavpackGetSampleRate(param_2);
    local_5c = local_5c << 3;
    local_9a = (undefined2)iVar3;
    local_a6 = 0x4c4e4843;
    local_58 = 0x52504d43;
    local_54 = 0x14;
    local_4c = 0x20445344;
    local_b2 = 0x20445344;
    WavpackNativeToBigEndian(&local_98,&DAT_00116b5d);
    WavpackNativeToBigEndian(&local_78,&DAT_00116c2d);
    WavpackNativeToBigEndian(&local_88,&DAT_00116b5d);
    WavpackNativeToBigEndian(&local_68,&DAT_00116c2d);
    WavpackNativeToBigEndian(&local_a6,&DAT_00116c31);
    WavpackNativeToBigEndian(&local_58,&DAT_00116b5d);
    WavpackNativeToBigEndian(&local_b2,&DAT_00116470);
    iVar3 = FUN_00111780(param_1,&local_98,0x10,&local_b8);
    if (((((((iVar3 == 0) || (local_b8 != 0x10)) ||
           (iVar3 = FUN_00111780(param_1,&local_78,0x10,&local_b8), iVar3 == 0)) ||
          ((local_b8 != 0x10 || (iVar3 = FUN_00111780(param_1,&local_88,0x10,&local_b8), iVar3 == 0)
           ))) || ((local_b8 != 0x10 ||
                   ((iVar3 = FUN_00111780(param_1,&local_68,0x10,&local_b8), iVar3 == 0 ||
                    (local_b8 != 0x10)))))) ||
        (iVar3 = FUN_00111780(param_1,&local_a6,0xe,&local_b8), iVar3 == 0)) ||
       (((((local_b8 != 0xe || (iVar3 = FUN_00111780(param_1,__ptr,iVar4,&local_b8), iVar3 == 0)) ||
          (iVar4 != local_b8)) ||
         (((iVar3 = FUN_00111780(param_1,&local_58,0x10,&local_b8), iVar3 == 0 || (local_b8 != 0x10)
           ) || ((iVar3 = FUN_00111780(param_1,&DAT_00116c35,0x10,&local_b8), iVar3 == 0 ||
                 ((local_b8 != 0x10 ||
                  (iVar3 = FUN_00111780(param_1,&local_b2,0xc,&local_b8), iVar3 == 0)))))))) ||
        (local_b8 != 0xc)))) {
      FUN_00111570("can\'t write .DSF data, disk probably full!");
      free(__ptr);
      uVar7 = 0;
    }
    else {
      free(__ptr);
      uVar7 = 1;
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar7;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
LAB_001105b3:
  if ((uVar6 & 0x10) == 0) goto LAB_001107d0;
  *puVar8 = 0x2020534c;
  puVar8 = puVar8 + 1;
  if (puVar8 == __ptr + (ulong)(iVar3 - 1) + 1) goto LAB_001105d0;
  goto LAB_00110584;
}



int FUN_00110a20(undefined8 param_1,undefined8 param_2,undefined4 *param_3,undefined8 param_4,
                long param_5)

{
  int iVar1;
  int iVar2;
  long lVar3;
  undefined8 uVar4;
  byte *pbVar5;
  long lVar6;
  byte *pbVar7;
  long in_FS_OFFSET;
  bool bVar8;
  bool bVar9;
  byte bVar10;
  uint local_a8;
  char local_a4 [4];
  long local_a0;
  undefined4 local_98;
  undefined8 local_94;
  long local_8c;
  undefined8 local_84;
  byte local_78 [4];
  long local_74;
  int local_6c;
  int local_68;
  int local_64;
  uint local_60;
  uint local_5c;
  int local_58;
  ulong local_54;
  uint local_4c;
  int local_48;
  long local_40;
  
  bVar10 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar3 = FUN_001117f0(local_40);
  local_98 = *param_3;
  iVar1 = FUN_00111710(param_1,&local_94,0x18,0);
  if ((iVar1 != 0) && (local_a8 == 0x18)) {
    if ((*(byte *)(param_5 + 0x11) & 2) == 0) {
      iVar1 = WavpackAddWrapper(param_4,&local_98,0x1c);
      if (iVar1 != 0) goto LAB_00110af1;
LAB_00110ea8:
      iVar1 = 1;
      uVar4 = WavpackGetErrorMessage(param_4);
      FUN_00111570("%s",uVar4);
      goto LAB_00110aa0;
    }
LAB_00110af1:
    WavpackLittleEndianToNative(&local_98,&DAT_00116e78);
    if (DAT_003190d8 != 0) {
      FUN_00111570("file header lengths = %lld, %lld, %lld",local_94,local_8c,local_84);
    }
    if ((lVar3 != 0) && ((*(byte *)(param_5 + 0x11) & 8) == 0)) {
      if ((1 < local_8c + 1U) && (local_8c != lVar3)) {
        iVar1 = 1;
        FUN_00111570("%s is not a valid .DSF file (by total size)!",param_2);
        goto LAB_00110aa0;
      }
    }
    if ((*(int *)(param_5 + 0x30) != 0) || ((*(byte *)(param_5 + 0x11) & 4) != 0)) {
      iVar1 = 1;
      FUN_00111570("this DSF file already has channel order information!");
      goto LAB_00110aa0;
    }
    iVar1 = FUN_00111710(param_1,local_78,0x34,&local_a8);
    if (iVar1 != 0) {
      bVar8 = local_a8 < 0x34;
      bVar9 = local_a8 == 0x34;
      if (bVar9) {
        lVar3 = 4;
        pbVar5 = local_78;
        pbVar7 = &DAT_00115e3b;
        do {
          if (lVar3 == 0) break;
          lVar3 = lVar3 + -1;
          bVar8 = *pbVar5 < *pbVar7;
          bVar9 = *pbVar5 == *pbVar7;
          pbVar5 = pbVar5 + (ulong)bVar10 * -2 + 1;
          pbVar7 = pbVar7 + (ulong)bVar10 * -2 + 1;
        } while (bVar9);
        if ((!bVar8 && !bVar9) == bVar8) {
          if ((*(byte *)(param_5 + 0x11) & 2) == 0) {
            iVar1 = WavpackAddWrapper(param_4,local_78,0x34);
            if (iVar1 == 0) goto LAB_00110ea8;
          }
          WavpackLittleEndianToNative(local_78,"4DLLLLLLDL4");
          if ((((((local_74 == 0x34) && (local_6c == 1)) && (local_68 == 0)) &&
               ((local_4c == 0x1000 && (local_48 == 0)))) && ((local_58 == 1 || (local_58 == 8))))
             && ((local_60 - 1 < 6 && (local_64 - 1U < 7)))) {
            if (DAT_003190d8 != 0) {
              FUN_00111570("sampling rate = %d Hz",local_5c);
              FUN_00111570("channel type = %d, channel count = %d",local_64,local_60);
              FUN_00111570("block size = %d, bits per sample = %d",local_4c,local_58);
              FUN_00111570("sample count = %lld",local_54);
            }
            iVar1 = FUN_00111710(param_1,local_a4,0xc,0);
            if ((iVar1 != 0) && (local_a8 == 0xc)) {
              iVar1 = strncmp(local_a4,"data",4);
              if (iVar1 == 0) {
                if ((*(byte *)(param_5 + 0x11) & 2) == 0) {
                  iVar2 = WavpackAddWrapper(param_4,local_a4,0xc);
                  if (iVar2 == 0) goto LAB_00110ea8;
                }
                WavpackLittleEndianToNative(local_a4);
                lVar3 = (long)local_54 / (long)(ulong)(local_4c * 8);
                lVar6 = local_54 + (ulong)local_4c * lVar3 * -8;
                if (DAT_003190d8 != 0) {
                  FUN_00111570("leftover samples = %lld, leftover bits = %d",lVar6,lVar6 % 8);
                  FUN_00111570("data chunk size (specified) = %lld",local_a0 + -0xc);
                  FUN_00111570("data chunk size (calculated) = %lld",
                               (lVar3 + (ulong)(lVar6 != 0)) * 0x1000 * (ulong)local_60);
                }
                if ((local_54 & 7) != 0) {
                  FUN_00111570("warning: DSF file has partial-byte leftover samples!");
                }
                if ((local_5c & 7) != 0) {
                  FUN_00111570("warning: DSF file has non-integer bytes/second!");
                }
                *(undefined8 *)(param_5 + 8) = 0x100000008;
                *(uint *)(param_5 + 0x2c) = local_5c >> 3;
                *(uint *)(param_5 + 0x1c) = local_60;
                *(uint *)(param_5 + 0x30) =
                     (uint)*(ushort *)(&DAT_001170c0 + (ulong)(local_64 - 1) * 2);
                if (local_58 == 1) {
                  *(uint *)(param_5 + 0x10) = *(uint *)(param_5 + 0x10) | 0x50;
                }
                else {
                  *(uint *)(param_5 + 0x10) = *(uint *)(param_5 + 0x10) | 0x60;
                }
                iVar2 = WavpackSetConfiguration64(param_4,param_5,(long)(local_54 + 7) / 8,0);
                if (iVar2 == 0) {
                  iVar1 = 1;
                  uVar4 = WavpackGetErrorMessage(param_4);
                  FUN_00111570("%s: %s",param_2,uVar4);
                }
                goto LAB_00110aa0;
              }
            }
          }
        }
      }
    }
  }
  iVar1 = 1;
  FUN_00111570("%s is not a valid .DSF file!",param_2);
LAB_00110aa0:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return iVar1;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



undefined8 FUN_00110ee0(undefined8 param_1,undefined8 param_2,long param_3,uint param_4)

{
  uint uVar1;
  int iVar2;
  ulong uVar3;
  undefined8 uVar4;
  ulong uVar5;
  uint uVar6;
  long in_FS_OFFSET;
  int local_a8;
  undefined4 local_a4;
  long local_a0;
  undefined4 local_98;
  undefined8 local_94;
  long local_8c;
  undefined8 local_84;
  undefined4 local_78;
  undefined8 local_74;
  undefined8 local_6c;
  int local_64;
  int local_60;
  int local_5c;
  int local_58;
  long local_54;
  undefined8 local_4c;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  uVar1 = WavpackGetChannelMask(param_2);
  local_60 = WavpackGetNumChannels(param_2);
  if (DAT_003190d8 != 0) {
    FUN_00111570("WriteDsfHeader (), total samples = %lld, qmode = 0x%02x\n",param_3,param_4);
  }
  uVar3 = 1;
  uVar6 = 4;
  uVar5 = 0;
  while( true ) {
    if (uVar6 == uVar1) {
      uVar5 = uVar3 & 0xffffffff;
    }
    local_64 = (int)uVar5;
    if (uVar3 == 7) break;
    uVar6 = (uint)*(ushort *)(&DAT_001170c0 + uVar3 * 2);
    uVar3 = uVar3 + 1;
  }
  if ((local_64 == 0) && (local_64 = 7, local_60 < 7)) {
    local_64 = (uint)(4 < local_60) + local_60;
  }
  local_98 = 0x20445344;
  uVar5 = param_3 + 0x1ffe;
  if (-1 < (long)(param_3 + 0xfffU)) {
    uVar5 = param_3 + 0xfffU;
  }
  local_94 = 0x1c;
  local_84 = 0;
  local_a0 = (uVar5 & 0xfffffffffffff000) * (long)local_60;
  local_78 = 0x20746d66;
  local_74 = 0x34;
  local_6c = 1;
  local_8c = local_a0 + 0x5c;
  local_5c = WavpackGetSampleRate(param_2);
  local_5c = local_5c * 8;
  local_54 = param_3 << 3;
  local_58 = (-(uint)((param_4 & 0x10) == 0) & 7) + 1;
  local_a0 = local_a0 + 0xc;
  local_4c = 0x1000;
  local_a4 = 0x61746164;
  WavpackNativeToLittleEndian(&local_98,&DAT_00116e78);
  WavpackNativeToLittleEndian(&local_78,"4DLLLLLLDL4");
  WavpackNativeToLittleEndian(&local_a4,&DAT_00116470);
  iVar2 = FUN_00111780(param_1,&local_98,0x1c,&local_a8);
  if ((iVar2 != 0) && (local_a8 == 0x1c)) {
    iVar2 = FUN_00111780(param_1,&local_78,0x34,&local_a8);
    if ((iVar2 != 0) && (local_a8 == 0x34)) {
      iVar2 = FUN_00111780(param_1,&local_a4,0xc,&local_a8);
      if ((iVar2 != 0) && (local_a8 == 0xc)) {
        uVar4 = 1;
        goto LAB_0011107c;
      }
    }
  }
  FUN_00111570("can\'t write .DSF data, disk probably full!");
  uVar4 = 0;
LAB_0011107c:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar4;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



void FUN_00111140(void)

{
  DAT_003190d4 = 1;
  return;
}



bool FUN_00111150(byte *param_1,byte *param_2)

{
  int iVar1;
  long lVar2;
  byte *pbVar3;
  byte *pbVar4;
  long in_FS_OFFSET;
  bool bVar5;
  bool bVar6;
  bool bVar7;
  bool bVar8;
  timeval local_c8;
  undefined8 local_b8;
  undefined8 local_b0;
  undefined local_a8 [72];
  __time_t local_60;
  undefined8 local_50;
  long local_10;
  
  lVar2 = 2;
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  bVar5 = false;
  bVar7 = true;
  pbVar3 = param_1;
  pbVar4 = &DAT_001170ce;
  do {
    if (lVar2 == 0) break;
    lVar2 = lVar2 + -1;
    bVar5 = *pbVar3 < *pbVar4;
    bVar7 = *pbVar3 == *pbVar4;
    pbVar3 = pbVar3 + 1;
    pbVar4 = pbVar4 + 1;
  } while (bVar7);
  bVar8 = true;
  bVar6 = false;
  bVar5 = (!bVar5 && !bVar7) == bVar5;
  if (!bVar5) {
    lVar2 = 2;
    pbVar3 = param_2;
    pbVar4 = &DAT_001170ce;
    do {
      if (lVar2 == 0) break;
      lVar2 = lVar2 + -1;
      bVar6 = *pbVar3 < *pbVar4;
      bVar5 = *pbVar3 == *pbVar4;
      pbVar3 = pbVar3 + 1;
      pbVar4 = pbVar4 + 1;
    } while (bVar5);
    if ((!bVar6 && !bVar5) != bVar6) {
      FUN_001129b0(param_1,local_a8);
      bVar8 = false;
      if (iVar1 == 0) {
        local_c8.tv_usec = 0;
        local_b0 = 0;
        local_c8.tv_sec = local_60;
        local_b8 = local_50;
        iVar1 = utimes((char *)param_2,&local_c8);
        bVar8 = iVar1 == 0;
      }
    }
  }
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return bVar8;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



char * FUN_00111230(char *param_1)

{
  size_t sVar1;
  char *pcVar2;
  char *__s;
  
  sVar1 = strlen(param_1);
  pcVar2 = param_1 + sVar1;
  while( true ) {
    __s = pcVar2;
    pcVar2 = __s + -1;
    if (pcVar2 < param_1) {
      return (char *)0x0;
    }
    if (__s[-1] == '/') break;
    if (__s[-1] == '.') {
      if (*__s == '\0') {
        return (char *)0x0;
      }
      sVar1 = strlen(__s);
      if (4 < sVar1) {
        pcVar2 = (char *)0x0;
      }
      return pcVar2;
    }
  }
  return (char *)0x0;
}



undefined2 * FUN_001112a0(undefined2 *param_1)

{
  undefined2 *puVar1;
  int iVar2;
  size_t sVar3;
  undefined2 *puVar4;
  long in_FS_OFFSET;
  glob_t local_108;
  undefined local_b8 [25];
  byte local_9f;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  sVar3 = strlen((char *)param_1);
  puVar1 = (undefined2 *)((long)param_1 + sVar3);
  if ((param_1 == puVar1) ||
     (puVar4 = (undefined2 *)strpbrk((char *)param_1,"*?"), puVar4 != (undefined2 *)0x0)) {
    param_1 = (undefined2 *)0x0;
  }
  else {
    if (*(char *)((long)puVar1 + -1) != '/') {
      if ((param_1 == (undefined2 *)((long)puVar1 + -1)) && (*(char *)((long)puVar1 + -1) == '.')) {
        *puVar1 = 0x2f;
      }
      else {
        iVar2 = glob((char *)param_1,6,0x0,&local_108);
        if ((iVar2 == 0) &&
           (((local_108.gl_pathc != 0 &&
             (FUN_001129b0(*local_108.gl_pathv,local_b8), iVar2 == 0)) &&
            ((local_9f & 0x40) != 0)))) {
          *(undefined *)param_1 = 0;
          strcat((char *)param_1,*local_108.gl_pathv);
          globfree(&local_108);
        }
        else {
          globfree(&local_108);
          param_1 = puVar4;
        }
      }
    }
  }
  if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return param_1;
}



void FUN_001113d0(char *param_1)

{
  strpbrk(param_1,"*?");
  return;
}



char * FUN_001113e0(char *param_1)

{
  char *pcVar1;
  size_t sVar2;
  char *pcVar3;
  
  sVar2 = strlen(param_1);
  pcVar1 = param_1 + sVar2;
  do {
    pcVar3 = pcVar1;
    if (pcVar3 + -1 < param_1) break;
    pcVar1 = pcVar3 + -1;
  } while (pcVar3[-1] != '/');
  if (*pcVar3 == '\0') {
    pcVar3 = (char *)0x0;
  }
  return pcVar3;
}



char FUN_00111410(void)

{
  uint uVar1;
  char cVar2;
  
  cVar2 = '\0';
LAB_00111418:
  do {
    while( true ) {
      uVar1 = fgetc(stdin);
      if (uVar1 == 3) {
        fwrite(&DAT_001170d3,1,3,stderr);
                    // WARNING: Subroutine does not return
        exit(1);
      }
      if (uVar1 == 0xffffffff) {
        fwrite(&DAT_001170d7,1,2,stderr);
                    // WARNING: Subroutine does not return
        exit(1);
      }
      if ((uVar1 != 0xd) && (uVar1 != 10)) break;
      if (cVar2 != '\0') {
        fwrite(&DAT_001170d7,1,2,stderr);
        fflush(stderr);
        return cVar2;
      }
LAB_0011146b:
      fputc(7,stderr);
      fflush(stderr);
    }
    uVar1 = uVar1 & 0xffffffdf;
    if (uVar1 == 0x59) {
      cVar2 = 'y';
      goto LAB_00111418;
    }
    if (uVar1 == 0x4e) {
      cVar2 = 'n';
    }
    else {
      if (uVar1 != 0x41) goto LAB_0011146b;
      cVar2 = 'a';
    }
  } while( true );
}



void FUN_00111530(void)

{
  fwrite("                                \n",1,0x21,stderr);
  fflush(stderr);
  return;
}



void FUN_00111570(const char* param_1,...)

{
  char in_AL;
  long in_FS_OFFSET;
  undefined4 local_2e0;
  undefined4 local_2dc;
  undefined *local_2d8;
  undefined *local_2d0;
  char local_2c8;
  undefined local_2c7 [519];
  long local_c0;
  undefined local_b8 [8];
  undefined8 local_b0;
  undefined8 local_a8;
  undefined8 local_a0;
  undefined8 local_98;
  undefined8 local_90;
  undefined4 local_88;
  undefined4 local_78;
  undefined4 local_68;
  undefined4 local_58;
  undefined4 local_48;
  undefined4 local_38;
  undefined4 local_28;
  undefined4 local_18;
  
  if (in_AL != '\0') {
    local_88 = param_1;

  }
  local_c0 = *(long *)(in_FS_OFFSET + 0x28);
  local_2d8 = &stack0x00000008;
  local_2d0 = local_b8;
  local_2c8 = '\r';
  local_2e0 = 8;
  local_2dc = 0x30;

  __vsprintf_chk(local_2c7,1,0x1ff,param_1,&local_2e0);
  fputs(&local_2c8,stderr);
  FUN_00111530();
  if (local_c0 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



void FUN_00111680(void)

{
  long in_FS_OFFSET;
  undefined local_a8 [152];
  ulong local_10;
  
  DAT_003190d4 = 0;
  local_10 = *(ulong *)(in_FS_OFFSET + 0x28);
  local_a8[0] = FUN_00111140;
  sigemptyset((sigset_t *)(local_a8 + 8));
  local_a8[0] = 0;

  if (local_10 == *(ulong *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



undefined4 FUN_00111700(void)

{
  return DAT_003190d4;
}



bool FUN_00111710(FILE *param_1,long param_2,uint param_3,uint *param_4)

{
  int iVar1;
  size_t sVar2;
  ulong uVar3;
  uint uVar4;
  size_t __n;
  
  *param_4 = 0;
  if (param_3 != 0) {
    __n = (size_t)param_3;
    uVar3 = 0;
    do {
      sVar2 = fread((void *)(uVar3 + param_2),1,__n,param_1);
      iVar1 = (int)sVar2;
      if (iVar1 == 0) break;
      uVar3 = (ulong)(iVar1 + *param_4);
      uVar4 = (int)__n - iVar1;
      __n = (size_t)uVar4;
      *param_4 = iVar1 + *param_4;
    } while (uVar4 != 0);
  }
  iVar1 = ferror(param_1);
  return iVar1 == 0;
}



bool FUN_00111780(FILE *param_1,long param_2,uint param_3,uint *param_4)

{
  int iVar1;
  size_t sVar2;
  ulong uVar3;
  uint uVar4;
  size_t __n;
  
  *param_4 = 0;
  if (param_3 != 0) {
    __n = (size_t)param_3;
    uVar3 = 0;
    do {
      sVar2 = fwrite((void *)(uVar3 + param_2),1,__n,param_1);
      iVar1 = (int)sVar2;
      if (iVar1 == 0) break;
      uVar3 = (ulong)(iVar1 + *param_4);
      uVar4 = (int)__n - iVar1;
      __n = (size_t)uVar4;
      *param_4 = iVar1 + *param_4;
    } while (uVar4 != 0);
  }
  iVar1 = ferror(param_1);
  return iVar1 == 0;
}



undefined8 FUN_001117f0(FILE *param_1)

{
  int iVar1;
  long in_FS_OFFSET;
  undefined auStack168 [24];
  uint local_90;
  undefined8 local_78;
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_1 != (FILE *)0x0) {
    iVar1 = fileno(param_1);
    FUN_001129c0(iVar1,auStack168);
    if ((iVar1 == 0) && ((local_90 & 0xf000) == 0x8000)) goto LAB_00111834;
  }
  local_78 = 0;
LAB_00111834:
  if (local_10 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return local_78;
}



// WARNING: Unknown calling convention yet parameter storage is locked

long ftell(FILE *__stream)

{
  long lVar1;
  
  lVar1 = ftell(__stream);
  return lVar1;
}



void FUN_00111870(FILE *param_1,long param_2)

{
  fseek(param_1,param_2,0);
  return;
}



// WARNING: Unknown calling convention yet parameter storage is locked

int fseek(FILE *__stream,long __off,int __whence)

{
  int iVar1;
  
  iVar1 = fseek(__stream,__off,__whence);
  return iVar1;
}



// WARNING: Unknown calling convention yet parameter storage is locked

int ungetc(int __c,FILE *__stream)

{
  int iVar1;
  
  iVar1 = ungetc(__c,__stream);
  return iVar1;
}



bool FUN_001118a0(FILE *param_1)

{
  int iVar1;
  
  if (param_1 != (FILE *)0x0) {
    iVar1 = fclose(param_1);
    return iVar1 == 0;
  }
  return false;
}



bool FUN_001118d0(FILE *param_1)

{
  int iVar1;
  
  if (param_1 != (FILE *)0x0) {
    fflush(param_1);
    iVar1 = fileno(param_1);
    iVar1 = ftruncate(iVar1,0);
    return iVar1 == 0;
  }
  return false;
}



bool FUN_00111910(char *param_1)

{
  int iVar1;
  
  if (param_1 != (char *)0x0) {
    iVar1 = remove(param_1);
    return iVar1 == 0;
  }
  return false;
}



void FUN_00111940(undefined8 param_1)

{
  __fprintf_chk(stderr,1,&DAT_001170da,param_1);
  fflush(stderr);
  return;
}



// WARNING: Could not reconcile some variable overlaps

int FUN_00111980(long param_1,ulong *param_2,uint param_3,undefined4 *param_4,int *param_5,
                int param_6)

{
  byte bVar1;
  char cVar2;
  ushort uVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  char *pcVar7;
  ushort *__ptr;
  uint *puVar8;
  long lVar9;
  iconv_t __cd;
  uint *puVar10;
  ushort **ppuVar11;
  size_t sVar12;
  char *pcVar13;
  size_t sVar14;
  char *pcVar15;
  __int32_t **pp_Var16;
  int iVar17;
  long lVar18;
  int iVar19;
  uint *puVar20;
  int iVar21;
  ulong uVar22;
  char **ppcVar23;
  byte bVar24;
  ushort *puVar25;
  undefined8 *puVar26;
  ushort *puVar27;
  byte *pbVar28;
  ushort *puVar29;
  int iVar30;
  void *__src;
  undefined8 *puVar31;
  char *pcVar32;
  char *pcVar33;
  long in_FS_OFFSET;
  bool bVar34;
  bool bVar35;
  bool bVar36;
  bool bVar37;
  byte bVar38;
  char *local_100;
  int local_f4;
  int local_e0;
  char *local_88;
  uint *local_80;
  char *local_78;
  size_t local_70;
  uint *local_68 [2];
  undefined8 local_54;
  undefined2 local_4c;
  undefined8 local_4a;
  undefined2 local_42;
  long local_40;
  
  bVar38 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_5 != (int *)0x0) {
    *param_5 = 0;
  }
  if (param_3 < 10) {
    local_f4 = -1;
    param_4[4] = 0x65646165;
    *(undefined2 *)(param_4 + 5) = 0x72;
    *param_4 = 0x276e6163;
    param_4[1] = 0x65722074;
    param_4[2] = 0x74206461;
    param_4[3] = 0x68206761;
  }
  else {
    local_54 = *param_2;
    puVar31 = (undefined8 *)((long)param_2 + 10);
    lVar18 = 3;
    bVar34 = param_3 < 10;
    iVar19 = param_3 - 10;
    bVar35 = iVar19 == 0;
    local_4c = *(undefined2 *)(param_2 + 1);
    puVar26 = &local_54;
    pbVar28 = &DAT_00112f20;
    do {
      if (lVar18 == 0) break;
      lVar18 = lVar18 + -1;
      bVar34 = *(byte *)puVar26 < *pbVar28;
      bVar35 = *(byte *)puVar26 == *pbVar28;
      puVar26 = (undefined8 *)((long)puVar26 + 1);
      pbVar28 = pbVar28 + 1;
    } while (bVar35);
    if ((!bVar34 && !bVar35) == bVar34) {
      local_54 = (char)(local_54 >> 0x18);
      if (((local_54 == '\x03') &&
          (local_54 = (char)(local_54 >> 0x20), local_54 != -1)) &&
         (local_54 = (char)(local_54 >> 0x28), (local_54 & 0x1f0000000000) == 0)) {
        if (local_54 < '\0') {
          local_f4 = -1;
          *param_4 = 0x79736e75;
          param_4[1] = 0x6f68636e;
          param_4[2] = 0x617a696e;
          param_4[3] = 0x6e6f6974;
          *(undefined8 *)(param_4 + 4) = 0x6574636574656420;
          *(undefined2 *)(param_4 + 6) = 100;
        }
        else {
          if ((local_54 & 0x400000000000) == 0) {
            if ((local_54 & 0x200000000000) == 0) {
              local_54 = (byte)(local_54 >> 0x30);
              local_54 = (byte)(local_54 >> 0x38);
              local_4c = (byte)((ushort)local_4c >> 8);
              if ((char)(local_54 | local_54 | (byte)local_4c | local_4c) < '\0')
              {
                local_f4 = -1;
                *(undefined8 *)(param_4 + 4) = 0x7320646162282033;
                param_4[6] = 0x29657a69;
                *param_4 = 0x20746f6e;
                param_4[1] = 0x696c6176;
                param_4[2] = 0x44492064;
                param_4[3] = 0x2e327633;
                *(undefined *)(param_4 + 7) = 0;
              }
              else {
                if (iVar19 < (int)((uint)(byte)local_4c * 0x80 + (uint)local_4c +
                                   (uint)local_54 * 0x4000 + (uint)local_54 * 0x200000))
                {
                  local_f4 = -1;
                  *(undefined *)(param_4 + 4) = 0;
                  *param_4 = 0x20676174;
                  param_4[1] = 0x74207369;
                  param_4[2] = 0x636e7572;
                  param_4[3] = 0x64657461;
                }
                else {
                  if (9 < iVar19) {
                    bVar34 = false;
                    local_f4 = 0;
LAB_00111ac5:
                    local_4a = *puVar31;
                    bVar24 = (byte)local_4a;
                    local_42 = *(undefined2 *)(puVar31 + 1);
                    uVar4 = (uint)local_4a;
                    if (bVar24 == 0) {
                      local_4a = (byte)((ulong)local_4a >> 8);
                      uVar4 = (uint)local_4a;
                      if (local_4a == 0) {
                        local_4a = (char)((ulong)local_4a >> 0x10);
                        if (local_4a != '\0') goto LAB_00111b10;
                        local_4a = (char)((ulong)local_4a >> 0x18);
                        if (local_4a == '\0') goto LAB_00111b62;
                      }
                      uVar4 = 0;
                    }
LAB_00111b10:
                    bVar1 = (byte)uVar4;
                    lVar18 = 0;
                    while( true ) {
                      if (((byte)(bVar1 - 0x3a) < 7) || (0x2a < (byte)((char)uVar4 - 0x30U))) {
                        *param_4 = 0x20646162;
                        param_4[1] = 0x6d617266;
                        param_4[2] = 0x64692065;
                        param_4[3] = 0x69746e65;
                        *(undefined2 *)(param_4 + 4) = 0x7974;
                        *(undefined *)((long)param_4 + 0x12) = 0;
                        goto LAB_00111b5a;
                      }
                      if (lVar18 + 1 == 4) break;
                      bVar1 = *(byte *)((long)&local_4a + lVar18 + 1);
                      uVar4 = (uint)bVar1;
                      lVar18 = lVar18 + 1;
                    }
                    local_42 = (char)((ushort)*(undefined2 *)(puVar31 + 1) >> 8);
                    if (local_42 != '\0') {
                      *(undefined8 *)(param_4 + 4) = 0x616c662072656461;
                      param_4[6] = 0x65732067;
                      *param_4 = 0x6e6b6e75;
                      param_4[1] = 0x206e776f;
                      param_4[2] = 0x6d617266;
                      param_4[3] = 0x65685f65;
                      *(undefined2 *)(param_4 + 7) = 0x74;
                      goto LAB_00111b5a;
                    }
                    local_4a = (byte)((ulong)local_4a >> 0x38);
                    local_4a = (byte)((ulong)local_4a >> 0x30);
                    local_4a = (byte)((ulong)local_4a >> 0x28);
                    local_4a = (byte)((ulong)local_4a >> 0x20);
                    if (param_6 == 0) {
                      iVar21 = (uint)local_4a + (uint)local_4a * 0x100 +
                               (uint)local_4a * 0x10000 + (uint)local_4a * 0x1000000;
                    }
                    else {
                      iVar21 = (uint)local_4a + (uint)local_4a * 0x80 +
                               (uint)local_4a * 0x4000 + (uint)local_4a * 0x200000;
                    }
                    if (iVar21 == 0) {
                      *(undefined8 *)(param_4 + 4) = 0x6465776f6c6c61;
                      *param_4 = 0x74706d65;
                      param_4[1] = 0x72662079;
                      param_4[2] = 0x20656d61;
                      param_4[3] = 0x20746f6e;
                      goto LAB_00111b5a;
                    }
                    if (iVar19 + -10 < iVar21) {
                      param_4[4] = 0x646f6220;
                      *(undefined2 *)(param_4 + 5) = 0x79;
                      *param_4 = 0x276e6163;
                      param_4[1] = 0x65722074;
                      param_4[2] = 0x66206461;
                      param_4[3] = 0x656d6172;
                      goto LAB_00111b5a;
                    }
                    __src = (void *)((long)puVar31 + 10);
                    uVar22 = SEXT48(iVar21);
                    iVar19 = (iVar19 + -10) - iVar21;
                    pcVar7 = (char *)malloc((long)(iVar21 + 4));
                    puVar31 = (undefined8 *)((long)__src + uVar22);
                    memcpy(pcVar7,__src,uVar22);
                    bVar35 = bVar24 < 0x54;
                    bVar36 = bVar24 == 0x54;
                    if (bVar36) {
                      lVar18 = 4;
                      puVar26 = &local_4a;
                      pbVar28 = &DAT_00117142;
                      do {
                        if (lVar18 == 0) break;
                        lVar18 = lVar18 + -1;
                        bVar35 = *(byte *)puVar26 < *pbVar28;
                        bVar36 = *(byte *)puVar26 == *pbVar28;
                        puVar26 = (undefined8 *)((long)puVar26 + (ulong)bVar38 * -2 + 1);
                        pbVar28 = pbVar28 + (ulong)bVar38 * -2 + 1;
                      } while (bVar36);
                      if (*pcVar7 != '\0') {
                        if (*pcVar7 == '\x01') {
                          iVar21 = iVar21 * 2;
                          lVar18 = 0;
                          puVar25 = (ushort *)(pcVar7 + (uVar22 & 0xfffffffffffffffe));
                          __ptr = (ushort *)malloc(uVar22);
                          puVar29 = (ushort *)(pcVar7 + 1);
                          do {
                            if (((puVar25 + -1 <= puVar29) || (*(char *)puVar29 != -1)) ||
                               (*(char *)((long)puVar29 + 1) != -2)) goto LAB_0011205b;
                            puVar8 = (uint *)malloc((long)iVar21);
                            puVar27 = puVar29 + 1;
                            local_68[lVar18] = puVar8;
                            if (puVar27 < puVar25) {
                              uVar3 = puVar29[1];
                              *__ptr = uVar3;
                              puVar29 = __ptr + 1;
                              if (uVar3 != 0) {
                                do {
                                  puVar27 = puVar27 + 1;
                                  if (puVar25 <= puVar27) goto LAB_00111dc0;
                                  uVar3 = *puVar27;
                                  *puVar29 = uVar3;
                                  puVar29 = puVar29 + 1;
                                } while (uVar3 != 0);
                                uVar3 = *__ptr;
                              }
                              puVar27 = puVar27 + 1;
                            }
                            else {
LAB_00111dc0:
                              uVar3 = *__ptr;
                            }
                            puVar29 = __ptr + 1;
                            iVar6 = 0;
                            while( true ) {
                              pbVar28 = (byte *)((long)iVar6 + (long)puVar8);
                              if (uVar3 == 0) break;
                              if (uVar3 < 0x80) {
                                iVar30 = iVar6 + 1;
                                if (iVar21 <= iVar30) goto LAB_00112008;
                                *pbVar28 = (byte)uVar3;
                              }
                              else {
                                if (uVar3 < 0x800) {
LAB_00112008:
                                  iVar30 = iVar6 + 2;
                                  if (iVar21 <= iVar30) goto LAB_00111e09;
                                  iVar17 = iVar6 + 1;
                                  *pbVar28 = (byte)(uVar3 >> 6) | 0xc0;
                                }
                                else {
LAB_00111e09:
                                  iVar30 = iVar6 + 3;
                                  if (iVar21 <= iVar30) break;
                                  *pbVar28 = (byte)((uint)uVar3 >> 8) >> 4 | 0xe0;
                                  iVar17 = iVar6 + 2;
                                  *(byte *)((long)puVar8 + (long)(iVar6 + 1)) =
                                       (byte)(uVar3 >> 6) & 0x3f | 0x80;
                                }
                                *(byte *)((long)puVar8 + (long)iVar17) = (byte)uVar3 & 0x3f | 0x80;
                              }
                              uVar3 = *puVar29;
                              puVar29 = puVar29 + 1;
                              iVar6 = iVar30;
                            }
                            *pbVar28 = 0;
                            if (lVar18 == 1) goto code_r0x0011204d;
                            lVar18 = 1;
                            puVar29 = puVar27;
                          } while( true );
                        }
                        *(undefined8 *)(param_4 + 4) = 0x69646f636e652072;
                        *(undefined2 *)(param_4 + 6) = 0x676e;
                        *param_4 = 0x6e6b6e75;
                        param_4[1] = 0x206e776f;
                        param_4[2] = 0x72616863;
                        param_4[3] = 0x65746361;
                        *(undefined *)((long)param_4 + 0x1a) = 0;
                        goto LAB_00111b5a;
                      }
                      pcVar32 = pcVar7 + 1;
                      pcVar33 = pcVar7 + uVar22;
                      lVar18 = 0;
                      sVar14 = SEXT48(iVar21 * 3);
                      while ((iVar6 = (int)lVar18, iVar6 < 2 && (pcVar32 < pcVar33))) {
                        cVar2 = *pcVar32;
                        if (cVar2 == '\0') {
                          if (iVar6 == 0) goto LAB_00111c54;
                          goto LAB_001121e5;
                        }
                        puVar8 = (uint *)malloc(sVar14);
                        local_68[lVar18] = puVar8;
                        *(char *)puVar8 = cVar2;
                        lVar9 = 1;
                        pcVar13 = pcVar32 + 1;
                        do {
                          iVar6 = (int)lVar9;
                          pcVar32 = pcVar33;
                          if (pcVar33 == pcVar13) goto LAB_00111f15;
                          pcVar32 = pcVar13 + 1;
                          cVar2 = *pcVar13;
                          *(char *)((long)puVar8 + lVar9) = cVar2;
                          lVar9 = lVar9 + 1;
                          pcVar13 = pcVar32;
                        } while (cVar2 != '\0');
                        if (pcVar33 == pcVar32) {
LAB_00111f15:
                          *(undefined *)((long)puVar8 + (long)iVar6) = 0;
                        }
                        pcVar13 = (char *)calloc(sVar14,1);
                        puVar10 = puVar8;
                        do {
                          puVar20 = puVar10;
                          uVar5 = *puVar20 + 0xfefefeff & ~*puVar20;
                          uVar4 = uVar5 & 0x80808080;
                          puVar10 = puVar20 + 1;
                        } while (uVar4 == 0);
                        bVar37 = (uVar5 & 0x8080) == 0;
                        if (bVar37) {
                          uVar4 = uVar4 >> 0x10;
                        }
                        if (bVar37) {
                          puVar10 = (uint *)((long)puVar20 + 6);
                        }
                        local_78 = (char *)((long)puVar10 +
                                           ((-3 - (ulong)CARRY1((byte)uVar4,(byte)uVar4)) -
                                           (long)puVar8));
                        local_88 = pcVar13;
                        local_80 = puVar8;
                        local_70 = (long)(iVar21 * 3 + -1);
                        __cd = iconv_open("UTF-8","ISO-8859-1");
                        if (__cd != (iconv_t)0xffffffffffffffff) {
                          sVar12 = iconv(__cd,(char **)&local_80,(size_t *)&local_78,&local_88,
                                         &local_70);
                          iconv_close(__cd);
                          local_e0 = (int)sVar12;
                          if (local_e0 != -1) {
                            memcpy(puVar8,pcVar13,sVar14);
                          }
                        }
                        lVar18 = lVar18 + 1;
                        free(pcVar13);
                      }
                      goto LAB_00112063;
                    }
                    lVar18 = 4;
                    puVar26 = &local_4a;
                    pbVar28 = &DAT_00117152;
                    do {
                      if (lVar18 == 0) break;
                      lVar18 = lVar18 + -1;
                      bVar35 = *(byte *)puVar26 < *pbVar28;
                      bVar36 = *(byte *)puVar26 == *pbVar28;
                      puVar26 = (undefined8 *)((long)puVar26 + (ulong)bVar38 * -2 + 1);
                      pbVar28 = pbVar28 + (ulong)bVar38 * -2 + 1;
                    } while (bVar36);
                    if ((!bVar35 && !bVar36) == bVar35) {
                      if (*pcVar7 != '\0') {
                        *param_4 = 0x61686e75;
                        param_4[1] = 0x656c646e;
                        param_4[2] = 0x50412064;
                        param_4[3] = 0x63204349;
                        *(undefined2 *)(param_4 + 8) = 0x67;
                        param_4[4] = 0x61726168;
                        param_4[5] = 0x72657463;
                        param_4[6] = 0x636e6520;
                        param_4[7] = 0x6e69646f;
                        goto LAB_00111b5a;
                      }
                      uVar22 = (ulong)(iVar21 - 1);
                      pcVar32 = pcVar7 + 1;
                      lVar18 = uVar22 + 1;
                      pcVar33 = pcVar32;
                      do {
                        pcVar13 = pcVar33;
                        iVar21 = (int)uVar22;
                        uVar4 = iVar21 - 1;
                        uVar22 = (ulong)uVar4;
                        if (pcVar7 + lVar18 == pcVar13) goto LAB_0011219b;
                        pcVar33 = pcVar13 + 1;
                      } while (*pcVar13 != '\0');
                      if ((int)uVar4 < 0) {
LAB_0011219b:
                        *(undefined8 *)(param_4 + 4) = 0x6d696d2065727574;
                        param_4[6] = 0x79742065;
                        *param_4 = 0x65746e75;
                        param_4[1] = 0x6e696d72;
                        param_4[2] = 0x64657461;
                        param_4[3] = 0x63697020;
                        *(undefined2 *)(param_4 + 7) = 0x6570;
                        *(undefined *)((long)param_4 + 0x1e) = 0;
                        goto LAB_00111b5a;
                      }
                      if (uVar4 == 0) {
                        *param_4 = 0x70206f6e;
                        param_4[1] = 0x75746369;
                        param_4[2] = 0x74206572;
                        param_4[3] = 0x657079;
                        goto LAB_00111b5a;
                      }
                      cVar2 = pcVar13[1];
                      uVar22 = (ulong)(iVar21 - 2);
                      lVar18 = uVar22 + 2;
                      pcVar33 = pcVar13 + 2;
                      do {
                        pcVar15 = pcVar33;
                        uVar4 = (int)uVar22 - 1;
                        uVar22 = (ulong)uVar4;
                        if (pcVar13 + lVar18 == pcVar15) goto LAB_0011230c;
                        pcVar33 = pcVar15 + 1;
                      } while (*pcVar15 != '\0');
                      if ((int)uVar4 < 0) {
LAB_0011230c:
                        *param_4 = 0x65746e75;
                        param_4[1] = 0x6e696d72;
                        param_4[2] = 0x64657461;
                        param_4[3] = 0x63697020;
                        *(undefined *)(param_4 + 8) = 0;
                        param_4[4] = 0x65727574;
                        param_4[5] = 0x73656420;
                        param_4[6] = 0x70697263;
                        param_4[7] = 0x6e6f6974;
                        goto LAB_00111b5a;
                      }
                      if ((int)uVar4 < 2) {
                        *param_4 = 0x70206f6e;
                        param_4[1] = 0x75746369;
                        param_4[2] = 0x64206572;
                        param_4[3] = 0x617461;
                        goto LAB_00111b5a;
                      }
                      pcVar13 = strstr(pcVar32,"jpeg");
                      local_100 = ".jpg";
                      if (pcVar13 == (char *)0x0) {
                        pcVar13 = strstr(pcVar32,"JPEG");
                        local_100 = ".jpg";
                        if (pcVar13 == (char *)0x0) {
                          pcVar13 = strstr(pcVar32,"png");
                          local_100 = ".png";
                          if (pcVar13 == (char *)0x0) {
                            local_100 = ".png";
                            pcVar32 = strstr(pcVar32,"PNG");
                            if (pcVar32 == (char *)0x0) {
                              if (*pcVar33 == -1) {
                                local_100 = "";
                                if (pcVar15[2] == -0x28) {
                                  local_100 = ".jpg";
                                }
                              }
                              else {
                                local_100 = "";
                                if ((*pcVar33 == -0x77) && (pcVar15[2] == 'P')) {
                                  local_100 = ".png";
                                }
                              }
                            }
                          }
                        }
                      }
                      if (cVar2 == '\x03') {
LAB_00112390:
                        pcVar32 = "Cover Art (Front)";
                        iVar21 = 0x11;
                        bVar34 = true;
                      }
                      else {
                        if (cVar2 != '\x04') {
                          if (((byte)(cVar2 - 1U) < 2) || (bVar34)) goto LAB_00111c54;
                          goto LAB_00112390;
                        }
                        iVar21 = 0x10;
                        pcVar32 = "Cover Art (Back)";
                      }
                      sVar14 = strlen(local_100);
                      iVar21 = iVar21 + 1 + (int)sVar14 + uVar4;
                      pcVar13 = (char *)malloc((long)iVar21);
                      pcVar15 = stpcpy(pcVar13,pcVar32);
                      memcpy(pcVar15,local_100,sVar14 + 1);
                      memcpy(pcVar13 + ((long)iVar21 - (long)(int)uVar4),pcVar33,(long)(int)uVar4);
                      if ((param_1 == 0) ||
                         (iVar6 = WavpackAppendBinaryTagItem(param_1,pcVar32,pcVar13), iVar6 != 0))
                      {
                        local_f4 = local_f4 + 1;
                        if (param_5 != (int *)0x0) {
                          sVar14 = strlen(pcVar32);
                          *param_5 = *param_5 + iVar21 + 1 + (int)sVar14;
                        }
                        free(pcVar13);
                        goto LAB_00111c54;
                      }
                      goto LAB_0011254f;
                    }
                    goto LAB_00111c54;
                  }
                  local_f4 = 0;
                }
              }
            }
            else {
              local_f4 = -1;
              *param_4 = 0x65707865;
              param_4[1] = 0x656d6972;
              param_4[2] = 0x6c61746e;
              param_4[3] = 0x646e6920;
              param_4[4] = 0x74616369;
              param_4[5] = 0x6420726f;
              param_4[6] = 0x63657465;
              param_4[7] = 0x646574;
            }
          }
          else {
            local_f4 = -1;
            *(undefined8 *)(param_4 + 4) = 0x6465746365746564;
            *(undefined *)(param_4 + 6) = 0;
            *param_4 = 0x65747865;
            param_4[1] = 0x6465646e;
            param_4[2] = 0x61656820;
            param_4[3] = 0x20726564;
          }
        }
      }
      else {
        local_f4 = -1;
        *(undefined2 *)(param_4 + 4) = 0x33;
        *param_4 = 0x20746f6e;
        param_4[1] = 0x696c6176;
        param_4[2] = 0x44492064;
        param_4[3] = 0x2e327633;
      }
    }
    else {
      local_f4 = -1;
      *(undefined2 *)(param_4 + 4) = 0x646e;
      *(undefined *)((long)param_4 + 0x12) = 0;
      *param_4 = 0x49206f6e;
      param_4[1] = 0x32763344;
      param_4[2] = 0x67617420;
      param_4[3] = 0x756f6620;
    }
  }
LAB_00111b62:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return local_f4;
code_r0x0011204d:
  lVar18 = 2;
LAB_0011205b:
  iVar6 = (int)lVar18;
  free(__ptr);
LAB_00112063:
  puVar8 = local_68[0];
  if (iVar6 != 0) {
    if (((!bVar35 && !bVar36) == bVar35) && (iVar6 == 2)) {
      bVar24 = *(byte *)local_68[0];
      uVar22 = (ulong)bVar24;
      puVar10 = local_68[0];
      while (bVar24 != 0) {
        if ((char)bVar24 < '\0') goto LAB_001120bf;
        puVar10 = (uint *)((long)puVar10 + 1);
        bVar24 = *(byte *)puVar10;
      }
      ppuVar11 = __ctype_b_loc();
      puVar29 = *ppuVar11;
      puVar10 = puVar8;
      if ((*(byte *)((long)puVar29 + uVar22 * 2 + 1) & 1) != 0) {
        do {
          bVar24 = *(byte *)(uint *)((long)puVar10 + 1);
          puVar10 = (uint *)((long)puVar10 + 1);
          while( true ) {
            if (bVar24 == 0) goto LAB_001120bf;
            if ((*(byte *)((long)puVar29 + (ulong)bVar24 * 2 + 1) & 1) == 0) break;
            pp_Var16 = __ctype_tolower_loc();
            *(byte *)puVar10 = (byte)(*pp_Var16)[bVar24];
            bVar24 = *(byte *)(uint *)((long)puVar10 + 1);
            puVar10 = (uint *)((long)puVar10 + 1);
          }
        } while( true );
      }
LAB_001120bf:
      pcVar32 = (char *)local_68[1];
      if (param_1 != 0) {
        strlen((char *)local_68[1]);
        iVar21 = WavpackAppendTagItem(param_1,puVar8,pcVar32);
        if (iVar21 == 0) {
LAB_0011254f:
          pcVar7 = (char *)WavpackGetErrorMessage(param_1);
          strcpy((char *)param_4,pcVar7);
LAB_00111b5a:
          local_f4 = -1;
          goto LAB_00111b62;
        }
      }
      local_f4 = local_f4 + 1;
      if (param_5 != (int *)0x0) {
        sVar14 = strlen((char *)puVar8);
        sVar12 = strlen((char *)local_68[1]);
        *param_5 = (int)sVar12 + *param_5 + 1 + (int)sVar14;
      }
    }
    else {
LAB_001121e5:
      pcVar32 = "TALB";
      ppcVar23 = &PTR_s_Album_00318748;
      while( true ) {
        iVar21 = strncmp((char *)&local_4a,pcVar32,4);
        puVar8 = local_68[0];
        if (iVar21 == 0) {
          if (param_1 != 0) {
            strlen((char *)local_68[0]);
            iVar21 = WavpackAppendTagItem(param_1,*ppcVar23,puVar8);
            if (iVar21 == 0) goto LAB_0011254f;
          }
          local_f4 = local_f4 + 1;
          if (param_5 != (int *)0x0) {
            sVar14 = strlen((char *)local_68[0]);
            sVar12 = strlen(*ppcVar23);
            *param_5 = (int)sVar12 + *param_5 + 1 + (int)sVar14;
          }
        }
        if (ppcVar23 + 2 == (char **)&DAT_003188e8) break;
        pcVar32 = ppcVar23[1];
        ppcVar23 = ppcVar23 + 2;
      }
    }
    free(local_68[iVar6 + -1]);
    if (iVar6 + -1 != 0) {
      free(local_68[0]);
    }
  }
LAB_00111c54:
  free(pcVar7);
  if (iVar19 < 10) goto LAB_00111b62;
  goto LAB_00111ac5;
}



ulong FUN_00112820(long param_1,char *param_2,int param_3,undefined8 param_4,undefined4 *param_5)

{
  char *pcVar1;
  uint uVar2;
  ulong uVar3;
  char *pcVar4;
  undefined8 uVar5;
  
  if (param_5 != (undefined4 *)0x0) {
    *param_5 = 0;
  }
  if (param_3 < 10) {
LAB_00112890:
    uVar2 = FUN_00111980(0,param_2,param_3,param_4,param_5,0);
    uVar3 = (ulong)uVar2;
    if ((int)uVar2 < 1) {
      uVar2 = FUN_00111980(0,param_2,param_3,param_4,param_5,1);
      if (0 < (int)uVar2) {
        if (param_1 != 0) {
          uVar5 = 1;
          goto LAB_001128b5;
        }
        uVar3 = (ulong)uVar2;
      }
    }
    else {
      uVar5 = 0;
      if (param_1 != 0) {
LAB_001128b5:
        uVar3 = FUN_00111980(param_1,param_2,param_3,param_4,param_5,uVar5);
        return uVar3;
      }
    }
  }
  else {
    pcVar4 = param_2 + param_3;
    pcVar1 = pcVar4 + -10;
    if (param_2 < pcVar1) {
      do {
        if ((((*param_2 == 'I') && (param_2[1] == 'D')) && (param_2[2] == '3')) &&
           (param_2[3] == '\x03')) {
          param_3 = (int)pcVar4 - (int)param_2;
          goto LAB_0011288a;
        }
        param_2 = param_2 + 1;
      } while (pcVar1 != param_2);
    }
    else {
LAB_0011288a:
      if (pcVar1 != param_2) goto LAB_00112890;
    }
    uVar3 = 0;
  }
  return uVar3;
}



void FUN_00112930(undefined4 param_1,undefined8 param_2,undefined8 param_3)

{
  long lVar1;
  
  _DT_INIT();
  lVar1 = 0;
  do {
    (*(void*(*)())(&__DT_INIT_ARRAY)[lVar1])(param_1,param_2,param_3);
    lVar1 = lVar1 + 1;
  } while (lVar1 != 1);
  return;
}



void FUN_001129a0(void)

{
  return;
}



void FUN_001129b0(char *param_1,stat *param_2)

{
  __xstat(1,param_1,param_2);
  return;
}



void FUN_001129c0(int param_1,stat *param_2)

{
  __fxstat(1,param_1,param_2);
  return;
}



void _DT_FINI(void)

{
  return;
}



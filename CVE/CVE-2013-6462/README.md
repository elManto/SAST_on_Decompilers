# Project 

X.Org - libXfont (https://gitlab.freedesktop.org/xorg), commit fdcf9a9be6a5d453659beadec5d1a1fdbab9afaf

# Description

The bug is a buffer overflow in the src/bitmap/bdfread.c source file. At line 338, a stack buffer is declared as ```bufName[100]```.
However, at line 341, the buffer is written with a ```sscanf(..., '%s', bufName)``` that doesn't check the number of bytes to read.

# Detections

1. cppcheck
2. flawfinder
3. joern
4. ikos 
5. Clang Static Analyser

# Decompiled code

Ghidra decompiler cannot guess the right ```bufName``` size (it computes a 112 stack size instead of 100), however the rest of the code is basically the same and therefore easy to spot.

IDA decompilation fails to recover the size of ```bufName``` and it infers that ```bufName``` is simply a char (not even a pointer)

Although the decompilers cannot infer the correct size of the buffer, static analysis tools detect anyway a potential insecure 'sscanf' invocation

# Actions

time: 6h

1. Headers are in conflicts, it was needed to fix them
2. Sometimes wrongly using '&' and '*' operators
3. Fix function definitions/implementations to make them work
4. Fix some casts from pointer to memory address
